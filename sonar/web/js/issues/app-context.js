define("components/navigator/models/state",[],function(){return Backbone.Model.extend({defaults:{page:1,maxResultsReached:false,query:{},facets:[]},nextPage:function(){var a=this.get("page");this.set({page:a+1})},clearQuery:function(a){var b={};Object.keys(a).forEach(function(c){if(a[c]){b[c]=a[c]}});return b},_areQueriesEqual:function(a,b){var c=Object.keys(a).length===Object.keys(b).length;Object.keys(a).forEach(function(d){c=c&&a[d]===b[d]});return c},updateFilter:function(a){var b=this.get("query"),c=_.extend({},b,a);c=this.clearQuery(c);if(!this._areQueriesEqual(b,c)){this.setQuery(c)}},setQuery:function(a){this.set({query:a},{silent:true});this.set({changed:true});this.trigger("change:query")}})});(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/models/state",["components/navigator/models/state"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.defaults={page:1,maxResultsReached:false,query:{},facets:["severities","resolutions"],isContext:false,allFacets:["issues","severities","resolutions","statuses","createdAt","rules","tags","projectUuids","moduleUuids","directories","fileUuids","assignees","reporters","authors","languages","actionPlans"],facetsFromServer:["severities","statuses","resolutions","actionPlans","projectUuids","directories","rules","moduleUuids","tags","assignees","reporters","authors","fileUuids","languages","createdAt"],transform:{resolved:"resolutions",assigned:"assignees",planned:"actionPlans",createdBefore:"createdAt",createdAfter:"createdAt"}};return c}(a)})}).call(this);Handlebars.registerPartial("_issues-filter-name",Handlebars.template({1:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression,h="  "+g(f((e=a!=null?a.filter:a)!=null?e.name:e,a))+'\n  <span class="subtitle nowrap">\n';e=b.unless.call(a,(e=a!=null?a.filter:a)!=null?e.shared:e,{name:"unless",hash:{},fn:this.program(2,d),inverse:this.program(4,d),data:d});if(e!=null){h+=e}return h+"  </span>\n"},2:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return"      ["+f((b.t||a&&a.t||e).call(a,"issue_filter.private",{name:"t",hash:{},data:d}))+"]\n"},4:function(a,b,c,d){var e,f=b.helperMissing,g="";e=(b.eq||a&&a.eq||f).call(a,(e=a!=null?a.filter:a)!=null?e.user:e,a!=null?a.currentUser:a,{name:"eq",hash:{},fn:this.program(5,d),inverse:this.program(7,d),data:d});if(e!=null){g+=e}return g},5:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return"        ["+f((b.t||a&&a.t||e).call(a,"issue_filter.shared_with_all_users",{name:"t",hash:{},data:d}))+"]\n"},7:function(a,b,c,d){var e,f="";e=b["if"].call(a,(e=a!=null?a.filter:a)!=null?e.user:e,{name:"if",hash:{},fn:this.program(8,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f},8:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return"          ["+f((b.t||a&&a.t||e).call(a,"issue_filter.shared",{name:"t",hash:{},data:d}))+"]\n"},10:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return"  "+f((b.t||a&&a.t||e).call(a,"issues",{name:"t",hash:{},data:d}))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="";e=b["if"].call(a,(e=a!=null?a.filter:a)!=null?e.name:e,{name:"if",hash:{},fn:this.program(1,d),inverse:this.program(10,d),data:d});if(e!=null){f+=e}return f},useData:true}));Handlebars.registerPartial("_issues-facet-header",Handlebars.template({1:function(a,b,c,d){return"icon-checkbox-checked"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h='<a class="search-navigator-facet-header js-facet-toggle">\n  <i class="icon-checkbox ';e=b["if"].call(a,a!=null?a.enabled:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h+'"></i>\n  '+g((b.t||a&&a.t||f).call(a,"issues.facet",a!=null?a.property:a,{name:"t",hash:{},data:d}))+"\n</a>\n"},useData:true}));this["Templates"]=this["Templates"]||{};this["Templates"]["issues-action-plan-facet"]=Handlebars.template({1:function(a,b,c,d){var e,f=b.helperMissing,g="";e=(b.eq||a&&a.eq||f).call(a,a!=null?a.val:a,"",{name:"eq",hash:{},fn:this.program(2,d),inverse:this.program(4,d),data:d});if(e!=null){g+=e}return g},2:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'      <a class="facet search-navigator-facet js-facet" data-unplanned title="'+f((b.t||a&&a.t||e).call(a,"issue.unplanned",{name:"t",hash:{},data:d}))+'">\n        <span class="facet-name">'+f((b.t||a&&a.t||e).call(a,"issue.unplanned",{name:"t",hash:{},data:d}))+'</span>\n        <span class="facet-stat">'+f((b.numberShort||a&&a.numberShort||e).call(a,a!=null?a.count:a,{name:"numberShort",hash:{},data:d}))+"</span>\n      </a>\n"},4:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'      <a class="facet search-navigator-facet js-facet" data-value="'+h((e=(e=b.val||(a!=null?a.val:a))!=null?e:g,typeof e===f?e.call(a,{name:"val",hash:{},data:d}):e))+'" title="'+h((e=(e=b.label||(a!=null?a.label:a))!=null?e:g,typeof e===f?e.call(a,{name:"label",hash:{},data:d}):e))+'">\n        <span class="facet-name">'+h((e=(e=b.label||(a!=null?a.label:a))!=null?e:g,typeof e===f?e.call(a,{name:"label",hash:{},data:d}):e))+'</span>\n        <span class="facet-stat">'+h((b.numberShort||a&&a.numberShort||g).call(a,a!=null?a.count:a,{name:"numberShort",hash:{},data:d}))+"</span>\n      </a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="";e=this.invokePartial(c["_issues-facet-header"],"","_issues-facet-header",a,undefined,b,c,d);if(e!=null){f+=e}f+='\n<div class="search-navigator-facet-list">\n';e=b.each.call(a,a!=null?a.values:a,{name:"each",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f+"</div>\n"},usePartial:true,useData:true});this["Templates"]["issues-assignee-facet"]=Handlebars.template({1:function(a,b,c,d){var e,f=b.helperMissing,g="";e=(b.eq||a&&a.eq||f).call(a,a!=null?a.val:a,"",{name:"eq",hash:{},fn:this.program(2,d),inverse:this.program(4,d),data:d});if(e!=null){g+=e}return g},2:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'      <a class="facet search-navigator-facet js-facet" data-unassigned title="'+f((b.t||a&&a.t||e).call(a,"unassigned",{name:"t",hash:{},data:d}))+'">\n        <span class="facet-name">'+f((b.t||a&&a.t||e).call(a,"unassigned",{name:"t",hash:{},data:d}))+'</span>\n        <span class="facet-stat">'+f((b.numberShort||a&&a.numberShort||e).call(a,a!=null?a.count:a,{name:"numberShort",hash:{},data:d}))+"</span>\n      </a>\n"},4:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'      <a class="facet search-navigator-facet js-facet" data-value="'+h((e=(e=b.val||(a!=null?a.val:a))!=null?e:g,typeof e===f?e.call(a,{name:"val",hash:{},data:d}):e))+'" title="'+h((e=(e=b.label||(a!=null?a.label:a))!=null?e:g,typeof e===f?e.call(a,{name:"label",hash:{},data:d}):e))+'">\n        <span class="facet-name">'+h((e=(e=b.label||(a!=null?a.label:a))!=null?e:g,typeof e===f?e.call(a,{name:"label",hash:{},data:d}):e))+'</span>\n        <span class="facet-stat">'+h((b.numberShort||a&&a.numberShort||g).call(a,a!=null?a.count:a,{name:"numberShort",hash:{},data:d}))+"</span>\n      </a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="";e=this.invokePartial(c["_issues-facet-header"],"","_issues-facet-header",a,undefined,b,c,d);if(e!=null){f+=e}f+='\n<div class="search-navigator-facet-list">\n';e=b.each.call(a,a!=null?a.values:a,{name:"each",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f+'\n  <div class="search-navigator-facet-custom-value">\n    <input type="hidden" class="js-custom-value">\n  </div>\n</div>\n'},usePartial:true,useData:true});this["Templates"]["issues-base-facet"]=Handlebars.template({1:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'    <a class="facet search-navigator-facet js-facet" data-value="'+h((e=(e=b.val||(a!=null?a.val:a))!=null?e:g,typeof e===f?e.call(a,{name:"val",hash:{},data:d}):e))+'" title="'+h((b["default"]||a&&a["default"]||g).call(a,a!=null?a.label:a,a!=null?a.val:a,{name:"default",hash:{},data:d}))+'">\n      <span class="facet-name">'+h((b["default"]||a&&a["default"]||g).call(a,a!=null?a.label:a,a!=null?a.val:a,{name:"default",hash:{},data:d}))+'</span>\n      <span class="facet-stat">'+h((b.numberShort||a&&a.numberShort||g).call(a,a!=null?a.count:a,{name:"numberShort",hash:{},data:d}))+"</span>\n    </a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="";e=this.invokePartial(c["_issues-facet-header"],"","_issues-facet-header",a,undefined,b,c,d);if(e!=null){f+=e}f+='\n<div class="search-navigator-facet-list">\n';e=b.each.call(a,a!=null?a.values:a,{name:"each",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f+"</div>\n"},usePartial:true,useData:true});this["Templates"]["issues-context-facet"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h=this.lambda;return'<div class="search-navigator-facet-query">\n  Issues of &nbsp;&nbsp; '+g((b.qualifierIcon||a&&a.qualifierIcon||f).call(a,(e=a!=null?a.state:a)!=null?e.contextComponentQualifier:e,{name:"qualifierIcon",hash:{},data:d}))+"&nbsp;"+g(h((e=a!=null?a.state:a)!=null?e.contextComponentName:e,a))+"\n</div>\n"},useData:true});this["Templates"]["issues-creation-date-facet"]=Handlebars.template({1:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'  <input type="hidden" name="createdAt">\n  <div class="search-navigator-facet-container">\n    '+f((b.dt||a&&a.dt||e).call(a,a!=null?a.createdAt:a,{name:"dt",hash:{},data:d}))+" ("+f((b.fromNow||a&&a.fromNow||e).call(a,a!=null?a.createdAt:a,{name:"fromNow",hash:{},data:d}))+")\n  </div>\n"},3:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h='  <div class="search-navigator-facet-container">\n    <div class="js-barchart" data-height="75" ';e=b["if"].call(a,a!=null?a.periodEnd:a,{name:"if",hash:{},fn:this.program(4,d),inverse:this.noop,data:d});if(e!=null){h+=e}h+='></div>\n    <div class="search-navigator-date-facet-selection">\n      <a class="js-select-period-start search-navigator-date-facet-selection-dropdown-left">\n        ';e=b["if"].call(a,a!=null?a.periodStart:a,{name:"if",hash:{},fn:this.program(6,d),inverse:this.program(8,d),data:d});if(e!=null){h+=e}h+='&nbsp;<i class="icon-dropdown"></i>\n      </a>\n      <a class="js-select-period-end search-navigator-date-facet-selection-dropdown-right">\n        ';e=b["if"].call(a,a!=null?a.periodEnd:a,{name:"if",hash:{},fn:this.program(10,d),inverse:this.program(12,d),data:d});if(e!=null){h+=e}h+='&nbsp;<i class="icon-dropdown"></i>\n      </a>\n      <input class="js-period-start search-navigator-date-facet-selection-input-left"\n             type="text" value="';e=b["if"].call(a,a!=null?a.periodStart:a,{name:"if",hash:{},fn:this.program(14,d),inverse:this.noop,data:d});if(e!=null){h+=e}h+='" name="createdAfter">\n      <input class="js-period-end search-navigator-date-facet-selection-input-right"\n             type="text" value="';e=b["if"].call(a,a!=null?a.periodEnd:a,{name:"if",hash:{},fn:this.program(16,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h+'" name="createdBefore">\n    </div>\n\n    <div class="spacer-top">\n      <span class="spacer-right">'+g((b.t||a&&a.t||f).call(a,"issues.facet.createdAt.or",{name:"t",hash:{},data:d}))+'</span>\n      <a class="js-all spacer-right">'+g((b.t||a&&a.t||f).call(a,"issues.facet.createdAt.all",{name:"t",hash:{},data:d}))+'</a>\n      <a class="js-last-week spacer-right">'+g((b.t||a&&a.t||f).call(a,"issues.facet.createdAt.last_week",{name:"t",hash:{},data:d}))+'</a>\n      <a class="js-last-month spacer-right">'+g((b.t||a&&a.t||f).call(a,"issues.facet.createdAt.last_month",{name:"t",hash:{},data:d}))+'</a>\n      <a class="js-last-year">'+g((b.t||a&&a.t||f).call(a,"issues.facet.createdAt.last_year",{name:"t",hash:{},data:d}))+"</a>\n    </div>\n  </div>\n"},4:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'data-end-date="'+h((e=(e=b.periodEnd||(a!=null?a.periodEnd:a))!=null?e:g,typeof e===f?e.call(a,{name:"periodEnd",hash:{},data:d}):e))+'"'},6:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return f((b.d||a&&a.d||e).call(a,a!=null?a.periodStart:a,{name:"d",hash:{},data:d}))},8:function(a,b,c,d){return"Past"},10:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return f((b.d||a&&a.d||e).call(a,a!=null?a.periodEnd:a,{name:"d",hash:{},data:d}))},12:function(a,b,c,d){return"Now"},14:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return f((b.ds||a&&a.ds||e).call(a,a!=null?a.periodStart:a,{name:"ds",hash:{},data:d}))},16:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return f((b.ds||a&&a.ds||e).call(a,a!=null?a.periodEnd:a,{name:"ds",hash:{},data:d}))},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="";e=this.invokePartial(c["_issues-facet-header"],"","_issues-facet-header",a,undefined,b,c,d);if(e!=null){f+=e}f+="\n";e=b["if"].call(a,a!=null?a.createdAt:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.program(3,d),data:d});if(e!=null){f+=e}return f},usePartial:true,useData:true});this["Templates"]["issues-custom-values-facet"]=Handlebars.template({1:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='    <a class="facet search-navigator-facet js-facet" data-value="'+i((f=(f=b.val||(a!=null?a.val:a))!=null?f:h,typeof f===g?f.call(a,{name:"val",hash:{},data:d}):f))+'" title="';e=b["if"].call(a,a!=null?a.extra:a,{name:"if",hash:{},fn:this.program(2,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j+i((b["default"]||a&&a["default"]||h).call(a,a!=null?a.label:a,a!=null?a.val:a,{name:"default",hash:{},data:d}))+'">\n      <span class="facet-name">'+i((b["default"]||a&&a["default"]||h).call(a,a!=null?a.label:a,a!=null?a.val:a,{name:"default",hash:{},data:d}))+'</span>\n      <span class="facet-stat">'+i((b.numberShort||a&&a.numberShort||h).call(a,a!=null?a.count:a,{name:"numberShort",hash:{},data:d}))+"</span>\n    </a>\n"},2:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return"("+h((e=(e=b.extra||(a!=null?a.extra:a))!=null?e:g,typeof e===f?e.call(a,{name:"extra",hash:{},data:d}):e))+") "},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="";e=this.invokePartial(c["_issues-facet-header"],"","_issues-facet-header",a,undefined,b,c,d);if(e!=null){f+=e}f+='\n<div class="search-navigator-facet-list">\n';e=b.each.call(a,a!=null?a.values:a,{name:"each",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f+'\n  <div class="search-navigator-facet-custom-value">\n    <input type="hidden" class="js-custom-value">\n  </div>\n</div>\n'},usePartial:true,useData:true});this["Templates"]["issues-file-facet"]=Handlebars.template({1:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'    <a class="facet search-navigator-facet js-facet" data-value="'+h((e=(e=b.val||(a!=null?a.val:a))!=null?e:g,typeof e===f?e.call(a,{name:"val",hash:{},data:d}):e))+'" title="'+h((b["default"]||a&&a["default"]||g).call(a,a!=null?a.label:a,a!=null?a.val:a,{name:"default",hash:{},data:d}))+'">\n      <span class="facet-name">'+h((b["default"]||a&&a["default"]||g).call(a,a!=null?a.label:a,a!=null?a.val:a,{name:"default",hash:{},data:d}))+'</span>\n      <span class="facet-stat">'+h((b.numberShort||a&&a.numberShort||g).call(a,a!=null?a.count:a,{name:"numberShort",hash:{},data:d}))+"</span>\n    </a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="";e=this.invokePartial(c["_issues-facet-header"],"","_issues-facet-header",a,undefined,b,c,d);if(e!=null){f+=e}f+='\n<div class="search-navigator-facet-list search-navigator-facet-list-align-right">\n';e=b.each.call(a,a!=null?a.values:a,{name:"each",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f+"</div>\n"},usePartial:true,useData:true});this["Templates"]["issues-issue-key-facet"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j="";e=this.invokePartial(c["_issues-facet-header"],"","_issues-facet-header",a,undefined,b,c,d);if(e!=null){j+=e}return j+'\n<div class="search-navigator-facet-container">\n  <div class="facet search-navigator-facet active" style="cursor: default;">\n    <span class="facet-name">'+i((f=(f=b.issues||(a!=null?a.issues:a))!=null?f:h,typeof f===g?f.call(a,{name:"issues",hash:{},data:d}):f))+"</span>\n  </div>\n</div>\n"},usePartial:true,useData:true});this["Templates"]["issues-resolution-facet"]=Handlebars.template({1:function(a,b,c,d){var e,f=b.helperMissing,g="";e=(b.eq||a&&a.eq||f).call(a,a!=null?a.val:a,"",{name:"eq",hash:{},fn:this.program(2,d),inverse:this.program(4,d),data:d});if(e!=null){g+=e}return g},2:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'      <a class="facet search-navigator-facet search-navigator-facet-half js-facet" data-unresolved\n         title="'+f((b.t||a&&a.t||e).call(a,"issue.unresolved.description",{name:"t",hash:{},data:d}))+'" data-toggle="tooltip" data-placement="right">\n        <span class="facet-name">'+f((b.t||a&&a.t||e).call(a,"unresolved",{name:"t",hash:{},data:d}))+'</span>\n        <span class="facet-stat">'+f((b.numberShort||a&&a.numberShort||e).call(a,a!=null?a.count:a,{name:"numberShort",hash:{},data:d}))+"</span>\n      </a>\n"},4:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'      <a class="facet search-navigator-facet search-navigator-facet-half js-facet" data-value="'+h((e=(e=b.val||(a!=null?a.val:a))!=null?e:g,typeof e===f?e.call(a,{name:"val",hash:{},data:d}):e))+'"\n         title="'+h((b.t||a&&a.t||g).call(a,"issue.resolution",a!=null?a.val:a,"description",{name:"t",hash:{},data:d}))+'" data-toggle="tooltip" data-placement="right">\n        <span class="facet-name">'+h((b.t||a&&a.t||g).call(a,"issue.resolution",a!=null?a.val:a,{name:"t",hash:{},data:d}))+'</span>\n        <span class="facet-stat">'+h((b.numberShort||a&&a.numberShort||g).call(a,a!=null?a.count:a,{name:"numberShort",hash:{},data:d}))+"</span>\n      </a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="";e=this.invokePartial(c["_issues-facet-header"],"","_issues-facet-header",a,undefined,b,c,d);if(e!=null){f+=e}f+='\n<div class="search-navigator-facet-list">\n';e=b.each.call(a,a!=null?a.values:a,{name:"each",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f+"</div>\n"},usePartial:true,useData:true});this["Templates"]["issues-severity-facet"]=Handlebars.template({1:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'    <a class="facet search-navigator-facet search-navigator-facet-half js-facet"\n       data-value="'+h((e=(e=b.val||(a!=null?a.val:a))!=null?e:g,typeof e===f?e.call(a,{name:"val",hash:{},data:d}):e))+'" title="'+h((b.t||a&&a.t||g).call(a,"severity",a!=null?a.val:a,"description",{name:"t",hash:{},data:d}))+'" data-toggle="tooltip" data-placement="right">\n      <span class="facet-name">'+h((b.severityIcon||a&&a.severityIcon||g).call(a,a!=null?a.val:a,{name:"severityIcon",hash:{},data:d}))+" "+h((b.t||a&&a.t||g).call(a,"severity",a!=null?a.val:a,{name:"t",hash:{},data:d}))+'</span>\n      <span class="facet-stat">'+h((b.numberShort||a&&a.numberShort||g).call(a,a!=null?a.count:a,{name:"numberShort",hash:{},data:d}))+"</span>\n    </a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="";e=this.invokePartial(c["_issues-facet-header"],"","_issues-facet-header",a,undefined,b,c,d);if(e!=null){f+=e}f+='\n<div class="search-navigator-facet-list">\n';e=b.each.call(a,a!=null?a.values:a,{name:"each",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f+"</div>\n"},usePartial:true,useData:true});this["Templates"]["issues-status-facet"]=Handlebars.template({1:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'    <a class="facet search-navigator-facet search-navigator-facet-half js-facet"\n       data-value="'+h((e=(e=b.val||(a!=null?a.val:a))!=null?e:g,typeof e===f?e.call(a,{name:"val",hash:{},data:d}):e))+'" title="'+h((b.t||a&&a.t||g).call(a,"issue.status",a!=null?a.val:a,"description",{name:"t",hash:{},data:d}))+'" data-toggle="tooltip" data-placement="right">\n      <span class="facet-name">'+h((b.statusIcon||a&&a.statusIcon||g).call(a,a!=null?a.val:a,{name:"statusIcon",hash:{},data:d}))+" "+h((b.t||a&&a.t||g).call(a,"issue.status",a!=null?a.val:a,{name:"t",hash:{},data:d}))+'</span>\n      <span class="facet-stat">'+h((b.numberShort||a&&a.numberShort||g).call(a,a!=null?a.count:a,{name:"numberShort",hash:{},data:d}))+"</span>\n    </a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="";e=this.invokePartial(c["_issues-facet-header"],"","_issues-facet-header",a,undefined,b,c,d);if(e!=null){f+=e}f+='\n<div class="search-navigator-facet-list">\n';e=b.each.call(a,a!=null?a.values:a,{name:"each",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f+"</div>\n"},usePartial:true,useData:true});this["Templates"]["issues-filters"]=Handlebars.template({1:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'    <a class="search-navigator-filters-button search-navigator-filters-filter js-filter" data-id="'+h((e=(e=b.id||(a!=null?a.id:a))!=null?e:g,typeof e===f?e.call(a,{name:"id",hash:{},data:d}):e))+'">'+h((e=(e=b.name||(a!=null?a.name:a))!=null?e:g,typeof e===f?e.call(a,{name:"name",hash:{},data:d}):e))+"</a>\n    <br>\n"},3:function(a,b,c,d){var e,f='    <a class="search-navigator-filters-show-list js-toggle-filters">\n      <i class="icon-list"></i>&nbsp;<span class="issues-filters-name">';e=this.invokePartial(c["_issues-filter-name"],"","_issues-filter-name",a,undefined,b,c,d);if(e!=null){f+=e}f+="</span>\n    </a>\n";e=b["if"].call(a,(e=a!=null?a.filter:a)!=null?e.description:e,{name:"if",hash:{},fn:this.program(4,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f},4:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression;return'      <div class="search-navigator-filters-description">'+g(f((e=a!=null?a.filter:a)!=null?e.description:e,a))+"</div>\n"},6:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'    <span class="search-navigator-filters-name">'+f((b.t||a&&a.t||e).call(a,"issues",{name:"t",hash:{},data:d}))+"</span>\n"},8:function(a,b,c,d){var e,f="";e=b["if"].call(a,(e=a!=null?a.filter:a)!=null?e.canModify:e,{name:"if",hash:{},fn:this.program(9,d),inverse:this.noop,data:d});if(e!=null){f+=e}f+="\n";e=b.unless.call(a,(e=a!=null?a.filter:a)!=null?e.id:e,{name:"unless",hash:{},fn:this.program(12,d),inverse:this.noop,data:d});if(e!=null){f+=e}f+="\n";e=b["if"].call(a,(e=a!=null?a.filter:a)!=null?e.id:e,{name:"if",hash:{},fn:this.program(14,d),inverse:this.noop,data:d});if(e!=null){f+=e}f+="\n";e=b["if"].call(a,(e=a!=null?a.filter:a)!=null?e.canModify:e,{name:"if",hash:{},fn:this.program(17,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f},9:function(a,b,c,d){var e,f="";e=b["if"].call(a,(e=a!=null?a.state:a)!=null?e.changed:e,{name:"if",hash:{},fn:this.program(10,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f},10:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'          <button class="js-filter-save" id="issues-filter-save">'+f((b.t||a&&a.t||e).call(a,"save",{name:"t",hash:{},data:d}))+"</button>\n"},12:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'        <button class="js-filter-save-as" id="issues-filter-save-as">'+f((b.t||a&&a.t||e).call(a,"save_as",{name:"t",hash:{},data:d}))+"</button>\n"},14:function(a,b,c,d){var e,f="";e=b.unless.call(a,(e=a!=null?a.state:a)!=null?e.changed:e,{name:"unless",hash:{},fn:this.program(15,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f},15:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'          <button class="js-filter-copy" id="issues-filter-copy">'+f((b.t||a&&a.t||e).call(a,"copy",{name:"t",hash:{},data:d}))+"</button>\n"},17:function(a,b,c,d){var e,f="";e=b["if"].call(a,(e=a!=null?a.filter:a)!=null?e.id:e,{name:"if",hash:{},fn:this.program(18,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f},18:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'          <button class="js-filter-edit" id="issues-filter-edit">'+f((b.t||a&&a.t||e).call(a,"edit",{name:"t",hash:{},data:d}))+"</button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h='<div class="search-navigator-filters-list">\n';e=b.each.call(a,a!=null?a.items:a,{name:"each",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){h+=e}h+='  <a class="search-navigator-filters-manage" href="'+g((b.link||a&&a.link||f).call(a,"/issues/manage",{name:"link",hash:{},data:d}))+'"><i class="icon-settings"></i> '+g((b.t||a&&a.t||f).call(a,"manage",{name:"t",hash:{},data:d}))+'</a>\n</div>\n\n<h1 class="page-title">\n';e=b["if"].call(a,(e=a!=null?a.state:a)!=null?e.canManageFilters:e,{name:"if",hash:{},fn:this.program(3,d),inverse:this.program(6,d),data:d});if(e!=null){h+=e}h+='</h1>\n\n<div class="page-actions">\n  <div class="button-group">\n';e=b["if"].call(a,(e=a!=null?a.state:a)!=null?e.canManageFilters:e,{name:"if",hash:{},fn:this.program(8,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h+"  </div>\n</div>\n"},usePartial:true,useData:true});this["Templates"]["issues-layout"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<div class="search-navigator-side">\n  <div class="search-navigator-filters"></div>\n  <div class="search-navigator-facets"></div>\n</div>\n\n<div class="search-navigator-workspace">\n  <div class="search-navigator-workspace-header"></div>\n  <div class="search-navigator-workspace-list"></div>\n  <div class="issues-workspace-component-viewer"></div>\n</div>\n'},useData:true});this["Templates"]["issues-workspace-header"]=Handlebars.template({1:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h='    <a class="js-back">'+g((b.t||a&&a.t||f).call(a,"issues.return_to_list",{name:"t",hash:{},data:d}))+"</a>&nbsp;&nbsp;&nbsp;\n\n";e=b["with"].call(a,(e=a!=null?a.state:a)!=null?e.component:e,{name:"with",hash:{},fn:this.program(2,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h},2:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h="function";return"      "+g((b.qualifierIcon||a&&a.qualifierIcon||f).call(a,"TRK",{name:"qualifierIcon",hash:{},data:d}))+'&nbsp;<a href="'+g((b.dashboardUrl||a&&a.dashboardUrl||f).call(a,a!=null?a.project:a,{name:"dashboardUrl",hash:{},data:d}))+'" title="'+g((e=(e=b.projectName||(a!=null?a.projectName:a))!=null?e:f,typeof e===h?e.call(a,{name:"projectName",hash:{},data:d}):e))+'">'+g((e=(e=b.projectName||(a!=null?a.projectName:a))!=null?e:f,typeof e===h?e.call(a,{name:"projectName",hash:{},data:d}):e))+"</a>\n      &nbsp;&nbsp;\n      "+g((b.qualifierIcon||a&&a.qualifierIcon||f).call(a,a!=null?a.qualifier:a,{name:"qualifierIcon",hash:{},data:d}))+'&nbsp;<a href="'+g((b.dashboardUrl||a&&a.dashboardUrl||f).call(a,a!=null?a.key:a,{name:"dashboardUrl",hash:{},data:d}))+'" title="'+g((e=(e=b.name||(a!=null?a.name:a))!=null?e:f,typeof e===h?e.call(a,{name:"name",hash:{},data:d}):e))+'">'+g((e=(e=b.name||(a!=null?a.name:a))!=null?e:f,typeof e===h?e.call(a,{name:"name",hash:{},data:d}):e))+"</a>\n"},4:function(a,b,c,d){return"    &nbsp;\n"},6:function(a,b,c,d){var e,f=b.helperMissing,g='    <div class="search-navigator-header-pagination">\n';e=(b.gt||a&&a.gt||f).call(a,(e=a!=null?a.state:a)!=null?e.total:e,0,{name:"gt",hash:{},fn:this.program(7,d),inverse:this.program(9,d),data:d});if(e!=null){g+=e}return g+"    </div>\n"},7:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h=this.lambda;return'        <a class="js-prev icon-prev" title="'+g((b.t||a&&a.t||f).call(a,"paging_previous",{name:"t",hash:{},data:d}))+'"></a>\n        <span class="current">'+g((b.sum||a&&a.sum||f).call(a,(e=a!=null?a.state:a)!=null?e.selectedIndex:e,1,{name:"sum",hash:{},data:d}))+' / <span id="issues-total">'+g(h((e=a!=null?a.state:a)!=null?e.total:e,a))+'</span></span>\n        <a class="js-next icon-next" title="'+g((b.t||a&&a.t||f).call(a,"paging_next",{name:"t",hash:{},data:d}))+'"></a>\n'},9:function(a,b,c,d){return'        <span class="current">0 / <span id="issues-total">0</span></span>\n'},11:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'      <button id="issues-bulk-change" class="js-bulk-change">'+f((b.t||a&&a.t||e).call(a,"bulk_change",{name:"t",hash:{},data:d}))+"</button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h='<div class="issues-header-component nowrap">\n';e=b["if"].call(a,(e=a!=null?a.state:a)!=null?e.component:e,{name:"if",hash:{},fn:this.program(1,d),inverse:this.program(4,d),data:d});if(e!=null){h+=e}h+='</div>\n\n\n<div class="search-navigator-header-actions">\n';e=(b.notNull||a&&a.notNull||f).call(a,(e=a!=null?a.state:a)!=null?e.total:e,{name:"notNull",hash:{},fn:this.program(6,d),inverse:this.noop,data:d});if(e!=null){h+=e}h+='\n\n  <div class="search-navigator-header-buttons button-group">\n    <button id="issues-reload" class="js-reload">'+g((b.t||a&&a.t||f).call(a,"reload",{name:"t",hash:{},data:d}))+'</button>\n    <button class="js-new-search" id="issues-new-search">'+g((b.t||a&&a.t||f).call(a,"issue_filter.new_search",{name:"t",hash:{},data:d}))+"</button>\n";e=b["if"].call(a,(e=a!=null?a.state:a)!=null?e.canBulkChange:e,{name:"if",hash:{},fn:this.program(11,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h+"  </div>\n</div>\n"},useData:true});this["Templates"]["issues-workspace-list-component"]=Handlebars.template({1:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h="function";return'    <a class="issues-workspace-list-component-part" href="'+g((b.dashboardUrl||a&&a.dashboardUrl||f).call(a,a!=null?a.subProject:a,{name:"dashboardUrl",hash:{},data:d}))+'">\n      '+g((b.qualifierIcon||a&&a.qualifierIcon||f).call(a,"TRK",{name:"qualifierIcon",hash:{},data:d}))+"&nbsp;"+g((e=(e=b.subProjectLongName||(a!=null?a.subProjectLongName:a))!=null?e:f,typeof e===h?e.call(a,{name:"subProjectLongName",hash:{},data:d}):e))+"\n    </a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g=b.helperMissing,h=this.escapeExpression,i="function",j='<div class="issues-workspace-list-component">\n  <a class="issues-workspace-list-component-part" href="'+h((b.dashboardUrl||a&&a.dashboardUrl||g).call(a,a!=null?a.project:a,{name:"dashboardUrl",hash:{},data:d}))+'">\n    '+h((b.qualifierIcon||a&&a.qualifierIcon||g).call(a,"TRK",{name:"qualifierIcon",hash:{},data:d}))+"&nbsp;"+h((f=(f=b.projectLongName||(a!=null?a.projectLongName:a))!=null?f:g,typeof f===i?f.call(a,{name:"projectLongName",hash:{},data:d}):f))+"\n  </a>\n";e=b["if"].call(a,a!=null?a.subProject:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j+'  <a class="issues-workspace-list-component-part" href="'+h((b.dashboardUrl||a&&a.dashboardUrl||g).call(a,a!=null?a.component:a,{name:"dashboardUrl",hash:{},data:d}))+'">\n    '+h((b.qualifierIcon||a&&a.qualifierIcon||g).call(a,a!=null?a.componentQualifier:a,{name:"qualifierIcon",hash:{},data:d}))+"&nbsp;"+h((f=(f=b.componentLongName||(a!=null?a.componentLongName:a))!=null?f:g,typeof f===i?f.call(a,{name:"componentLongName",
hash:{},data:d}):f))+"\n  </a>\n</div>\n"},useData:true});this["Templates"]["issues-workspace-list-item"]=Handlebars.template({1:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return" (line "+h((e=(e=b.line||(a!=null?a.line:a))!=null?e:g,typeof e===f?e.call(a,{name:"line",hash:{},data:d}):e))+")"},3:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='  <div class="issue-box-snippet code-source js-issues-snippet">\n    <table class="code">\n      <tr class="row">\n';e=b["if"].call(a,a!=null?a.scmAuthor:a,{name:"if",hash:{},fn:this.program(4,d),inverse:this.noop,data:d});if(e!=null){j+=e}j+='        <td class="stat lid">'+i((f=(f=b.line||(a!=null?a.line:a))!=null?f:h,typeof f===g?f.call(a,{name:"line",hash:{},data:d}):f))+'</td>\n        <td class="line issue"><pre>';e=(f=(f=b.source||(a!=null?a.source:a))!=null?f:h,typeof f===g?f.call(a,{name:"source",hash:{},data:d}):f);if(e!=null){j+=e}return j+"</pre></td>\n      </tr>\n    </table>\n  </div>\n"},4:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'          <td class="stat scm">\n            <span class="scm-date">'+h((e=(e=b.scmDate||(a!=null?a.scmDate:a))!=null?e:g,typeof e===f?e.call(a,{name:"scmDate",hash:{},data:d}):e))+'</span>\n            <span class="scm-author" title="'+h((e=(e=b.scmAuthor||(a!=null?a.scmAuthor:a))!=null?e:g,typeof e===f?e.call(a,{name:"scmAuthor",hash:{},data:d}):e))+'">'+h((e=(e=b.scmAuthor||(a!=null?a.scmAuthor:a))!=null?e:g,typeof e===f?e.call(a,{name:"scmAuthor",hash:{},data:d}):e))+"</span>\n          </td>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g=b.helperMissing,h=this.escapeExpression,i="function",j='<div class="issue-box-component subtitle">\n  <a href="'+h((b.dashboardUrl||a&&a.dashboardUrl||g).call(a,a!=null?a.project:a,{name:"dashboardUrl",hash:{},data:d}))+'">'+h((f=(f=b.projectLongName||(a!=null?a.projectLongName:a))!=null?f:g,typeof f===i?f.call(a,{name:"projectLongName",hash:{},data:d}):f))+'</a>\n  /\n  <a class="js-issues-to-source">'+h((f=(f=b.componentLongName||(a!=null?a.componentLongName:a))!=null?f:g,typeof f===i?f.call(a,{name:"componentLongName",hash:{},data:d}):f));e=b["if"].call(a,a!=null?a.line:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){j+=e}j+="</a>\n</div>\n\n";e=b["if"].call(a,a!=null?a.source:a,{name:"if",hash:{},fn:this.program(3,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j+'\n<div class="issue-box-details"></div>\n'},useData:true});this["Templates"]["issues-workspace-list"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<div class="js-list"></div>\n\n<div class="search-navigator-workspace-list-more js-more">\n  <i class="spinner"></i>\n</div>\n'},useData:true});define("templates/issues",function(){});(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/layout",["templates/issues"],function(){var a;a=jQuery;return function(c){b(d,c);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.template=Templates["issues-layout"];d.prototype.regions={filtersRegion:".search-navigator-filters",facetsRegion:".search-navigator-facets",workspaceHeaderRegion:".search-navigator-workspace-header",workspaceListRegion:".search-navigator-workspace-list",workspaceComponentViewerRegion:".issues-workspace-component-viewer"};d.prototype.onRender=function(){var b;if(this.options.app.state.get("isContext")){this.$(this.filtersRegion.el).addClass("hidden")}a(".search-navigator").addClass("sticky");b=a(".search-navigator").offset().top;this.$(".search-navigator-workspace-header").css({top:b});return this.$(".search-navigator-side").css({top:b}).isolatedScroll()};d.prototype.showSpinner=function(a){return this[a].show(new Marionette.ItemView({template:_.template('<i class="spinner"></i>')}))};d.prototype.showComponentViewer=function(){this.scroll=a(window).scrollTop();return a(".issues").addClass("issues-extended-view")};d.prototype.hideComponentViewer=function(){a(".issues").removeClass("issues-extended-view");if(this.scroll!=null){return a(window).scrollTop(this.scroll)}};return d}(Marionette.Layout)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issue/models/issue",[],function(){var a;return a=function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.idAttribute="key";c.prototype.url=function(){return""+baseUrl+"/api/issues/show?key="+this.get("key")};c.prototype.parse=function(a){if(a.issue){return a.issue}else{return a}};return c}(Backbone.Model)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/models/issues",["issue/models/issue"],function(a){return function(c){b(d,c);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.model=a;d.prototype.url=function(){return""+baseUrl+"/api/issues/search"};d.prototype.parseIssues=function(a){var b;b=function(a,b,c){var d;d={};d[c||"key"]=b;return _.findWhere(a,d)||b};return a.issues.map(function(c,d){var e,f,g,h,i,j,k;e=b(a.components,c.component);f=b(a.projects,c.project);k=b(a.components,c.subProject);g=b(a.rules,c.rule);_.extend(c,{index:d});if(e){_.extend(c,{componentUuid:e.uuid,componentLongName:e.longName,componentQualifier:e.qualifier})}if(f){_.extend(c,{projectLongName:f.longName})}if(k){_.extend(c,{subProjectLongName:k.longName})}if(g){_.extend(c,{ruleName:g.name})}if(_.isArray(c.sources)&&c.sources.length>0){j="";c.sources.forEach(function(a){if(a[0]===c.line){return j=a[1]}});_.extend(c,{source:j})}if(_.isArray(c.scm)&&c.scm.length>0){h="";i="";c.scm.forEach(function(a){if(a[0]===c.line){h=a[1];return i=a[2]}});_.extend(c,{scmAuthor:h,scmDate:i})}return c})};d.prototype.setIndex=function(){return this.forEach(function(a,b){return a.set({index:b})})};return d}(Backbone.Collection)})}).call(this);define("components/navigator/models/facet",[],function(){return Backbone.Model.extend({idAttribute:"property",defaults:{enabled:false},getValues:function(){return this.get("values")||[]},toggle:function(){var a=this.get("enabled");this.set({enabled:!a})}})});define("components/navigator/models/facets",["components/navigator/models/facet"],function(a){return Backbone.Collection.extend({model:a})});(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/models/filter",[],function(){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.url=function(){return"/api/issue_filters/show/"+this.id};c.prototype.parse=function(a){if(a.filter!=null){return a.filter}else{return a}};return c}(Backbone.Model)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/models/filters",["issues/models/filter"],function(a){return function(c){b(d,c);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.model=a;return d}(Backbone.Collection)})}).call(this);define("components/navigator/controller",[],function(){return Marionette.Controller.extend({pageSize:50,initialize:function(a){this.app=a.app;this.listenTo(a.app.state,"change:query",this.fetchList)},_allFacets:function(){return this.options.app.state.get("allFacets").map(function(a){return{property:a}})},_enabledFacets:function(){var a=this,b=this.options.app.state.get("facets"),c=Object.keys(this.options.app.state.get("query"));b=b.concat(c);b=b.map(function(b){return a.options.app.state.get("transform")[b]!=null?a.options.app.state.get("transform")[b]:b});return b.filter(function(b){return a.options.app.state.get("allFacets").indexOf(b)!==-1})},_facetsFromServer:function(){var a=this,b=this._enabledFacets();return b.filter(function(b){return a.options.app.state.get("facetsFromServer").indexOf(b)!==-1})},fetchList:function(){},fetchNextPage:function(){this.options.app.state.nextPage();return this.fetchList(false)},enableFacet:function(a){var b=this.options.app.facets.get(a);if(b.has("values")||this.options.app.state.get("facetsFromServer").indexOf(a)===-1){b.set({enabled:true})}else{this.requestFacet(a).done(function(){b.set({enabled:true})})}},disableFacet:function(a){var b=this.options.app.facets.get(a);b.set({enabled:false});this.options.app.facetsView.children.findByModel(b).disable()},toggleFacet:function(a){var b=this.options.app.facets.get(a);if(b.get("enabled")){this.disableFacet(a)}else{this.enableFacet(a)}},enableFacets:function(a){a.forEach(this.enableFacet,this)},newSearch:function(){this.options.app.state.setQuery({})},parseQuery:function(a,b){b=b||"|";var c={};(a||"").split(b).forEach(function(a){var b=a.split("=");if(b[0]&&b[1]!=null){c[b[0]]=decodeURIComponent(b[1])}});return c},getQuery:function(a){a=a||"|";var b=this.options.app.state.get("query"),c=[];_.map(b,function(a,b){c.push(""+b+"="+encodeURIComponent(a))});return c.join(a)},getRoute:function(a){a=a||"|";return this.getQuery(a)},selectNext:function(){var a=this.options.app.state.get("selectedIndex")+1;if(a<this.options.app.list.length){this.options.app.state.set({selectedIndex:a})}else{if(!this.options.app.state.get("maxResultsReached")){var b=this;this.fetchNextPage().done(function(){b.options.app.state.set({selectedIndex:a})})}}},selectPrev:function(){var a=this.options.app.state.get("selectedIndex")-1;if(a>=0){this.options.app.state.set({selectedIndex:a})}}})});define("source-viewer/source",[],function(){return Backbone.Model.extend({idAttribute:"uuid",defaults:function(){return{hasSource:false,hasCoverage:false,hasITCoverage:false,hasDuplications:false,hasSCM:false,canSeeCode:true}},key:function(){return this.get("key")},addMeta:function(a){var b=this.get("source"),c=0,d=a[c];b.forEach(function(b){while(d!=null&&b.line>d.line){d=a[++c]}if(d!=null&&b.line===d.line){_.extend(b,d);d=a[++c]}});this.set({source:b})},addDuplications:function(a){var b=this.get("source");if(b!=null){b.forEach(function(b){var c=[];a.forEach(function(a,d){var e=false;a.blocks.forEach(function(a){if(a._ref==="1"){var c=a.from,d=a.from+a.size-1;if(b.line>=c&&b.line<=d){e=true}}});c.push(e?d+1:false)});b.duplications=c})}this.set({source:b})},checkIfHasDuplications:function(){var a=false,b=this.get("source");if(b!=null){b.forEach(function(b){if(b.duplicated){a=true}})}this.set({hasDuplications:a})},hasUTCoverage:function(a){return _.some(a,function(a){return a.utCoverageStatus!=null})},hasITCoverage:function(a){return _.some(a,function(a){return a.itCoverageStatus!=null})}})});(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issue/collections/issues",["issue/models/issue"],function(a){return function(c){b(d,c);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.model=a;d.prototype.url=function(){return""+baseUrl+"/api/issues/search"};d.prototype.parse=function(a){var b;b=function(a,b,c){var d;d={};d[c||"key"]=b;return _.findWhere(a,d)||b};this.paging={p:a.p,ps:a.ps,total:a.total,maxResultsReached:a.p*a.ps>=a.total};return a.issues.map(function(c){var d,e,f;d=b(a.components,c.component);e=b(a.projects,c.project);f=b(a.rules,c.rule);if(d){_.extend(c,{componentLongName:d.longName,componentQualifier:d.qualifier})}if(e){_.extend(c,{projectLongName:e.longName})}if(f){_.extend(c,{ruleName:f.name})}return c})};return d}(Backbone.Collection)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issue/models/changelog",[],function(){var a;return a=function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.url=function(){return""+baseUrl+"/api/issues/changelog"};c.prototype.parse=function(a){return a.changelog};return c}(Backbone.Collection)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("common/popup",[],function(){var a,c;a=jQuery;return c=function(c){b(d,c);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.className="bubble-popup";d.prototype.onRender=function(){this.$el.detach().appendTo(a("body"));if(this.options.bottom){this.$el.addClass("bubble-popup-bottom");this.$el.css({top:this.options.triggerEl.offset().top+this.options.triggerEl.outerHeight(),left:this.options.triggerEl.offset().left})}else if(this.options.bottomRight){this.$el.addClass("bubble-popup-bottom-right");this.$el.css({top:this.options.triggerEl.offset().top+this.options.triggerEl.outerHeight(),right:a(window).width()-this.options.triggerEl.offset().left-this.options.triggerEl.outerWidth()})}else{this.$el.css({top:this.options.triggerEl.offset().top,left:this.options.triggerEl.offset().left+this.options.triggerEl.outerWidth()})}return this.attachCloseEvents()};d.prototype.attachCloseEvents=function(){key("escape",function(a){return function(){return a.close()}}(this));a("body").on("click.bubble-popup",function(b){return function(){a("body").off("click.bubble-popup");return b.close()}}(this));return this.options.triggerEl.on("click.bubble-popup",function(a){return function(b){a.options.triggerEl.off("click.bubble-popup");b.stopPropagation();return a.close()}}(this))};d.prototype.onClose=function(){a("body").off("click.bubble-popup");return this.options.triggerEl.off("click.bubble-popup")};return d}(Marionette.ItemView)})}).call(this);Handlebars.registerPartial("_markdown-tips",Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return"<div class=\"markdown-tips\">\n  <a href=\"#\" onclick=\"window.open(baseUrl + '/markdown/help','markdown','height=300,width=600,scrollbars=1,resizable=1');return false;\">"+f((b.t||a&&a.t||e).call(a,"markdown.helplink",{name:"t",hash:{},data:d}))+"</a> :\n  &nbsp; *"+f((b.t||a&&a.t||e).call(a,"bold",{name:"t",hash:{},data:d}))+"* &nbsp;&nbsp; ``"+f((b.t||a&&a.t||e).call(a,"code",{name:"t",hash:{},data:d}))+"`` &nbsp;&nbsp; * "+f((b.t||a&&a.t||e).call(a,"bulleted_point",{name:"t",hash:{},data:d}))+"\n</div>\n"},useData:true}));this["Templates"]=this["Templates"]||{};this["Templates"]["comment-form"]=Handlebars.template({1:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return f((b.t||a&&a.t||e).call(a,"save",{name:"t",hash:{},data:d}))},3:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return f((b.t||a&&a.t||e).call(a,"issue.comment.submit",{name:"t",hash:{},data:d}))},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h='<div class="issue-comment-form-text">\n  <textarea rows="2">'+g((b.show||a&&a.show||f).call(a,a!=null?a.raw:a,a!=null?a.markdown:a,{name:"show",hash:{},data:d}))+'</textarea>\n</div>\n\n<div class="issue-comment-form-footer">\n  <div class="issue-comment-form-actions">\n    <div class="button-group">\n      <button class="js-issue-comment-submit" disabled>\n        ';e=b["if"].call(a,a!=null?a.id:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.program(3,d),data:d});if(e!=null){h+=e}h+='\n      </button>\n    </div>\n    <a class="js-issue-comment-cancel">'+g((b.t||a&&a.t||f).call(a,"cancel",{name:"t",hash:{},data:d}))+'</a>\n  </div>\n\n  <div class="issue-comment-form-tips">';e=this.invokePartial(c["_markdown-tips"],"","_markdown-tips",a,undefined,b,c,d);if(e!=null){h+=e}return h+'</div>\n</div>\n\n<div class="bubble-popup-arrow"></div>\n'},usePartial:true,useData:true});this["Templates"]["issue-assign-form-option"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'<a href="#" class="issue-action-option js-issue-assignee" data-value="'+h((e=(e=b.id||(a!=null?a.id:a))!=null?e:g,typeof e===f?e.call(a,{name:"id",hash:{},data:d}):e))+'" data-text="'+h((e=(e=b.text||(a!=null?a.text:a))!=null?e:g,typeof e===f?e.call(a,{name:"text",hash:{},data:d}):e))+'">\n  '+h((e=(e=b.text||(a!=null?a.text:a))!=null?e:g,typeof e===f?e.call(a,{name:"text",hash:{},data:d}):e))+"\n</a>\n"},useData:true});this["Templates"]["issue-assign-form"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'<div class="issue-action-options">\n  <i class="icon-search issue-action-options-search-icon"></i>\n  <input class="issue-action-options-search" type="text" placeholder="Search..." value="'+h((e=(e=b.query||(a!=null?a.query:a))!=null?e:g,typeof e===f?e.call(a,{name:"query",hash:{},data:d}):e))+'">\n</div>\n\n<div class="bubble-popup-arrow"></div>\n'},useData:true});this["Templates"]["issue-changelog"]=Handlebars.template({1:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression;return"          "+g((b.t||a&&a.t||f).call(a,"issue.reported_by",{name:"t",hash:{},data:d}))+" "+g((b["default"]||a&&a["default"]||f).call(a,(e=a!=null?a.issue:a)!=null?e.reporterName:e,(e=a!=null?a.issue:a)!=null?e.reporter:e,{name:"default",hash:{},data:d}))+"\n"},3:function(a,b,c,d){var e,f="";e=b["if"].call(a,(e=a!=null?a.issue:a)!=null?e.author:e,{name:"if",hash:{},fn:this.program(4,d),inverse:this.program(6,d),data:d});if(e!=null){f+=e}return f},4:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h=this.lambda;return"            "+g((b.t||a&&a.t||f).call(a,"created_by",{name:"t",hash:{},data:d}))+" "+g(h((e=a!=null?a.issue:a)!=null?e.author:e,a))+"\n"},6:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return"            "+f((b.t||a&&a.t||e).call(a,"created",{name:"t",hash:{},data:d}))+"\n"},8:function(a,b,c,d){var e,f,g=b.helperMissing,h=this.escapeExpression,i="function",j='      <tr>\n        <td class="thin left top" nowrap>'+h((b.dt||a&&a.dt||g).call(a,a!=null?a.creationDate:a,{name:"dt",hash:{},data:d}))+'</td>\n        <td class="thin left top" nowrap>'+h((f=(f=b.userName||(a!=null?a.userName:a))!=null?f:g,typeof f===i?f.call(a,{name:"userName",hash:{},data:d}):f))+'</td>\n        <td class="left top">\n';e=b.each.call(a,a!=null?a.diffs:a,{name:"each",hash:{},fn:this.program(9,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j+"        </td>\n      </tr>\n"},9:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return"            "+f((b.changelog||a&&a.changelog||e).call(a,a,{name:"changelog",hash:{},data:d}))+"<br>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h='<div class="issue-changelog">\n  <table class="spaced">\n    <tbody>\n\n    <tr>\n      <td class="thin left top" nowrap>'+g((b.dt||a&&a.dt||f).call(a,(e=a!=null?a.issue:a)!=null?e.creationDate:e,{name:"dt",hash:{},data:d}))+'</td>\n      <td class="thin left top" nowrap></td>\n      <td class="left top">\n';e=b["if"].call(a,(e=a!=null?a.issue:a)!=null?e.reporter:e,{name:"if",hash:{},fn:this.program(1,d),inverse:this.program(3,d),data:d});if(e!=null){h+=e}h+="      </td>\n    </tr>\n\n";e=b.each.call(a,a!=null?a.items:a,{name:"each",hash:{},fn:this.program(8,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h+'    </tbody>\n  </table>\n</div>\n\n<div class="bubble-popup-arrow"></div>\n'},useData:true});this["Templates"]["issue-more-actions"]=Handlebars.template({1:function(a,b,c,d){var e=this.lambda,f=this.escapeExpression,g=b.helperMissing;return'    <li>\n      <a class="issue-action js-issue-action" data-action="'+f(e(a,a))+'">'+f((b.t||a&&a.t||g).call(a,"issue.action",a,"formlink",{name:"t",hash:{},data:d}))+"</a>\n    </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g='<ul class="issue-more-actions">\n';e=(b.pluginActions||a&&a.pluginActions||f).call(a,a!=null?a.actions:a,{name:"pluginActions",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){g+=e}return g+'</ul>\n\n<div class="bubble-popup-arrow"></div>\n'},useData:true});this["Templates"]["issue-plan-form"]=Handlebars.template({1:function(a,b,c,d){var e,f=b.helperMissing,g="";e=(b.notEq||a&&a.notEq||f).call(a,a!=null?a.status:a,"CLOSED",{name:"notEq",hash:{},fn:this.program(2,d),inverse:this.noop,data:d});if(e!=null){g+=e}return g},2:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'      <a href="#" class="issue-action-option js-issue-assignee" data-value="'+h((e=(e=b.key||(a!=null?a.key:a))!=null?e:g,typeof e===f?e.call(a,{name:"key",hash:{},data:d}):e))+'" data-text="'+h((e=(e=b.name||(a!=null?a.name:a))!=null?e:g,typeof e===f?e.call(a,{name:"name",hash:{},data:d}):e))+'">\n        '+h((e=(e=b.name||(a!=null?a.name:a))!=null?e:g,typeof e===f?e.call(a,{name:"name",hash:{},data:d}):e))+"\n      </a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<div class="issue-action-options">\n';e=b.each.call(a,a!=null?a.items:a,{name:"each",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f+'</div>\n\n<div class="bubble-popup-arrow"></div>\n'},useData:true});this["Templates"]["issue-rule"]=Handlebars.template({1:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return f((b.join||a&&a.join||e).call(a,a!=null?a.allTags:a,", ",{name:"join",hash:{},data:d}))},3:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return f((b.t||a&&a.t||e).call(a,"coding_rules.no_tags",{name:"t",hash:{},data:d}))},5:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='      <li class="coding-rules-detail-property">'+i((f=(f=b.debtCharName||(a!=null?a.debtCharName:a))!=null?f:h,typeof f===g?f.call(a,{name:"debtCharName",hash:{},data:d}):f));e=b["if"].call(a,a!=null?a.debtSubCharName:a,{name:"if",hash:{},fn:this.program(6,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j+"</li>\n"},6:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return" > "+h((e=(e=b.debtSubCharName||(a!=null?a.debtSubCharName:a))!=null?e:g,typeof e===f?e.call(a,{name:"debtSubCharName",hash:{},data:d}):e))},8:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i='    <div id="coding-rules-detail-description-extra">\n      <div class="rule-desc markdown">';e=(f=(f=b.htmlNote||(a!=null?a.htmlNote:a))!=null?f:h,typeof f===g?f.call(a,{name:"htmlNote",hash:{},data:d}):f);if(e!=null){i+=e}return i+"</div>\n    </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='<div class="modal-container">\n  <h3 class="coding-rules-detail-header">\n    '+i((f=(f=b.name||(a!=null?a.name:a))!=null?f:h,typeof f===g?f.call(a,{name:"name",hash:{},data:d}):f))+'\n    <a class="coding-rules-detail-permalink" target="_blank" href="'+i((f=(f=b.permalink||(a!=null?a.permalink:a))!=null?f:h,typeof f===g?f.call(a,{name:"permalink",hash:{},data:d}):f))+'">\n      <i class="icon-link"></i> '+i((b.t||a&&a.t||h).call(a,"coding_rules.permalink",{name:"t",hash:{},data:d}))+'\n    </a>\n  </h3>\n\n  <span class="subtitle">'+i((f=(f=b.key||(a!=null?a.key:a))!=null?f:h,typeof f===g?f.call(a,{name:"key",hash:{},data:d}):f))+'</span>\n\n  <ul class="coding-rules-detail-properties">\n    <li class="coding-rules-detail-property coding-rules-detail-tag-list">\n      <i class="icon-tags"></i>\n      <span>';e=b["if"].call(a,a!=null?a.allTags:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.program(3,d),data:d});if(e!=null){j+=e}j+="</span>\n    </li>\n";e=b["if"].call(a,a!=null?a.debtCharName:a,{name:"if",hash:{},fn:this.program(5,d),inverse:this.noop,data:d});if(e!=null){j+=e}j+='  </ul>\n\n  <div class="coding-rules-detail-description rule-desc markdown">';e=(f=(f=b.htmlDesc||(a!=null?a.htmlDesc:a))!=null?f:h,typeof f===g?f.call(a,{name:"htmlDesc",hash:{},data:d}):f);if(e!=null){j+=e}j+="</div>\n\n";e=b["if"].call(a,a!=null?a.htmlNote:a,{name:"if",hash:{},fn:this.program(8,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j+'</div>\n\n<div class="modal-foot">\n  <a class="js-modal-close" href="#">'+i((b.t||a&&a.t||h).call(a,"close",{name:"t",hash:{},data:d}))+"</a>\n</div>\n"},useData:true});this["Templates"]["issue-set-severity-form"]=Handlebars.template({1:function(a,b,c,d){var e=this.lambda,f=this.escapeExpression,g=b.helperMissing;return'    <a href="#" class="issue-action-option js-issue-severity" data-value="'+f(e(a,a))+'">\n      '+f((b.severityIcon||a&&a.severityIcon||g).call(a,a,{name:"severityIcon",hash:{},data:d}))+" "+f((b.t||a&&a.t||g).call(a,"severity",a,{name:"t",hash:{},data:d}))+"\n    </a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<div class="issue-action-options">\n';e=b.each.call(a,a!=null?a.items:a,{name:"each",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f+'</div>\n\n<div class="bubble-popup-arrow"></div>\n'},useData:true});this["Templates"]["issue-tags-form-option"]=Handlebars.template({1:function(a,b,c,d){return"data-selected"},3:function(a,b,c,d){return'    <i class="icon-checkbox icon-checkbox-checked"></i>\n'},5:function(a,b,c,d){return'    <i class="icon-checkbox"></i>\n'},7:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return"    + "+h((e=(e=b.tag||(a!=null?a.tag:a))!=null?e:g,typeof e===f?e.call(a,{name:"tag",hash:{},data:d}):e))+"\n"},9:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return"    "+h((e=(e=b.tag||(a!=null?a.tag:a))!=null?e:g,typeof e===f?e.call(a,{name:"tag",hash:{},data:d}):e))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='<a href="#" class="issue-action-option" data-value="'+i((f=(f=b.tag||(a!=null?a.tag:a))!=null?f:h,typeof f===g?f.call(a,{name:"tag",hash:{},data:d}):f))+'" data-text="'+i((f=(f=b.tag||(a!=null?a.tag:a))!=null?f:h,typeof f===g?f.call(a,{name:"tag",hash:{},data:d}):f))+'"\n   ';e=b["if"].call(a,a!=null?a.selected:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){j+=e}j+=">\n\n";e=b["if"].call(a,a!=null?a.selected:a,{name:"if",hash:{},fn:this.program(3,d),inverse:this.program(5,d),data:d});if(e!=null){j+=e}j+="\n";e=b["if"].call(a,a!=null?a.custom:a,{name:"if",hash:{},fn:this.program(7,d),inverse:this.program(9,d),data:d});if(e!=null){j+=e}return j+"</a>\n"},useData:true});this["Templates"]["issue-tags-form"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'<div class="issue-action-options">\n  <i class="icon-search issue-action-options-search-icon"></i>\n  <input class="issue-action-options-search" type="text" placeholder="Search..." value="'+h((e=(e=b.query||(a!=null?a.query:a))!=null?e:g,typeof e===f?e.call(a,{name:"query",hash:{},data:d}):e))+'">\n</div>\n\n<div class="bubble-popup-arrow"></div>\n'},useData:true});this["Templates"]["issue-transitions-form"]=Handlebars.template({1:function(a,b,c,d){var e=this.lambda,f=this.escapeExpression,g=b.helperMissing;return'    <a href="#" class="issue-action-option js-issue-transition" data-value="'+f(e(a,a))+'"\n        title="'+f((b.t||a&&a.t||g).call(a,"issue.transition",a,"description",{name:"t",hash:{},data:d}))+'" data-placement="right" data-toggle="tooltip">\n      '+f((b.t||a&&a.t||g).call(a,"issue.transition",a,{name:"t",hash:{},data:d}))+"\n    </a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<div class="issue-action-options">\n';e=b.each.call(a,a!=null?a.transitions:a,{name:"each",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f+'</div>\n\n<div class="bubble-popup-arrow"></div>\n'},useData:true});this["Templates"]["issue"]=Handlebars.template({1:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h="function";return'            <div class="issue-meta">\n              <span class="issue-meta-label" title="'+g((b.t||a&&a.t||f).call(a,"line_number",{name:"t",hash:{},data:d}))+'">L'+g((e=(e=b.line||(a!=null?a.line:a))!=null?e:f,typeof e===h?e.call(a,{name:"line",hash:{},data:d}):e))+"</span>\n            </div>\n"},3:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'              <a class="issue-action issue-action-with-options js-issue-set-severity">\n                <span class="issue-meta-label">'+f((b.severity||a&&a.severity||e).call(a,a!=null?a.severity:a,{name:"severity",hash:{},data:d}))+'</span>&nbsp;<i class="icon-dropdown"></i>\n              </a>\n'},5:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return"              "+f((b.severity||a&&a.severity||e).call(a,a!=null?a.severity:a,{name:"severity",hash:{},data:d}))+"\n"},7:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'              <a class="issue-action issue-action-with-options js-issue-transition">\n                <span class="issue-meta-label">'+f((b.statusHelper||a&&a.statusHelper||e).call(a,a!=null?a.status:a,a!=null?a.resolution:a,{name:"statusHelper",hash:{},data:d}))+'</span>&nbsp;<i\n                  class="icon-dropdown"></i>\n              </a>\n'},9:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return"              "+f((b.statusHelper||a&&a.statusHelper||e).call(a,a!=null?a.status:a,a!=null?a.resolution:a,{name:"statusHelper",hash:{},data:d}))+"\n"},11:function(a,b,c,d){var e,f='              <a class="issue-action issue-action-with-options js-issue-assign">\n          <span\n              class="issue-meta-label">';e=b["if"].call(a,a!=null?a.assignee:a,{name:"if",hash:{},fn:this.program(12,d),inverse:this.program(14,d),data:d});if(e!=null){f+=e}return f+'</span>&nbsp;<i\n                  class="icon-dropdown"></i>\n              </a>\n'},12:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return f((b["default"]||a&&a["default"]||e).call(a,a!=null?a.assigneeName:a,a!=null?a.assignee:a,{name:"default",hash:{},data:d}))},14:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return f((b.t||a&&a.t||e).call(a,"unassigned",{name:"t",hash:{},data:d}))},16:function(a,b,c,d){var e,f='              <span\n                  class="issue-meta-label">';e=b["if"].call(a,a!=null?a.assignee:a,{name:"if",hash:{},fn:this.program(12,d),inverse:this.program(14,d),data:d});if(e!=null){f+=e}return f+"</span>\n"},18:function(a,b,c,d){return'            <a class="js-issue-assign-to-me"></a>\n'},20:function(a,b,c,d){var e,f='              <a class="issue-action issue-action-with-options js-issue-plan">\n          <span\n              class="issue-meta-label">';e=b["if"].call(a,a!=null?a.actionPlan:a,{name:"if",hash:{},fn:this.program(21,d),inverse:this.program(23,d),data:d});if(e!=null){f+=e}return f+'</span>&nbsp;<i\n                  class="icon-dropdown"></i>\n              </a>\n'},21:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return f((b["default"]||a&&a["default"]||e).call(a,a!=null?a.actionPlanName:a,a!=null?a.actionPlan:a,{name:"default",hash:{},data:d}))},23:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return f((b.t||a&&a.t||e).call(a,"issue.unplanned",{
name:"t",hash:{},data:d}))},25:function(a,b,c,d){var e,f='              <span\n                  class="issue-meta-label">';e=b["if"].call(a,a!=null?a.actionPlan:a,{name:"if",hash:{},fn:this.program(21,d),inverse:this.program(23,d),data:d});if(e!=null){f+=e}return f+"</span>\n"},27:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'            <div class="issue-meta">\n              <span class="issue-meta-label">\n                '+f((b.tp||a&&a.tp||e).call(a,"issue.x_debt",a!=null?a.debt:a,{name:"tp",hash:{},data:d}))+"\n              </span>\n            </div>\n"},29:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'            <div class="issue-meta">\n              <a class="issue-action js-issue-comment"><span\n                  class="issue-meta-label">'+f((b.t||a&&a.t||e).call(a,"issue.comment.formlink",{name:"t",hash:{},data:d}))+"</span></a>\n            </div>\n"},31:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'            <div class="issue-meta">\n              <a class="issue-action issue-action-with-options js-issue-more">\n                <span class="issue-meta-label">'+f((b.t||a&&a.t||e).call(a,"more",{name:"t",hash:{},data:d}))+'</span>&nbsp;<i class="icon-dropdown"></i>\n              </a>\n            </div>\n'},33:function(a,b,c,d){var e,f='            <a class="issue-action issue-action-with-options js-issue-edit-tags">\n              <span>\n                <i class="icon-tags icon-half-transparent"></i>&nbsp;<span>';e=b["if"].call(a,a!=null?a.tags:a,{name:"if",hash:{},fn:this.program(34,d),inverse:this.program(36,d),data:d});if(e!=null){f+=e}return f+'</span>\n              </span>&nbsp;<i class="icon-dropdown"></i>\n            </a>\n'},34:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return f((b.join||a&&a.join||e).call(a,a!=null?a.tags:a,", ",{name:"join",hash:{},data:d}))},36:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return f((b.t||a&&a.t||e).call(a,"issue.no_tag",{name:"t",hash:{},data:d}))},38:function(a,b,c,d){var e,f='            <span>\n              <i class="icon-tags icon-half-transparent"></i>&nbsp;<span>';e=b["if"].call(a,a!=null?a.tags:a,{name:"if",hash:{},fn:this.program(34,d),inverse:this.program(36,d),data:d});if(e!=null){f+=e}return f+"</span>\n            </span>\n"},40:function(a,b,c,d){var e,f='    <div class="issue-comments">\n';e=b.each.call(a,a!=null?a.comments:a,{name:"each",hash:{},fn:this.program(41,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f+"    </div>\n"},41:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='        <div class="issue-comment" data-comment-key="'+i((f=(f=b.key||(a!=null?a.key:a))!=null?f:h,typeof f===g?f.call(a,{name:"key",hash:{},data:d}):f))+'">\n          <div class="issue-comment-author" title="'+i((f=(f=b.userName||(a!=null?a.userName:a))!=null?f:h,typeof f===g?f.call(a,{name:"userName",hash:{},data:d}):f))+'"><i class="icon-comment icon-half-transparent"></i>&nbsp;'+i((f=(f=b.userName||(a!=null?a.userName:a))!=null?f:h,typeof f===g?f.call(a,{name:"userName",hash:{},data:d}):f))+'\n          </div>\n          <div class="issue-comment-text markdown">';e=(b.show||a&&a.show||h).call(a,a!=null?a.html:a,a!=null?a.htmlText:a,{name:"show",hash:{},data:d});if(e!=null){j+=e}j+='</div>\n          <div class="issue-comment-age">('+i((b.fromNow||a&&a.fromNow||h).call(a,a!=null?a.createdAt:a,{name:"fromNow",hash:{},data:d}))+')</div>\n          <div class="issue-comment-actions">\n';e=b["if"].call(a,a!=null?a.updatable:a,{name:"if",hash:{},fn:this.program(42,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j+"          </div>\n        </div>\n"},42:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'              <a class="js-issue-comment-edit icon-edit icon-half-transparent"></a>\n              <a class="js-issue-comment-delete icon-delete icon-half-transparent"\n                 data-confirm-msg="'+f((b.t||a&&a.t||e).call(a,"issue.comment.delete_confirm_message",{name:"t",hash:{},data:d}))+'"></a>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='<div class="issue-inner">\n\n  <table class="issue-table">\n    <tr>\n      <td>\n        <div class="issue-message">'+i((f=(f=b.message||(a!=null?a.message:a))!=null?f:h,typeof f===g?f.call(a,{name:"message",hash:{},data:d}):f))+' <a class="js-issue-rule issue-rule icon-ellipsis-h"></a></div>\n      </td>\n\n      <td class="issue-table-meta-cell">\n        <div class="issue-meta-list">\n          <div class="issue-meta">\n            <a class="issue-action issue-action-with-options js-issue-show-changelog" title="'+i((b.dt||a&&a.dt||h).call(a,a!=null?a.creationDate:a,{name:"dt",hash:{},data:d}))+'">\n              <span class="issue-meta-label">'+i((b.fromNow||a&&a.fromNow||h).call(a,a!=null?a.creationDate:a,{name:"fromNow",hash:{},data:d}))+'</span>&nbsp;<i class="icon-dropdown"></i>\n            </a>\n          </div>\n\n';e=b["if"].call(a,a!=null?a.line:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){j+=e}j+='\n          <div class="issue-meta">\n            <a class="issue-action js-issue-permalink icon-link" href="'+i((f=(f=b.permalink||(a!=null?a.permalink:a))!=null?f:h,typeof f===g?f.call(a,{name:"permalink",hash:{},data:d}):f))+'" target="_blank"></a>\n          </div>\n        </div>\n      </td>\n    </tr>\n  </table>\n\n  <table class="issue-table">\n    <tr>\n      <td>\n        <div class="issue-meta-list">\n          <div class="issue-meta">\n';e=(b.inArray||a&&a.inArray||h).call(a,a!=null?a.actions:a,"set_severity",{name:"inArray",hash:{},fn:this.program(3,d),inverse:this.program(5,d),data:d});if(e!=null){j+=e}j+='          </div>\n\n          <div class="issue-meta">\n';e=(b.notEmpty||a&&a.notEmpty||h).call(a,a!=null?a.transitions:a,{name:"notEmpty",hash:{},fn:this.program(7,d),inverse:this.program(9,d),data:d});if(e!=null){j+=e}j+='          </div>\n\n          <div class="issue-meta">\n';e=(b.inArray||a&&a.inArray||h).call(a,a!=null?a.actions:a,"assign",{name:"inArray",hash:{},fn:this.program(11,d),inverse:this.program(16,d),data:d});if(e!=null){j+=e}j+="          </div>\n\n";e=(b.inArray||a&&a.inArray||h).call(a,a!=null?a.actions:a,"assign_to_me",{name:"inArray",hash:{},fn:this.program(18,d),inverse:this.noop,data:d});if(e!=null){j+=e}j+='\n          <div class="issue-meta">\n';e=(b.inArray||a&&a.inArray||h).call(a,a!=null?a.actions:a,"plan",{name:"inArray",hash:{},fn:this.program(20,d),inverse:this.program(25,d),data:d});if(e!=null){j+=e}j+="          </div>\n\n";e=b["if"].call(a,a!=null?a.debt:a,{name:"if",hash:{},fn:this.program(27,d),inverse:this.noop,data:d});if(e!=null){j+=e}j+="\n";e=(b.inArray||a&&a.inArray||h).call(a,a!=null?a.actions:a,"comment",{name:"inArray",hash:{},fn:this.program(29,d),inverse:this.noop,data:d});if(e!=null){j+=e}j+="\n";e=(b.ifHasExtraActions||a&&a.ifHasExtraActions||h).call(a,a!=null?a.actions:a,{name:"ifHasExtraActions",hash:{},fn:this.program(31,d),inverse:this.noop,data:d});if(e!=null){j+=e}j+='        </div>\n      </td>\n\n      <td class="issue-table-meta-cell">\n        <div class="issue-meta js-issue-tags">\n';e=(b.inArray||a&&a.inArray||h).call(a,a!=null?a.actions:a,"set_tags",{name:"inArray",hash:{},fn:this.program(33,d),inverse:this.program(38,d),data:d});if(e!=null){j+=e}j+="        </div>\n      </td>\n    </tr>\n  </table>\n\n";e=(b.notEmpty||a&&a.notEmpty||h).call(a,a!=null?a.comments:a,{name:"notEmpty",hash:{},fn:this.program(40,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j+'\n</div>\n\n<a class="issue-navigate js-issue-navigate">\n  <i class="issue-navigate-to-left icon-chevron-left"></i>\n  <i class="issue-navigate-to-right icon-chevron-right"></i>\n</a>\n'},useData:true});this["Templates"]["manual-issue"]=Handlebars.template({1:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'        <option value="'+h((e=(e=b.key||(a!=null?a.key:a))!=null?e:g,typeof e===f?e.call(a,{name:"key",hash:{},data:d}):e))+'">'+h((e=(e=b.name||(a!=null?a.name:a))!=null?e:g,typeof e===f?e.call(a,{name:"name",hash:{},data:d}):e))+"</option>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='<form action="" class="js-manual-issue-form code-issue-create-form">\n\n  <input type="hidden" name="line" value="'+i((f=(f=b.line||(a!=null?a.line:a))!=null?f:h,typeof f===g?f.call(a,{name:"line",hash:{},data:d}):f))+'">\n  <input type="hidden" name="component" value="'+i((f=(f=b.component||(a!=null?a.component:a))!=null?f:h,typeof f===g?f.call(a,{name:"component",hash:{},data:d}):f))+'">\n\n  <div class="code-issue-name">\n    <select name="rule">\n';e=b.each.call(a,a!=null?a.rules:a,{name:"each",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j+'    </select>\n  </div>\n\n  <div class="code-issue-msg">\n    <table class="width100">\n      <tr>\n        <td>\n          <textarea rows="4" name="message" class="width100 marginbottom5"></textarea>\n        </td>\n      </tr>\n      <tr>\n        <td class="js-submit">\n          <input type="submit" value="'+i((b.t||a&&a.t||h).call(a,"create",{name:"t",hash:{},data:d}))+'">\n          <a class="js-cancel" href="#">'+i((b.t||a&&a.t||h).call(a,"cancel",{name:"t",hash:{},data:d}))+'</a>\n        </td>\n        <td class="js-spinner" style="display: none;">\n          <i class="spinner"></i>\n        </td>\n      </tr>\n    </table>\n    <div class="code-issue-errors error hidden"></div>\n  </div>\n\n</form>\n'},useData:true});define("templates/issue",function(){});(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issue/views/changelog-view",["common/popup","templates/issue"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.template=Templates["issue-changelog"];c.prototype.collectionEvents={sync:"render"};c.prototype.serializeData=function(){return _.extend(c.__super__.serializeData.apply(this,arguments),{issue:this.options.issue.toJSON()})};return c}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issue/collections/action-plans",[],function(){var a;return a=function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.url=function(){return""+baseUrl+"/api/action_plans/search"};c.prototype.parse=function(a){return a.actionPlans};return c}(Backbone.Collection)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issue/views/issue-popup",["common/popup"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.className="bubble-popup issue-bubble-popup";c.prototype.template=function(){return'<div class="bubble-popup-arrow"></div>'};c.prototype.events=function(){return{"click .js-issue-form-cancel":"close"}};c.prototype.onRender=function(){c.__super__.onRender.apply(this,arguments);this.options.view.$el.appendTo(this.$el);return this.options.view.render()};c.prototype.onClose=function(){return this.options.view.close()};c.prototype.attachCloseEvents=function(){};return c}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issue/views/action-options-view",["common/popup"],function(a){var c;c=jQuery;return function(a){b(d,a);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.keyScope="issue-action-options";d.prototype.ui={options:".issue-action-option"};d.prototype.events=function(){return{"click .issue-action-option":"selectOption","mouseenter .issue-action-option":"activateOptionByPointer"}};d.prototype.initialize=function(){return this.bindShortcuts()};d.prototype.onRender=function(){d.__super__.onRender.apply(this,arguments);this.selectInitialOption();return this.$('[data-toggle="tooltip"]').tooltip({container:"body"})};d.prototype.getOptions=function(){return this.$(".issue-action-option")};d.prototype.getActiveOption=function(){return this.getOptions().filter(".active")};d.prototype.makeActive=function(a){if(a.length>0){this.getOptions().removeClass("active");return a.addClass("active")}};d.prototype.selectInitialOption=function(){return this.makeActive(this.getOptions().first())};d.prototype.selectNextOption=function(){this.makeActive(this.getActiveOption().next(".issue-action-option"));return false};d.prototype.selectPreviousOption=function(){this.makeActive(this.getActiveOption().prev(".issue-action-option"));return false};d.prototype.activateOptionByPointer=function(a){return this.makeActive(c(a.currentTarget))};d.prototype.bindShortcuts=function(){this.currentKeyScope=key.getScope();key.setScope(this.keyScope);key("down",this.keyScope,function(a){return function(){return a.selectNextOption()}}(this));key("up",this.keyScope,function(a){return function(){return a.selectPreviousOption()}}(this));key("return",this.keyScope,function(a){return function(){return a.selectActiveOption()}}(this));key("escape",this.keyScope,function(a){return function(){return a.close()}}(this));key("backspace",this.keyScope,function(a){return function(){return false}}(this));return key("shift+tab",this.keyScope,function(a){return function(){return false}}(this))};d.prototype.unbindShortcuts=function(){key.unbind("down",this.keyScope);key.unbind("up",this.keyScope);key.unbind("return",this.keyScope);key.unbind("escape",this.keyScope);key.unbind("backspace",this.keyScope);key.unbind("tab",this.keyScope);key.unbind("shift+tab",this.keyScope);return key.setScope(this.currentKeyScope)};d.prototype.onClose=function(){d.__super__.onClose.apply(this,arguments);this.unbindShortcuts();this.$('[data-toggle="tooltip"]').tooltip("destroy");return c(".tooltip").remove()};d.prototype.selectOption=function(a){a.preventDefault();return this.close()};d.prototype.selectActiveOption=function(){return this.getActiveOption().click()};return d}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issue/views/transitions-form-view",["issue/views/action-options-view","templates/issue"],function(a){var c;c=jQuery;return function(a){b(d,a);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.template=Templates["issue-transitions-form"];d.prototype.selectInitialOption=function(){return this.makeActive(this.getOptions().first())};d.prototype.selectOption=function(a){var b;b=c(a.currentTarget).data("value");this.submit(b);return d.__super__.selectOption.apply(this,arguments)};d.prototype.submit=function(a){return c.ajax({type:"POST",url:baseUrl+"/api/issues/do_transition",data:{issue:this.model.get("key"),transition:a}}).done(function(a){return function(){return a.options.view.resetIssue({})}}(this))};return d}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issue/views/assign-form-view",["issue/views/action-options-view","templates/issue"],function(a){var c;c=jQuery;return function(a){b(d,a);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.template=Templates["issue-assign-form"];d.prototype.optionTemplate=Templates["issue-assign-form-option"];d.prototype.events=function(){return _.extend(d.__super__.events.apply(this,arguments),{"click input":"onInputClick","keydown input":"onInputKeydown","keyup input":"onInputKeyup"})};d.prototype.initialize=function(){d.__super__.initialize.apply(this,arguments);this.assignees=[];return this.debouncedSearch=_.debounce(this.search,250)};d.prototype.getAssignee=function(){return this.model.get("assignee")};d.prototype.getAssigneeName=function(){return this.model.get("assigneeName")};d.prototype.onRender=function(){d.__super__.onRender.apply(this,arguments);this.renderTags();return setTimeout(function(a){return function(){return a.$("input").focus()}}(this),100)};d.prototype.selectInitialOption=function(){var a;a=this.getAssignee();if(a){return this.makeActive(this.getOptions().filter('[data-value="'+this.getAssignee()+'"]'))}else{return d.__super__.selectInitialOption.apply(this,arguments)}};d.prototype.renderTags=function(){this.$(".issue-action-option").remove();this.getAssignees().forEach(this.renderAssignee,this);return this.selectInitialOption()};d.prototype.renderAssignee=function(a){var b;b=this.optionTemplate(a);return this.$(".issue-action-options").append(b)};d.prototype.selectOption=function(a){var b,e;b=c(a.currentTarget).data("value");e=c(a.currentTarget).data("text");this.submit(b,e);return d.__super__.selectOption.apply(this,arguments)};d.prototype.submit=function(a,b){var d,e;d=this.getAssignee();e=this.getAssigneeName();if(a===d){return}if(a===""){this.model.set({assignee:null,assigneeName:null})}else{this.model.set({assignee:a,assigneeName:b})}return c.ajax({type:"POST",url:""+baseUrl+"/api/issues/assign",data:{issue:this.model.id,assignee:a}}).fail(function(a){return function(){return a.model.set({assignee:d,assigneeName:e})}}(this))};d.prototype.onInputClick=function(a){return a.stopPropagation()};d.prototype.onInputKeydown=function(a){this.query=this.$("input").val();if(a.keyCode===38){return this.selectPreviousOption()}if(a.keyCode===40){return this.selectNextOption()}if(a.keyCode===13){return this.selectActiveOption()}if(a.keyCode===9){return false}if(a.keyCode===27){return this.close()}};d.prototype.onInputKeyup=function(){var a;a=this.$("input").val();if(a!==this.query){if(a.length<2){a=""}this.query=a;return this.debouncedSearch(a)}};d.prototype.search=function(a){if(a.length>1){return c.get(""+baseUrl+"/api/users/search",{s:a}).done(function(a){return function(b){return a.resetAssignees(b.users)}}(this))}else{return this.resetAssignees([])}};d.prototype.resetAssignees=function(a){this.assignees=a.map(function(a){return{id:a.login,text:a.name}});return this.renderTags()};d.prototype.getAssignees=function(){var a,b,c;if(this.assignees.length>0){return this.assignees}a=[{id:"",text:t("unassigned")}];b=window.SS.user;c=window.SS.userName;a.push({id:b,text:c});if(this.getAssignee()){a.push({id:this.getAssignee(),text:this.getAssigneeName()})}return this.makeUnique(a)};d.prototype.makeUnique=function(a){return _.uniq(a,false,function(a){return a.id})};return d}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issue/views/comment-form-view",["common/popup","templates/issue"],function(a){var c;c=jQuery;return function(a){b(d,a);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.className="bubble-popup issue-comment-bubble-popup";d.prototype.template=Templates["comment-form"];d.prototype.ui={textarea:".issue-comment-form-text textarea",cancelButton:".js-issue-comment-cancel",submitButton:".js-issue-comment-submit"};d.prototype.events={click:"onClick","keydown @ui.textarea":"onKeydown","keyup @ui.textarea":"toggleSubmit","click @ui.cancelButton":"cancel","click @ui.submitButton":"submit"};d.prototype.onRender=function(){d.__super__.onRender.apply(this,arguments);return setTimeout(function(a){return function(){return a.ui.textarea.focus()}}(this),100)};d.prototype.toggleSubmit=function(){return this.ui.submitButton.prop("disabled",this.ui.textarea.val().length===0)};d.prototype.onClick=function(a){return a.stopPropagation()};d.prototype.onKeydown=function(a){if(a.keyCode===27){return this.close()}};d.prototype.cancel=function(){return this.options.detailView.updateAfterAction(false)};d.prototype.submit=function(){var a,b,d,e,f;d=this.ui.textarea.val();e=this.model&&this.model.has("key");b=e?"edit_comment":"add_comment";f=""+baseUrl+"/api/issues/"+b;a={text:d};if(e){a.key=this.model.get("key")}else{a.issue=this.options.issue.id}return c.post(f,a).done(function(a){return function(){return a.options.detailView.updateAfterAction(true)}}(this))};return d}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issue/views/plan-form-view",["issue/views/action-options-view","templates/issue"],function(a){var c;c=jQuery;return function(a){b(d,a);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.template=Templates["issue-plan-form"];d.prototype.getActionPlan=function(){return this.model.get("actionPlan")||""};d.prototype.getActionPlanName=function(){return this.model.get("actionPlanName")};d.prototype.selectInitialOption=function(){return this.makeActive(this.getOptions().filter("[data-value="+this.getActionPlan()+"]"))};d.prototype.selectOption=function(a){var b,e;b=c(a.currentTarget).data("value");e=c(a.currentTarget).data("text");this.submit(b,e);return d.__super__.selectOption.apply(this,arguments)};d.prototype.submit=function(a,b){var d,e;d=this.getActionPlan();e=this.getActionPlanName();if(a===d){return}if(a===""){this.model.set({actionPlan:null,actionPlanName:null})}else{this.model.set({actionPlan:a,actionPlanName:b})}return c.ajax({type:"POST",url:""+baseUrl+"/api/issues/plan",data:{issue:this.model.id,plan:a}}).fail(function(a){return function(){return a.model.set({assignee:d,assigneeName:e})}}(this))};d.prototype.getActionPlans=function(){return[{key:"",name:t("issue.unplanned")}].concat(this.collection.toJSON())};d.prototype.serializeData=function(){return _.extend(d.__super__.serializeData.apply(this,arguments),{items:this.getActionPlans()})};return d}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issue/views/set-severity-form-view",["issue/views/action-options-view","templates/issue"],function(a){var c;c=jQuery;return function(a){b(d,a);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.template=Templates["issue-set-severity-form"];d.prototype.getTransition=function(){return this.model.get("severity")};d.prototype.selectInitialOption=function(){return this.makeActive(this.getOptions().filter("[data-value="+this.getTransition()+"]"))};d.prototype.selectOption=function(a){var b;b=c(a.currentTarget).data("value");this.submit(b);return d.__super__.selectOption.apply(this,arguments)};d.prototype.submit=function(a){var b;b=this.getTransition();if(a===b){return}this.model.set({severity:a});return c.ajax({type:"POST",url:""+baseUrl+"/api/issues/set_severity",data:{issue:this.model.id,severity:a}}).fail(function(a){return function(){return a.model.set({severity:b})}}(this))};d.prototype.serializeData=function(){return _.extend(d.__super__.serializeData.apply(this,arguments),{items:["BLOCKER","CRITICAL","MAJOR","MINOR","INFO"]})};return d}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issue/views/more-actions-view",["common/popup","templates/issue"],function(a){var c;c=jQuery;return function(a){b(d,a);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.template=Templates["issue-more-actions"];d.prototype.events=function(){return{"click .js-issue-action":"action"}};d.prototype.action=function(a){var b;b=c(a.currentTarget).data("action");return this.options.detailView.action(b)};return d}(a)})}).call(this);define("common/modals",[],function(){var a=jQuery,b="modal";return Marionette.ItemView.extend({className:"modal",overlayClassName:"modal-overlay",htmlClassName:"modal-open",events:function(){return{"click .js-modal-close":"onCloseClick"}},onRender:function(){var b=this;this.$el.detach().appendTo(a("body"));a("html").addClass(this.htmlClassName);this.renderOverlay();this.keyScope=key.getScope();key.setScope("modal");key("escape","modal",function(){b.close();return false});this.show();if(!!this.options.large){this.$el.addClass("modal-large")}},show:function(){var b=this;setTimeout(function(){b.$el.addClass("in");a("."+b.overlayClassName).addClass("in")},0)},onClose:function(){a("html").removeClass(this.htmlClassName);this.removeOverlay();key.deleteScope("modal");key.setScope(this.keyScope)},onCloseClick:function(a){a.preventDefault();this.close()},renderOverlay:function(){var b=a("."+this.overlayClassName);if(b.length===0){a('<div class="'+this.overlayClassName+'"></div>').appendTo(a("body"))}},removeOverlay:function(){a("."+this.overlayClassName).remove()},attachCloseEvents:function(){var c=this;a("body").on("click."+b,function(){a("body").off("click."+b);c.close()})}})});(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issue/views/rule-overlay",["common/modals","templates/issue"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.template=Templates["issue-rule"];c.prototype.serializeData=function(){return _.extend(c.__super__.serializeData.apply(this,arguments),{permalink:""+baseUrl+"/coding_rules#rule_key="+encodeURIComponent(this.model.get("key")),allTags:_.union(this.model.get("sysTags"),this.model.get("tags"))})};return c}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issue/views/tags-form-view",["issue/views/action-options-view","templates/issue"],function(a){var c;c=jQuery;return function(a){b(d,a);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.template=Templates["issue-tags-form"];d.prototype.optionTemplate=Templates["issue-tags-form-option"];d.prototype.modelEvents={"change:tags":"renderTags"};d.prototype.events=function(){return _.extend(d.__super__.events.apply(this,arguments),{"click input":"onInputClick","keydown input":"onInputKeydown","keyup input":"onInputKeyup"})};d.prototype.initialize=function(){d.__super__.initialize.apply(this,arguments);this.query="";this.tags=[];this.selected=0;this.debouncedSearch=_.debounce(this.search,250);return this.requestTags()};d.prototype.requestTags=function(){return c.get(""+baseUrl+"/api/issues/tags",{ps:25}).done(function(a){return function(b){a.tags=b.tags;return a.renderTags()}}(this))};d.prototype.onRender=function(){d.__super__.onRender.apply(this,arguments);this.renderTags();return setTimeout(function(a){return function(){return a.$("input").focus()}}(this),100)};d.prototype.selectInitialOption=function(){this.selected=Math.max(Math.min(this.selected,this.getOptions().length-1),0);return this.makeActive(this.getOptions().eq(this.selected))};d.prototype.filterTags=function(a){return _.filter(a,function(a){return function(b){return b.indexOf(a.query)!==-1}}(this))};d.prototype.renderTags=function(){this.$(".issue-action-option").remove();this.filterTags(this.getTags()).forEach(this.renderSelectedTag,this);this.filterTags(_.difference(this.tags,this.getTags())).forEach(this.renderTag,this);if(this.query.length>0&&this.tags.indexOf(this.query)===-1&&this.getTags().indexOf(this.query)===-1){this.renderCustomTag(this.query)}return this.selectInitialOption()};d.prototype.renderSelectedTag=function(a){var b;b=this.optionTemplate({tag:a,selected:true,custom:false});return this.$(".issue-action-options").append(b)};d.prototype.renderTag=function(a){var b;b=this.optionTemplate({tag:a,selected:false,custom:false});return this.$(".issue-action-options").append(b)};d.prototype.renderCustomTag=function(a){var b;b=this.optionTemplate({tag:a,selected:false,custom:true});return this.$(".issue-action-options").append(b)};d.prototype.selectOption=function(a){var b,d;a.preventDefault();a.stopPropagation();d=this.getTags().slice();b=c(a.currentTarget).data("value");if(c(a.currentTarget).data("selected")!=null){d=_.without(d,b)}else{d.push(b)}this.selected=this.getOptions().index(c(a.currentTarget));return this.submit(d)};d.prototype.submit=function(a){var b;b=this.getTags();this.model.set({tags:a});return c.ajax({type:"POST",url:""+baseUrl+"/api/issues/set_tags",data:{key:this.model.id,tags:a.join()}}).fail(function(a){return function(){return a.model.set({tags:b})}}(this))};d.prototype.onInputClick=function(a){return a.stopPropagation()};d.prototype.onInputKeydown=function(a){this.query=this.$("input").val();if(a.keyCode===38){return this.selectPreviousOption()}if(a.keyCode===40){return this.selectNextOption()}if(a.keyCode===13){return this.selectActiveOption()}if(a.keyCode===9){return false}if(a.keyCode===27){return this.close()}};d.prototype.onInputKeyup=function(){var a;a=this.$("input").val();if(a!==this.query){this.query=a;return this.debouncedSearch(a)}};d.prototype.search=function(a){this.query=a;return this.renderTags()};d.prototype.resetAssignees=function(a){this.assignees=a.map(function(a){return{id:a.login,text:a.name}});return this.renderTags()};d.prototype.getTags=function(){return this.model.get("tags")||[]};return d}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issue/issue-view",["issue/models/changelog","issue/views/changelog-view","issue/collections/action-plans","issue/views/issue-popup","issue/views/transitions-form-view","issue/views/assign-form-view","issue/views/comment-form-view","issue/views/plan-form-view","issue/views/set-severity-form-view","issue/views/more-actions-view","issue/views/rule-overlay","issue/views/tags-form-view","templates/issue"],function(a,c,d,e,f,g,h,i,j,k,l,m){var n;n=jQuery;return function(o){b(p,o);function p(){return p.__super__.constructor.apply(this,arguments)}p.prototype.className="issue";p.prototype.template=Templates["issue"];p.prototype.modelEvents={change:"render"};p.prototype.ui={tagsChange:".js-issue-edit-tags",tagInput:".issue-tag-input",tagsEdit:".issue-tag-edit",tagsEditDone:".issue-tag-edit-done",tagsEditCancel:".issue-tag-edit-cancel",tagsList:".issue-tag-list"};p.prototype.events=function(){return{"click .js-issue-comment":"comment","click .js-issue-comment-edit":"editComment","click .js-issue-comment-delete":"deleteComment","click .js-issue-transition":"transition","click .js-issue-set-severity":"setSeverity","click .js-issue-assign":"assign","click .js-issue-assign-to-me":"assignToMe","click .js-issue-plan":"plan","click .js-issue-show-changelog":"showChangeLog","click .js-issue-more":"showMoreActions","click .js-issue-rule":"showRule","click .js-issue-edit-tags":"editTags"}};p.prototype.onRender=function(){this.ui.tagsEdit.hide();return this.$el.attr("data-key",this.model.get("key"))};p.prototype.resetIssue=function(a){
var b,c;c=this.model.get("key");b=this.model.get("componentUuid");this.model.clear({silent:true});this.model.set({key:c,componentUuid:b},{silent:true});return this.model.fetch(a).done(function(a){return function(){return a.trigger("reset")}}(this))};p.prototype.showChangeLog=function(b){var d,e;e=n(b.currentTarget);d=new a;return d.fetch({data:{issue:this.model.get("key")}}).done(function(a){return function(){if(a.popup){a.popup.close()}a.popup=new c({triggerEl:e,bottomRight:true,collection:d,issue:a.model});return a.popup.render()}}(this))};p.prototype.showActionView=function(a,b,c){var d;if(b){if(this.popup){this.popup.close()}d={view:a,triggerEl:b};if(c!=null){d[c]=true}else{d["bottom"]=true}this.popup=new e(d);return this.popup.render()}};p.prototype.showActionSpinner=function(){return this.$(".code-issue-actions").addClass("navigator-fetching")};p.prototype.hideActionSpinner=function(){return this.$(".code-issue-actions").removeClass("navigator-fetching")};p.prototype.updateAfterAction=function(a){if(this.popup){this.popup.close()}if(a){return this.resetIssue()}};p.prototype.comment=function(a){a.stopPropagation();n("body").click();this.popup=new h({triggerEl:n(a.currentTarget),bottom:true,issue:this.model,detailView:this});return this.popup.render()};p.prototype.editComment=function(a){var b,c,d;a.stopPropagation();n("body").click();c=n(a.currentTarget).closest(".issue-comment");d=c.data("comment-key");b=_.findWhere(this.model.get("comments"),{key:d});this.popup=new h({triggerEl:n(a.currentTarget),bottomRight:true,model:new Backbone.Model(b),issue:this.model,detailView:this});return this.popup.render()};p.prototype.deleteComment=function(a){var b,c;b=n(a.target).closest("[data-comment-key]").data("comment-key");c=n(a.target).data("confirm-msg");if(confirm(c)){return n.ajax({type:"POST",url:baseUrl+"/api/issues/delete_comment?key="+b}).done(function(a){return function(){return a.updateAfterAction(true)}}(this))}};p.prototype.transition=function(a){a.stopPropagation();n("body").click();this.popup=new f({triggerEl:n(a.currentTarget),bottom:true,model:this.model,view:this});return this.popup.render()};p.prototype.setSeverity=function(a){a.stopPropagation();n("body").click();this.popup=new j({triggerEl:n(a.currentTarget),bottom:true,model:this.model});return this.popup.render()};p.prototype.assign=function(a){a.stopPropagation();n("body").click();this.popup=new g({triggerEl:n(a.currentTarget),bottom:true,model:this.model});return this.popup.render()};p.prototype.assignToMe=function(){var a;a=new g({model:this.model,triggerEl:n("body")});a.submit(window.SS.user,window.SS.userName);return a.close()};p.prototype.plan=function(a){var b,c;c=n(a.currentTarget);b=new d;return b.fetch({reset:true,data:{project:this.model.get("project")}}).done(function(d){return function(){a.stopPropagation();n("body").click();d.popup=new i({triggerEl:c,bottom:true,model:d.model,collection:b});return d.popup.render()}}(this))};p.prototype.showMoreActions=function(a){a.stopPropagation();n("body").click();this.popup=new k({triggerEl:n(a.currentTarget),bottomRight:true,model:this.model,detailView:this});return this.popup.render()};p.prototype.action=function(a){return n.post(""+baseUrl+"/api/issues/do_action",{issue:this.model.id,actionKey:a}).done(function(a){return function(){return a.resetIssue()}}(this))};p.prototype.showRule=function(){var a;a=this.model.get("rule");return n.get(""+baseUrl+"/api/rules/show",{key:a},function(a){return function(a){var b;b=new l({model:new Backbone.Model(a.rule),large:true});return b.render()}}(this))};p.prototype.editTags=function(a){a.stopPropagation();n("body").click();this.popup=new m({triggerEl:n(a.currentTarget),bottomRight:true,model:this.model});return this.popup.render()};p.prototype.changeTags=function(){return jQuery.ajax({url:""+baseUrl+"/api/issues/tags?ps=0"}).done(function(a){return function(b){var c;if(a.ui.tagInput.select2){a.ui.tagInput.select2({tags:_.difference(b.tags,a.model.get("tags")),width:"300px"})}if(a.ui.tagsEdit.show){a.ui.tagsEdit.show()}if(a.ui.tagsList.hide){a.ui.tagsList.hide()}a.tagsBuffer=a.ui.tagInput.select2("val");c=key.getScope();if(c!=="tags"){a.previousKeyScope=c}key.setScope("tags");key("escape","tags",function(){return a.cancelEdit()});a.$(".select2-input").keyup(function(b){if(b.which===27){return a.cancelEdit()}});return a.ui.tagInput.select2("focus")}}(this))};p.prototype.cancelEdit=function(){this.resetKeyScope();if(this.ui.tagsList.show){this.ui.tagsList.show()}if(this.ui.tagInput.select2){this.ui.tagInput.select2("val",this.tagsBuffer);this.ui.tagInput.select2("close")}if(this.ui.tagsEdit.hide){return this.ui.tagsEdit.hide()}};p.prototype.editDone=function(){var a,b,c;this.resetKeyScope();c=this.model.get("tags");b=this.ui.tagInput.val();a=b?b.split(","):null;this.model.set("tags",a);return n.post(""+baseUrl+"/api/issues/set_tags",{key:this.model.get("key"),tags:b}).done(function(a){return function(){return a.cancelEdit()}}(this)).fail(function(a){return function(){return a.model.set("tags",c)}}(this)).always(function(a){return function(){return a.render()}}(this))};p.prototype.resetKeyScope=function(){key.unbind("escape","tags");if(this.previousKeyScope){key.setScope(this.previousKeyScope);return this.previousKeyScope=null}};p.prototype.serializeData=function(){var a;a=encodeURIComponent(this.model.get("key"));return _.extend(p.__super__.serializeData.apply(this,arguments),{permalink:""+baseUrl+"/issues/search#issues="+a})};return p}(Marionette.ItemView)})}).call(this);Handlebars.registerPartial("_source-viewer-measures-all",Handlebars.template({1:function(a,b,c,d){var e,f=b.helperMissing,g='  <div class="source-viewer-measures-section source-viewer-measures-section-big">\n';e=(b.eachEven||a&&a.eachEven||f).call(a,a!=null?a.measuresToDisplay:a,{name:"eachEven",hash:{},fn:this.program(2,d),inverse:this.noop,data:d});if(e!=null){g+=e}g+='  </div>\n\n  <div class="source-viewer-measures-section source-viewer-measures-section-big">\n';e=(b.eachOdd||a&&a.eachOdd||f).call(a,a!=null?a.measuresToDisplay:a,{name:"eachOdd",hash:{},fn:this.program(5,d),inverse:this.noop,data:d});if(e!=null){g+=e}return g+"  </div>\n"},2:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='      <div class="source-viewer-measures-card">\n        <div class="measures">\n          <div class="measures-list">\n            <div class="measure measure-one-line measure-big">\n              <span class="measure-name">'+i((f=(f=b.name||(a!=null?a.name:a))!=null?f:h,typeof f===g?f.call(a,{name:"name",hash:{},data:d}):f))+"</span>\n            </div>\n";e=b.each.call(a,a!=null?a.metrics:a,{name:"each",hash:{},fn:this.program(3,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j+"          </div>\n        </div>\n      </div>\n"},3:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'                <div class="measure measure-one-line" data-metric="'+h((e=(e=b.key||(a!=null?a.key:a))!=null?e:g,typeof e===f?e.call(a,{name:"key",hash:{},data:d}):e))+'">\n                  <span class="measure-name">'+h((e=(e=b.name||(a!=null?a.name:a))!=null?e:g,typeof e===f?e.call(a,{name:"name",hash:{},data:d}):e))+'</span>\n                  <span class="measure-value">&nbsp;'+h((e=(e=b.value||(a!=null?a.value:a))!=null?e:g,typeof e===f?e.call(a,{name:"value",hash:{},data:d}):e))+"</span>\n                </div>\n"},5:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='      <div class="source-viewer-measures-card">\n        <div class="measures">\n          <div class="measures-list">\n            <div class="measure measure-one-line measure-big">\n              <span class="measure-name">'+i((f=(f=b.name||(a!=null?a.name:a))!=null?f:h,typeof f===g?f.call(a,{name:"name",hash:{},data:d}):f))+"</span>\n            </div>\n";e=b.each.call(a,a!=null?a.metrics:a,{name:"each",hash:{},fn:this.program(6,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j+"          </div>\n        </div>\n      </div>\n"},6:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'              <div class="measure measure-one-line" data-metric="'+h((e=(e=b.key||(a!=null?a.key:a))!=null?e:g,typeof e===f?e.call(a,{name:"key",hash:{},data:d}):e))+'">\n                <span class="measure-name">'+h((e=(e=b.name||(a!=null?a.name:a))!=null?e:g,typeof e===f?e.call(a,{name:"name",hash:{},data:d}):e))+'</span>\n                <span class="measure-value">&nbsp;'+h((e=(e=b.value||(a!=null?a.value:a))!=null?e:g,typeof e===f?e.call(a,{name:"value",hash:{},data:d}):e))+"</span>\n              </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g="";e=(b.notEmpty||a&&a.notEmpty||f).call(a,a!=null?a.measuresToDisplay:a,{name:"notEmpty",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){g+=e}return g+"\n"},useData:true}));Handlebars.registerPartial("_source-viewer-measures-coverage",Handlebars.template({1:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h='  <div class="measures">\n    <div class="measures-chart">\n      <span class="js-pie-chart"\n            data-value="'+g((b["default"]||a&&a["default"]||f).call(a,(e=a!=null?a.measures:a)!=null?e.overall_coverage_raw:e,(e=a!=null?a.measures:a)!=null?e.coverage_raw:e,(e=a!=null?a.measures:a)!=null?e.it_coverage_raw:e,{name:"default",hash:{},data:d}))+'"\n            data-max="100"\n            data-color="#85bb43"\n            data-base-color="#d4333f"\n            data-size="47"></span>\n    </div>\n    <div class="measure measure-big">\n      <span class="measure-value">'+g((b["default"]||a&&a["default"]||f).call(a,(e=a!=null?a.measures:a)!=null?e.overall_coverage:e,(e=a!=null?a.measures:a)!=null?e.coverage:e,(e=a!=null?a.measures:a)!=null?e.it_coverage:e,{name:"default",hash:{},data:d}))+'</span>\n      <span class="measure-name">'+g((b.t||a&&a.t||f).call(a,"metric.coverage.name",{name:"t",hash:{},data:d}))+"</span>\n    </div>\n  </div>\n\n";e=(b.any||a&&a.any||f).call(a,(e=a!=null?a.measures:a)!=null?e.covered_lines:e,(e=a!=null?a.measures:a)!=null?e.lines_to_cover:e,(e=a!=null?a.measures:a)!=null?e.covered_conditions:e,(e=a!=null?a.measures:a)!=null?e.conditions_to_cover:e,{name:"any",hash:{},fn:this.program(2,d),inverse:this.noop,data:d});if(e!=null){h+=e}h+="\n";e=(b.any||a&&a.any||f).call(a,(e=a!=null?a.measures:a)!=null?e.it_covered_lines:e,(e=a!=null?a.measures:a)!=null?e.it_lines_to_cover:e,(e=a!=null?a.measures:a)!=null?e.it_covered_conditions:e,(e=a!=null?a.measures:a)!=null?e.it_conditions_to_cover:e,{name:"any",hash:{},fn:this.program(5,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h},2:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression,h='    <div class="measures">\n      <div class="measures-list">\n        <div class="measure measure-one-line">\n          <span class="measure-name">Covered by Unit Tests</span>\n        </div>\n        <div class="measure measure-one-line">\n          <span class="measure-name">Lines</span>\n          <span class="measure-value">'+g(f((e=a!=null?a.measures:a)!=null?e.covered_lines:e,a))+"/"+g(f((e=a!=null?a.measures:a)!=null?e.lines_to_cover:e,a))+"</span>\n        </div>\n";e=b["if"].call(a,(e=a!=null?a.measures:a)!=null?e.conditions_to_cover:e,{name:"if",hash:{},fn:this.program(3,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h+"      </div>\n    </div>\n"},3:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h=this.lambda;return'          <div class="measure measure-one-line">\n            <span class="measure-name">Conditions</span>\n            <span class="measure-value">'+g((b["default"]||a&&a["default"]||f).call(a,(e=a!=null?a.measures:a)!=null?e.covered_conditions:e,0,{name:"default",hash:{},data:d}))+"/"+g(h((e=a!=null?a.measures:a)!=null?e.conditions_to_cover:e,a))+"</span>\n          </div>\n"},5:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression,h='    <div class="measures">\n      <div class="measures-list">\n        <div class="measure measure-one-line">\n          <span class="measure-name">Covered by Integration Tests</span>\n        </div>\n        <div class="measure measure-one-line">\n          <span class="measure-name">Lines</span>\n          <span class="measure-value">'+g(f((e=a!=null?a.measures:a)!=null?e.it_uncovered_lines:e,a))+"/"+g(f((e=a!=null?a.measures:a)!=null?e.it_lines_to_cover:e,a))+"</span>\n        </div>\n";e=b["if"].call(a,(e=a!=null?a.measures:a)!=null?e.it_conditions_to_cover:e,{name:"if",hash:{},fn:this.program(6,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h+"      </div>\n    </div>\n"},6:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h=this.lambda;return'          <div class="measure measure-one-line">\n            <span class="measure-name">Conditions</span>\n            <span class="measure-value">'+g((b["default"]||a&&a["default"]||f).call(a,(e=a!=null?a.measures:a)!=null?e.it_uncovered_conditions:e,0,{name:"default",hash:{},data:d}))+"/"+g(h((e=a!=null?a.measures:a)!=null?e.it_conditions_to_cover:e,a))+"</span>\n          </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g="";e=(b.any||a&&a.any||f).call(a,(e=a!=null?a.measures:a)!=null?e.coverage:e,(e=a!=null?a.measures:a)!=null?e.it_coverage:e,{name:"any",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){g+=e}return g},useData:true}));Handlebars.registerPartial("_source-viewer-measures-duplications",Handlebars.template({1:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression,h=b.helperMissing;return'  <div class="source-viewer-measures-card">\n    <div class="measures">\n      <div class="measures-chart">\n          <span class="js-pie-chart"\n                data-value="'+g(f((e=a!=null?a.measures:a)!=null?e.duplicated_lines_density_raw:e,a))+'"\n                data-max="100"\n                data-size="50"\n                data-color="#f3ca8e"></span>\n      </div>\n      <div class="measure measure-big" data-metric="duplicated_lines_density">\n        <span class="measure-value">'+g(f((e=a!=null?a.measures:a)!=null?e.duplicated_lines_density:e,a))+'</span>\n        <span class="measure-name">Duplications</span>\n      </div>\n    </div>\n\n    <div class="measures">\n      <div class="measures-list">\n        <div class="measure measure-one-line" data-metric="duplicated_blocks">\n          <span class="measure-name">'+g((b.t||a&&a.t||h).call(a,"metric.duplicated_blocks.name",{name:"t",hash:{},data:d}))+'</span>\n          <span class="measure-value">'+g(f((e=a!=null?a.measures:a)!=null?e.duplicated_blocks:e,a))+'</span>\n        </div>\n        <div class="measure measure-one-line" data-metric="duplicated_lines">\n          <span class="measure-name">'+g((b.t||a&&a.t||h).call(a,"metric.duplicated_lines.name",{name:"t",hash:{},data:d}))+'</span>\n          <span class="measure-value">'+g(f((e=a!=null?a.measures:a)!=null?e.duplicated_lines:e,a))+"</span>\n        </div>\n      </div>\n    </div>\n  </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g="";e=(b.notNull||a&&a.notNull||f).call(a,(e=a!=null?a.measures:a)!=null?e.duplicated_lines_density:e,{name:"notNull",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){g+=e}return g},useData:true}));Handlebars.registerPartial("_source-viewer-measures-issues",Handlebars.template({1:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression;return'        <div class="measure measure-big" data-metric="sqale_rating">\n          <span class="rating rating-'+g(f((e=a!=null?a.measures:a)!=null?e.sqale_rating:e,a))+'">'+g(f((e=a!=null?a.measures:a)!=null?e.sqale_rating:e,a))+"</span>\n        </div>\n"},3:function(a,b,c,d,e){var f,g='    <div class="measures">\n      <div class="measures-list">\n';f=b.each.call(a,(f=a!=null?a.issuesFacets:a)!=null?f.severities:f,{name:"each",hash:{},fn:this.program(4,d,e),inverse:this.noop,data:d});if(f!=null){g+=f}g+='      </div>\n    </div>\n\n    <div class="measures">\n      <div class="measures-list">\n';f=b.each.call(a,(f=a!=null?a.issuesFacets:a)!=null?f.tags:f,{name:"each",hash:{},fn:this.program(6,d,e),inverse:this.noop,data:d});if(f!=null){g+=f}return g+"      </div>\n    </div>\n"},4:function(a,b,c,d,e){var f,g=b.helperMissing,h=this.escapeExpression,i="function";return'          <div class="measure measure-one-line measure-with-bar">\n            <span class="measure-name">'+h((b.severity||a&&a.severity||g).call(a,a!=null?a.val:a,{name:"severity",hash:{},data:d}))+'</span>\n            <span class="measure-value">'+h((f=(f=b.count||(a!=null?a.count:a))!=null?f:g,typeof f===i?f.call(a,{name:"count",hash:{},data:d}):f))+'</span>\n            <span class="measure-bar">\n              <span class="measure-bar-inner measure-bar-inner-'+h((f=(f=b.val||(a!=null?a.val:a))!=null?f:g,typeof f===i?f.call(a,{name:"val",hash:{},data:d}):f))+'"\n                    style="width: '+h((b.percent||a&&a.percent||g).call(a,a!=null?a.count:a,e[1]!=null?e[1].maxCountBySeverity:e[1],{name:"percent",hash:{},data:d}))+'"></span>\n            </span>\n          </div>\n'},6:function(a,b,c,d,e){var f,g="function",h=b.helperMissing,i=this.escapeExpression;return'          <div class="measure measure-one-line measure-with-bar">\n            <span class="measure-name">'+i((f=(f=b.val||(a!=null?a.val:a))!=null?f:h,typeof f===g?f.call(a,{name:"val",hash:{},data:d}):f))+'</span>\n            <span class="measure-value">'+i((f=(f=b.count||(a!=null?a.count:a))!=null?f:h,typeof f===g?f.call(a,{name:"count",hash:{},data:d}):f))+'</span>\n            <span class="measure-bar">\n              <span class="measure-bar-inner"\n                    style="width: '+i((b.percent||a&&a.percent||h).call(a,a!=null?a.count:a,e[1]!=null?e[1].maxCountByTag:e[1],{name:"percent",hash:{},data:d}))+'"></span>\n            </span>\n          </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d,e){var f,g=b.helperMissing,h=this.escapeExpression,i='<div class="source-viewer-measures-card">\n    <div class="measures">\n';f=b["if"].call(a,(f=a!=null?a.measures:a)!=null?f.sqale_rating:f,{name:"if",hash:{},fn:this.program(1,d,e),inverse:this.noop,data:d});if(f!=null){i+=f}i+='      <div class="measure measure-big" data-metric="sqale_index">\n        <span class="measure-value">'+h((b["default"]||a&&a["default"]||g).call(a,(f=a!=null?a.measures:a)!=null?f.sqale_index:f,0,{name:"default",hash:{},data:d}))+'</span>\n        <span class="measure-name">'+h((b.t||a&&a.t||g).call(a,"metric.sqale_index.short_name",{name:"t",hash:{},data:d}))+'</span>\n      </div>\n      <div class="measure measure-big" data-metric="violations">\n        <span class="measure-value">'+h((b["default"]||a&&a["default"]||g).call(a,a!=null?a.issuesCount:a,0,{name:"default",hash:{},data:d}))+'</span>\n        <span class="measure-name">'+h((b.t||a&&a.t||g).call(a,"metric.violations.name",{name:"t",hash:{},data:d}))+"</span>\n      </div>\n    </div>\n\n";f=b["if"].call(a,a!=null?a.issuesCount:a,{name:"if",hash:{},fn:this.program(3,d,e),inverse:this.noop,data:d});if(f!=null){i+=f}return i+"</div>\n"},useData:true,useDepths:true}));Handlebars.registerPartial("_source-viewer-measures-lines",Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h=this.lambda;return'<div class="measures">\n  <div class="measures-list">\n    <div class="measure measure-one-line" data-metric="lines">\n      <span class="measure-name">'+g((b.t||a&&a.t||f).call(a,"metric.lines.name",{name:"t",hash:{},data:d}))+'</span>\n      <span class="measure-value">'+g(h((e=a!=null?a.measures:a)!=null?e.lines:e,a))+'</span>\n    </div>\n    <div class="measure measure-one-line" data-metric="ncloc">\n      <span class="measure-name">'+g((b.t||a&&a.t||f).call(a,"metric.ncloc.name",{name:"t",hash:{},data:d}))+'</span>\n      <span class="measure-value">'+g(h((e=a!=null?a.measures:a)!=null?e.ncloc:e,a))+'</span>\n    </div>\n    <div class="measure measure-one-line" data-metric="comment_lines">\n      <span class="measure-name">Comments</span>\n      <span class="measure-value">'+g(h((e=a!=null?a.measures:a)!=null?e.comment_lines_density:e,a))+" / "+g(h((e=a!=null?a.measures:a)!=null?e.comment_lines:e,a))+'</span>\n    </div>\n  </div>\n</div>\n\n<div class="measures">\n  <div class="measures-list">\n    <div class="measure measure-one-line" data-metric="complexity">\n      <span class="measure-name">'+g((b.t||a&&a.t||f).call(a,"metric.complexity.name",{name:"t",hash:{},data:d}))+'</span>\n      <span class="measure-value">'+g(h((e=a!=null?a.measures:a)!=null?e.complexity:e,a))+'</span>\n    </div>\n    <div class="measure measure-one-line" data-metric="function_complexity">\n      <span class="measure-name">'+g((b.t||a&&a.t||f).call(a,"metric.function_complexity.name",{name:"t",hash:{},data:d}))+'</span>\n      <span class="measure-value">'+g(h((e=a!=null?a.measures:a)!=null?e.function_complexity:e,a))+"</span>\n    </div>\n  </div>\n</div>\n"},useData:true}));Handlebars.registerPartial("_source-viewer-measures-test-cases",Handlebars.template({1:function(a,b,c,d){return"active-link"},3:function(a,b,c,d){var e,f=b.helperMissing,g="          <tr>\n";e=(b.eq||a&&a.eq||f).call(a,a!=null?a.status:a,"SKIPPED",{name:"eq",hash:{},fn:this.program(4,d),inverse:this.program(6,d),data:d});if(e!=null){g+=e}return g+"          </tr>\n"},4:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h="function";return'              <td class="source-viewer-test-status subtitle">'+g((b.testStatusIcon||a&&a.testStatusIcon||f).call(a,a!=null?a.status:a,{name:"testStatusIcon",hash:{},data:d}))+'</td>\n              <td class="source-viewer-test-duration subtitle"></td>\n              <td class="source-viewer-test-name">'+g((e=(e=b.name||(a!=null?a.name:a))!=null?e:f,typeof e===h?e.call(a,{name:"name",hash:{},data:d}):e))+'</td>\n              <td class="source-viewer-test-covered-lines subtitle"></td>\n'},6:function(a,b,c,d){var e,f=b.helperMissing,g="";e=(b.ifTestData||a&&a.ifTestData||f).call(a,a,{name:"ifTestData",hash:{},fn:this.program(7,d),inverse:this.program(9,d),data:d});if(e!=null){g+=e}return g},7:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h="function";return'                <td class="source-viewer-test-status subtitle">'+g((b.testStatusIcon||a&&a.testStatusIcon||f).call(a,a!=null?a.status:a,{name:"testStatusIcon",hash:{},data:d}))+'</td>\n                <td class="source-viewer-test-duration subtitle">'+g((e=(e=b.durationInMs||(a!=null?a.durationInMs:a))!=null?e:f,typeof e===h?e.call(a,{name:"durationInMs",hash:{},data:d}):e))+'ms</td>\n                <td class="source-viewer-test-name"><a class="js-show-test" data-name="'+g((e=(e=b.name||(a!=null?a.name:a))!=null?e:f,typeof e===h?e.call(a,{name:"name",hash:{},data:d}):e))+'">'+g((e=(e=b.name||(a!=null?a.name:a))!=null?e:f,typeof e===h?e.call(a,{name:"name",hash:{},data:d}):e))+'</a></td>\n                <td class="source-viewer-test-covered-lines subtitle">'+g((e=(e=b.coveredLines||(a!=null?a.coveredLines:a))!=null?e:f,typeof e===h?e.call(a,{name:"coveredLines",hash:{},data:d}):e))+"</td>\n"},9:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h="function";return'                <td class="source-viewer-test-status subtitle">'+g((b.testStatusIcon||a&&a.testStatusIcon||f).call(a,a!=null?a.status:a,{name:"testStatusIcon",hash:{},data:d}))+'</td>\n                <td class="source-viewer-test-duration subtitle">'+g((e=(e=b.durationInMs||(a!=null?a.durationInMs:a))!=null?e:f,typeof e===h?e.call(a,{name:"durationInMs",hash:{},data:d}):e))+'ms</td>\n                <td class="source-viewer-test-name">'+g((e=(e=b.name||(a!=null?a.name:a))!=null?e:f,typeof e===h?e.call(a,{name:"name",hash:{},data:d}):e))+"</td>\n"},11:function(a,b,c,d){var e,f=b.helperMissing,g='  <div class="source-viewer-measures-section source-viewer-measures-section-big js-selected-test">\n    <div class="source-viewer-measures-card source-viewer-measures-card-fixed-height">\n';e=(b.notEq||a&&a.notEq||f).call(a,(e=a!=null?a.selectedTest:a)!=null?e.status:e,"ERROR",{name:"notEq",hash:{},fn:this.program(12,d),inverse:this.noop,data:d});if(e!=null){g+=e}g+="\n";e=(b.notEq||a&&a.notEq||f).call(a,(e=a!=null?a.selectedTest:a)!=null?e.status:e,"OK",{name:"notEq",hash:{},fn:this.program(18,d),inverse:this.noop,data:d});if(e!=null){g+=e}return g+"    </div>\n  </div>\n"},12:function(a,b,c,d){var e,f=b.helperMissing,g="";e=(b.notEq||a&&a.notEq||f).call(a,(e=a!=null?a.selectedTest:a)!=null?e.status:e,"FAILURE",{name:"notEq",hash:{},fn:this.program(13,d),inverse:this.noop,data:d});if(e!=null){g+=e}return g},13:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h='          <div class="bubble-popup-title">'+g((b.t||a&&a.t||f).call(a,"component_viewer.transition.covers",{name:"t",hash:{},data:d}))+"</div>\n";e=b.each.call(a,a!=null?a.coveredFiles:a,{name:"each",hash:{},fn:this.program(14,d),inverse:this.program(16,d),data:d});if(e!=null){h+=e}return h},14:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h="function";return'            <div class="bubble-popup-section">\n              <a target="_blank" href="'+g((b.dashboardUrl||a&&a.dashboardUrl||f).call(a,a!=null?a.key:a,{name:"dashboardUrl",hash:{},data:d}))+'" title="'+g((e=(e=b.longName||(a!=null?a.longName:a))!=null?e:f,typeof e===h?e.call(a,{name:"longName",hash:{},data:d}):e))+'">'+g((e=(e=b.longName||(a!=null?a.longName:a))!=null?e:f,typeof e===h?e.call(a,{name:"longName",hash:{},data:d}):e))+'</a>\n              <span class="subtitle">'+g((b.tp||a&&a.tp||f).call(a,"component_viewer.x_lines_are_covered",a!=null?a.coveredLines:a,{name:"tp",hash:{},data:d}))+"</span>\n            </div>\n"},16:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return"            "+f((b.t||a&&a.t||e).call(a,"none",{name:"t",hash:{},data:d}))+"\n"},18:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h=this.lambda,i='        <div class="bubble-popup-title">'+g((b.t||a&&a.t||f).call(a,"component_viewer.details",{name:"t",hash:{},data:d}))+"</div>\n";e=b["if"].call(a,(e=a!=null?a.selectedTest:a)!=null?e.message:e,{name:"if",hash:{},fn:this.program(19,d),inverse:this.noop,data:d});if(e!=null){i+=e}return i+"        <pre>"+g(h((e=a!=null?a.selectedTest:a)!=null?e.stackTrace:e,a))+"</pre>\n"},19:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression;return"          <pre>"+g(f((e=a!=null?a.selectedTest:a)!=null?e.message:e,a))+"</pre>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h='<div class="source-viewer-measures-section source-viewer-measures-section-big">\n  <div class="source-viewer-measures-card source-viewer-measures-card-fixed-height js-test-list">\n    <div class="measures">\n      <table class="source-viewer-tests-list">\n        <tr>\n          <td class="source-viewer-test-status subtitle" colspan="3">\n            '+g((b.t||a&&a.t||f).call(a,"component_viewer.measure_section.unit_tests",{name:"t",hash:{},data:d}))+"<br>\n            "+g((b.t||a&&a.t||f).call(a,"component_viewer.tests.ordered_by",{name:"t",hash:{},data:d}))+'\n            <a class="js-sort-tests-by-duration ';e=(b.eq||a&&a.eq||f).call(a,a!=null?a.testSorting:a,"duration",{name:"eq",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){h+=e}h+='">\n              '+g((b.t||a&&a.t||f).call(a,"component_viewer.tests.duration",{name:"t",hash:{},data:d}))+'</a>\n            /\n            <a class="js-sort-tests-by-name ';e=(b.eq||a&&a.eq||f).call(a,a!=null?a.testSorting:a,"name",{name:"eq",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){h+=e}h+='">\n              '+g((b.t||a&&a.t||f).call(a,"component_viewer.tests.test_name",{name:"t",hash:{},data:d}))+'</a>\n            /\n            <a class="js-sort-tests-by-status ';e=(b.eq||a&&a.eq||f).call(a,a!=null?a.testSorting:a,"status",{name:"eq",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){h+=e}h+='">\n              '+g((b.t||a&&a.t||f).call(a,"component_viewer.tests.status",{name:"t",hash:{},data:d}))+'</a>\n          </td>\n          <td class="source-viewer-test-covered-lines subtitle">'+g((b.t||a&&a.t||f).call(a,"component_viewer.covered_lines",{name:"t",hash:{},data:d}))+"</td>\n        </tr>\n";e=b.each.call(a,a!=null?a.tests:a,{name:"each",hash:{},fn:this.program(3,d),inverse:this.noop,data:d});if(e!=null){h+=e}h+="      </table>\n    </div>\n  </div>\n</div>\n\n";e=b["if"].call(a,a!=null?a.selectedTest:a,{name:"if",hash:{},fn:this.program(11,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h},useData:true}));Handlebars.registerPartial("_source-viewer-measures-tests",Handlebars.template({1:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h=this.lambda;return'        <div class="measure measure-one-line" data-metric="test_success_density">\n          <span class="measure-name">'+g((b.t||a&&a.t||f).call(a,"metric.test_success_density.name",{name:"t",hash:{},data:d}))+'</span>\n          <span class="measure-value">'+g(h((e=a!=null?a.measures:a)!=null?e.test_success_density:e,a))+"</span>\n        </div>\n"},3:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h=this.lambda;return'        <div class="measure measure-one-line" data-metric="test_failures">\n          <span class="measure-name">'+g((b.t||a&&a.t||f).call(a,"metric.test_failures.name",{name:"t",hash:{},data:d}))+'</span>\n          <span class="measure-value">'+g(h((e=a!=null?a.measures:a)!=null?e.test_failures:e,a))+"</span>\n        </div>\n"},5:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h=this.lambda;return'        <div class="measure measure-one-line" data-metric="test_errors">\n          <span class="measure-name">'+g((b.t||a&&a.t||f).call(a,"metric.test_errors.name",{name:"t",hash:{},data:d}))+'</span>\n          <span class="measure-value">'+g(h((e=a!=null?a.measures:a)!=null?e.test_errors:e,a))+"</span>\n        </div>\n"},7:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h=this.lambda;return'        <div class="measure measure-one-line" data-metric="skipped_tests">\n          <span class="measure-name">'+g((b.t||a&&a.t||f).call(a,"metric.skipped_tests.name",{name:"t",hash:{},data:d}))+'</span>\n          <span class="measure-value">'+g(h((e=a!=null?a.measures:a)!=null?e.skipped_tests:e,a))+"</span>\n        </div>\n"},9:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h=this.lambda;return'        <div class="measure measure-one-line" data-metric="test_execution_time">\n          <span class="measure-name">'+g((b.t||a&&a.t||f).call(a,"metric.test_execution_time.name",{name:"t",hash:{},data:d}))+'</span>\n          <span class="measure-value">'+g(h((e=a!=null?a.measures:a)!=null?e.test_execution_time:e,a))+"</span>\n        </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h=this.lambda,i='<div class="source-viewer-measures-card">\n  <div class="measures">\n    <div class="measures-list">\n      <div class="measure measure-big" data-metric="tests">\n        <span class="measure-name">'+g((b.t||a&&a.t||f).call(a,"metric.tests.name",{name:"t",hash:{},data:d}))+'</span>\n        <span class="measure-value">'+g(h((e=a!=null?a.measures:a)!=null?e.tests:e,a))+"</span>\n      </div>\n";e=(b.notNull||a&&a.notNull||f).call(a,(e=a!=null?a.measures:a)!=null?e.test_success_density:e,{name:"notNull",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){i+=e}e=(b.notNull||a&&a.notNull||f).call(a,(e=a!=null?a.measures:a)!=null?e.test_failures:e,{name:"notNull",hash:{},fn:this.program(3,d),inverse:this.noop,data:d});if(e!=null){i+=e}e=(b.notNull||a&&a.notNull||f).call(a,(e=a!=null?a.measures:a)!=null?e.test_errors:e,{
name:"notNull",hash:{},fn:this.program(5,d),inverse:this.noop,data:d});if(e!=null){i+=e}e=(b.notNull||a&&a.notNull||f).call(a,(e=a!=null?a.measures:a)!=null?e.skipped_tests:e,{name:"notNull",hash:{},fn:this.program(7,d),inverse:this.noop,data:d});if(e!=null){i+=e}e=(b.notNull||a&&a.notNull||f).call(a,(e=a!=null?a.measures:a)!=null?e.test_execution_time:e,{name:"notNull",hash:{},fn:this.program(9,d),inverse:this.noop,data:d});if(e!=null){i+=e}return i+"    </div>\n  </div>\n</div>\n"},useData:true}));this["Templates"]=this["Templates"]||{};this["Templates"]["source-viewer-coverage-popup"]=Handlebars.template({1:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h="      "+g((b.t||a&&a.t||f).call(a,"source_viewer",a!=null?a.tests:a,"covered",{name:"t",hash:{},data:d}))+"\n";e=b["if"].call(a,(e=a!=null?a.row:a)!=null?e.conditions:e,{name:"if",hash:{},fn:this.program(2,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h},2:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h=this.lambda;return"        ("+g((b["default"]||a&&a["default"]||f).call(a,(e=a!=null?a.row:a)!=null?e.coveredConditions:e,0,{name:"default",hash:{},data:d}))+" of "+g(h((e=a!=null?a.row:a)!=null?e.conditions:e,a))+" "+g((b.t||a&&a.t||f).call(a,"source_viewer.conditions",{name:"t",hash:{},data:d}))+")\n"},4:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h="      "+g((b.t||a&&a.t||f).call(a,"source_viewer",a!=null?a.tests:a,"not_covered",{name:"t",hash:{},data:d}))+"\n";e=b["if"].call(a,(e=a!=null?a.row:a)!=null?e.conditions:e,{name:"if",hash:{},fn:this.program(5,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h},5:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression,h=b.helperMissing;return"        ("+g(f((e=a!=null?a.row:a)!=null?e.conditions:e,a))+" "+g((b.t||a&&a.t||h).call(a,"source_viewer.conditions",{name:"t",hash:{},data:d}))+")\n"},7:function(a,b,c,d,e){var f,g=this.lambda,h=this.escapeExpression,i='    <div class="bubble-popup-section">\n      <a class="component-viewer-popup-test-file link-action" data-key="'+h(g((f=a!=null?a.file:a)!=null?f.key:f,a))+'" title="'+h(g((f=a!=null?a.file:a)!=null?f.longName:f,a))+'">\n        '+h(g((f=a!=null?a.file:a)!=null?f.longName:f,a))+'\n      </a>\n      <ul class="bubble-popup-list">\n';f=b.each.call(a,a!=null?a.tests:a,{name:"each",hash:{},fn:this.program(8,d,e),inverse:this.noop,data:d});if(f!=null){i+=f}return i+"      </ul>\n    </div>\n"},8:function(a,b,c,d,e){var f,g,h="function",i=b.helperMissing,j=this.escapeExpression,k=this.lambda;return'          <li class="component-viewer-popup-test" title="'+j((g=(g=b.name||(a!=null?a.name:a))!=null?g:i,typeof g===h?g.call(a,{name:"name",hash:{},data:d}):g))+'">\n            <i class="component-viewer-popup-test-status '+j((b.testStatusIconClass||a&&a.testStatusIconClass||i).call(a,a!=null?a.status:a,{name:"testStatusIconClass",hash:{},data:d}))+'"></i>\n            <span class="component-viewer-popup-test-name">\n              <a class="component-viewer-popup-test-file link-action" title="'+j((g=(g=b.name||(a!=null?a.name:a))!=null?g:i,typeof g===h?g.call(a,{name:"name",hash:{},data:d}):g))+'"\n                 data-key="'+j(k((f=e[1]!=null?e[1].file:e[1])!=null?f.key:f,a))+'" data-method="'+j((g=(g=b.name||(a!=null?a.name:a))!=null?g:i,typeof g===h?g.call(a,{name:"name",hash:{},data:d}):g))+'">\n                '+j((g=(g=b.name||(a!=null?a.name:a))!=null?g:i,typeof g===h?g.call(a,{name:"name",hash:{},data:d}):g))+'\n              </a>\n            </span>\n            <span class="component-viewer-popup-test-duration">'+j((g=(g=b.durationInMs||(a!=null?a.durationInMs:a))!=null?g:i,typeof g===h?g.call(a,{name:"durationInMs",hash:{},data:d}):g))+"ms</span>\n          </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d,e){var f,g='<div class="bubble-popup-container">\n  <div class="bubble-popup-title">\n';f=b["if"].call(a,(f=a!=null?a.row:a)!=null?f.lineHits:f,{name:"if",hash:{},fn:this.program(1,d,e),inverse:this.program(4,d,e),data:d});if(f!=null){g+=f}g+="  </div>\n\n";f=b.each.call(a,a!=null?a.testFiles:a,{name:"each",hash:{},fn:this.program(7,d,e),inverse:this.noop,data:d});if(f!=null){g+=f}return g+'</div>\n\n<div class="bubble-popup-arrow"></div>\n'},useData:true,useDepths:true});this["Templates"]["source-viewer-duplication-popup"]=Handlebars.template({1:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'    <div class="alert alert-warning spacer-bottom">'+f((b.t||a&&a.t||e).call(a,"duplications.dups_found_on_deleted_resource",{name:"t",hash:{},data:d}))+"</div>\n"},3:function(a,b,c,d,e){var f,g=b.helperMissing,h=this.escapeExpression,i='    <div class="bubble-popup-title">'+h((b.t||a&&a.t||g).call(a,"component_viewer.transition.duplication",{name:"t",hash:{},data:d}))+"</div>\n";f=b.each.call(a,a!=null?a.duplications:a,{name:"each",hash:{},fn:this.program(4,d,e),inverse:this.noop,data:d});if(f!=null){i+=f}return i},4:function(a,b,c,d,e){var f,g=b.helperMissing,h='      <div class="bubble-popup-section">\n        <div class="component-name">\n';f=(b.notEqComponents||a&&a.notEqComponents||g).call(a,a!=null?a.file:a,e[1]!=null?e[1].component:e[1],{name:"notEqComponents",hash:{},fn:this.program(5,d,e),inverse:this.noop,data:d});if(f!=null){h+=f}h+="\n";f=(b.notEq||a&&a.notEq||g).call(a,(f=a!=null?a.file:a)!=null?f.key:f,(f=e[1]!=null?e[1].component:e[1])!=null?f.key:f,{name:"notEq",hash:{},fn:this.program(8,d,e),inverse:this.noop,data:d});if(f!=null){h+=f}h+='\n          <div class="component-name-path">\n            Lines:\n';f=(b.joinEach||a&&a.joinEach||g).call(a,a!=null?a.blocks:a,",",{name:"joinEach",hash:{},fn:this.program(10,d,e),inverse:this.noop,data:d});if(f!=null){h+=f}return h+"          </div>\n        </div>\n      </div>\n"},5:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h=this.lambda,i='            <div class="component-name-parent">\n              <i class="icon-qualifier-trk"></i>&nbsp;<a href="'+g((b.dashboardUrl||a&&a.dashboardUrl||f).call(a,(e=a!=null?a.file:a)!=null?e.project:e,{name:"dashboardUrl",hash:{},data:d}))+'">'+g(h((e=a!=null?a.file:a)!=null?e.projectName:e,a))+"</a>\n            </div>\n";e=b["if"].call(a,(e=a!=null?a.file:a)!=null?e.subProjectName:e,{name:"if",hash:{},fn:this.program(6,d),inverse:this.noop,data:d});if(e!=null){i+=e}return i},6:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h=this.lambda;return'              <div class="component-name-parent">\n                <i class="icon-qualifier-trk"></i>&nbsp;<a\n                  href="'+g((b.dashboardUrl||a&&a.dashboardUrl||f).call(a,(e=a!=null?a.file:a)!=null?e.subProject:e,{name:"dashboardUrl",hash:{},data:d}))+'">'+g(h((e=a!=null?a.file:a)!=null?e.subProjectName:e,a))+"</a>\n              </div>\n"},8:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression,h=b.helperMissing;return'            <div class="component-name-path">\n              <a class="link-action" data-key="'+g(f((e=a!=null?a.file:a)!=null?e.key:e,a))+'" title="'+g(f((e=a!=null?a.file:a)!=null?e.name:e,a))+'">\n                <span>'+g((b.collapsedDirFromPath||a&&a.collapsedDirFromPath||h).call(a,(e=a!=null?a.file:a)!=null?e.name:e,{name:"collapsedDirFromPath",hash:{},data:d}))+'</span><span\n                  class="component-name-file">'+g((b.fileFromPath||a&&a.fileFromPath||h).call(a,(e=a!=null?a.file:a)!=null?e.name:e,{name:"fileFromPath",hash:{},data:d}))+"</span>\n              </a>\n            </div>\n"},10:function(a,b,c,d,e){var f,g,h=this.lambda,i=this.escapeExpression,j="function",k=b.helperMissing;return'              <a class="link-action" data-key="'+i(h((f=e[1]!=null?e[1].file:e[1])!=null?f.key:f,a))+'" data-line="'+i((g=(g=b.from||(a!=null?a.from:a))!=null?g:k,typeof g===j?g.call(a,{name:"from",hash:{},data:d}):g))+'">\n                '+i((g=(g=b.from||(a!=null?a.from:a))!=null?g:k,typeof g===j?g.call(a,{name:"from",hash:{},data:d}):g))+"  "+i((b.sum||a&&a.sum||k).call(a,a!=null?a.from:a,a!=null?a.size:a,-1,{name:"sum",hash:{},data:d}))+"\n              </a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d,e){var f,g=b.helperMissing,h='<div class="bubble-popup-container">\n';f=b["if"].call(a,a!=null?a.inRemovedComponent:a,{name:"if",hash:{},fn:this.program(1,d,e),inverse:this.noop,data:d});if(f!=null){h+=f}f=(b.notEmpty||a&&a.notEmpty||g).call(a,a!=null?a.duplications:a,{name:"notEmpty",hash:{},fn:this.program(3,d,e),inverse:this.noop,data:d});if(f!=null){h+=f}return h+'</div>\n\n<div class="bubble-popup-arrow"></div>\n'},useData:true,useDepths:true});this["Templates"]["source-viewer-header"]=Handlebars.template({1:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h="";e=b["if"].call(a,a!=null?a.projectName:a,{name:"if",hash:{},fn:this.program(2,d),inverse:this.noop,data:d});if(e!=null){h+=e}h+='\n      <div class="component-name-path">\n        '+g((b.qualifierIcon||a&&a.qualifierIcon||f).call(a,a!=null?a.q:a,{name:"qualifierIcon",hash:{},data:d}))+"&nbsp;<span>"+g((b.collapsedDirFromPath||a&&a.collapsedDirFromPath||f).call(a,a!=null?a.path:a,{name:"collapsedDirFromPath",hash:{},data:d}))+'</span><span class="component-name-file">'+g((b.fileFromPath||a&&a.fileFromPath||f).call(a,a!=null?a.path:a,{name:"fileFromPath",hash:{},data:d}))+"</span>\n\n";e=b["if"].call(a,a!=null?a.canMarkAsFavourite:a,{name:"if",hash:{},fn:this.program(5,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h+"      </div>\n"},2:function(a,b,c,d){var e,f,g=b.helperMissing,h=this.escapeExpression,i="function",j='        <div class="component-name-parent">\n          '+h((b.qualifierIcon||a&&a.qualifierIcon||g).call(a,"TRK",{name:"qualifierIcon",hash:{},data:d}))+'&nbsp;<a href="'+h((b.dashboardUrl||a&&a.dashboardUrl||g).call(a,a!=null?a.project:a,{name:"dashboardUrl",hash:{},data:d}))+'">'+h((f=(f=b.projectName||(a!=null?a.projectName:a))!=null?f:g,typeof f===i?f.call(a,{name:"projectName",hash:{},data:d}):f))+"</a>\n        </div>\n";e=b["if"].call(a,a!=null?a.subProjectName:a,{name:"if",hash:{},fn:this.program(3,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j},3:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h="function";return'          <div class="component-name-parent">\n            '+g((b.qualifierIcon||a&&a.qualifierIcon||f).call(a,"TRK",{name:"qualifierIcon",hash:{},data:d}))+'&nbsp;<a href="'+g((b.dashboardUrl||a&&a.dashboardUrl||f).call(a,a!=null?a.subProject:a,{name:"dashboardUrl",hash:{},data:d}))+'">'+g((e=(e=b.subProjectName||(a!=null?a.subProjectName:a))!=null?e:f,typeof e===h?e.call(a,{name:"subProjectName",hash:{},data:d}):e))+"</a>\n          </div>\n"},5:function(a,b,c,d){var e,f='          <a class="js-favorite component-name-favorite ';e=b["if"].call(a,a!=null?a.fav:a,{name:"if",hash:{},fn:this.program(6,d),inverse:this.program(8,d),data:d});if(e!=null){f+=e}f+='"\n             title="';e=b["if"].call(a,a!=null?a.fav:a,{name:"if",hash:{},fn:this.program(10,d),inverse:this.program(12,d),data:d});if(e!=null){f+=e}return f+'">\n          </a>\n'},6:function(a,b,c,d){return"icon-favorite"},8:function(a,b,c,d){return"icon-not-favorite"},10:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return f((b.t||a&&a.t||e).call(a,"click_to_remove_from_favorites",{name:"t",hash:{},data:d}))},12:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return f((b.t||a&&a.t||e).call(a,"click_to_add_to_favorites",{name:"t",hash:{},data:d}))},14:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'      <div class="source-viewer-header-component-project removed">'+h((e=(e=b.removedMessage||(a!=null?a.removedMessage:a))!=null?e:g,typeof e===f?e.call(a,{name:"removedMessage",hash:{},data:d}):e))+"</div>\n"},16:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h='  <a class="js-actions source-viewer-header-actions icon-list" title="'+g((b.t||a&&a.t||f).call(a,"component_viewer.more_actions",{name:"t",hash:{},data:d}))+'"></a>\n\n  <div class="source-viewer-header-measures">\n';e=b["if"].call(a,a!=null?a.isUnitTest:a,{name:"if",hash:{},fn:this.program(17,d),inverse:this.noop,data:d});if(e!=null){h+=e}h+="\n";e=b.unless.call(a,a!=null?a.isUnitTest:a,{name:"unless",hash:{},fn:this.program(19,d),inverse:this.noop,data:d});if(e!=null){h+=e}h+="\n";e=(b.notNull||a&&a.notNull||f).call(a,(e=a!=null?a.measures:a)!=null?e.sqaleRating:e,{name:"notNull",hash:{},fn:this.program(21,d),inverse:this.noop,data:d});if(e!=null){h+=e}h+="\n";e=(b.notNull||a&&a.notNull||f).call(a,(e=a!=null?a.measures:a)!=null?e.debt:e,{name:"notNull",hash:{},fn:this.program(24,d),inverse:this.noop,data:d});if(e!=null){h+=e}h+="\n";e=(b.notNull||a&&a.notNull||f).call(a,(e=a!=null?a.measures:a)!=null?e.issues:e,{name:"notNull",hash:{},fn:this.program(26,d),inverse:this.noop,data:d});if(e!=null){h+=e}h+="\n";e=(b.notNull||a&&a.notNull||f).call(a,(e=a!=null?a.measures:a)!=null?e.coverage:e,{name:"notNull",hash:{},fn:this.program(28,d),inverse:this.noop,data:d});if(e!=null){h+=e}h+="\n";e=(b.notNull||a&&a.notNull||f).call(a,(e=a!=null?a.measures:a)!=null?e.duplicationDensity:e,{name:"notNull",hash:{},fn:this.program(30,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h+"\n  </div>\n"},17:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression,h=b.helperMissing;return'      <div class="source-viewer-header-measure">\n        <span class="source-viewer-header-measure-value">'+g(f((e=a!=null?a.measures:a)!=null?e.tests:e,a))+'</span>\n        <span class="source-viewer-header-measure-label">'+g((b.t||a&&a.t||h).call(a,"metric.tests.name",{name:"t",hash:{},data:d}))+"</span>\n      </div>\n"},19:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression;return'      <div class="source-viewer-header-measure">\n        <span class="source-viewer-header-measure-value">'+g((b["default"]||a&&a["default"]||f).call(a,(e=a!=null?a.measures:a)!=null?e.lines:e,{name:"default",hash:{},data:d}))+'</span>\n        <span class="source-viewer-header-measure-label">'+g((b.t||a&&a.t||f).call(a,"metric.lines.name",{name:"t",hash:{},data:d}))+"</span>\n      </div>\n"},21:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression,h='      <div class="source-viewer-header-measure">\n        <span class="rating rating-'+g(f((e=a!=null?a.measures:a)!=null?e.sqaleRating:e,a))+'"\n              ';e=b["if"].call(a,(e=a!=null?a.measures:a)!=null?e.debtRatio:e,{name:"if",hash:{},fn:this.program(22,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h+">\n          "+g(f((e=a!=null?a.measures:a)!=null?e.sqaleRating:e,a))+"\n        </span>\n      </div>\n"},22:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h=this.lambda;return'title="'+g((b.t||a&&a.t||f).call(a,"metric.sqale_debt_ratio.name",{name:"t",hash:{},data:d}))+": "+g(h((e=a!=null?a.measures:a)!=null?e.debtRatio:e,a))+'"'},24:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression;return'      <div class="source-viewer-header-measure">\n        <span class="source-viewer-header-measure-value">'+g((b["default"]||a&&a["default"]||f).call(a,(e=a!=null?a.measures:a)!=null?e.debt:e,{name:"default",hash:{},data:d}))+'</span>\n        <span class="source-viewer-header-measure-label">'+g((b.t||a&&a.t||f).call(a,"component_viewer.header.debt",{name:"t",hash:{},data:d}))+"</span>\n      </div>\n"},26:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h=this.lambda;return'      <div class="source-viewer-header-measure">\n        <span class="source-viewer-header-measure-value">\n          <a class="source-viewer-header-external-link" target="_blank"\n             href="'+g((b.link||a&&a.link||f).call(a,"/issues/search#resolved=false|fileUuids=",a!=null?a.uuid:a,{name:"link",hash:{},data:d}))+'">\n            '+g(h((e=a!=null?a.measures:a)!=null?e.issues:e,a))+'&nbsp;<i class="icon-detach"></i>\n          </a>\n        </span>\n        <span class="source-viewer-header-measure-label">'+g((b.t||a&&a.t||f).call(a,"metric.violations.name",{name:"t",hash:{},data:d}))+"</span>\n      </div>\n"},28:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression;return'      <div class="source-viewer-header-measure">\n        <span class="source-viewer-header-measure-value">'+g((b["default"]||a&&a["default"]||f).call(a,(e=a!=null?a.measures:a)!=null?e.coverage:e,{name:"default",hash:{},data:d}))+'</span>\n        <span class="source-viewer-header-measure-label">'+g((b.t||a&&a.t||f).call(a,"metric.coverage.name",{name:"t",hash:{},data:d}))+"</span>\n      </div>\n"},30:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression;return'      <div class="source-viewer-header-measure">\n        <span class="source-viewer-header-measure-value">'+g((b["default"]||a&&a["default"]||f).call(a,(e=a!=null?a.measures:a)!=null?e.duplicationDensity:e,{name:"default",hash:{},data:d}))+'</span>\n        <span class="source-viewer-header-measure-label">'+g((b.t||a&&a.t||f).call(a,"duplications",{name:"t",hash:{},data:d}))+"</span>\n      </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<div class="source-viewer-header-component">\n  <div class="component-name">\n\n';e=b.unless.call(a,a!=null?a.removed:a,{name:"unless",hash:{},fn:this.program(1,d),inverse:this.program(14,d),data:d});if(e!=null){f+=e}f+="  </div>\n</div>\n\n";e=b.unless.call(a,a!=null?a.removed:a,{name:"unless",hash:{},fn:this.program(16,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f},useData:true});this["Templates"]["source-viewer-line-options-popup"]=Handlebars.template({1:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'    <div class="bubble-popup-section">\n      <a href="#" class="js-add-manual-issue link-action">'+f((b.t||a&&a.t||e).call(a,"component_viewer.add_manual_issue",{name:"t",hash:{},data:d}))+"</a>\n    </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h='<div class="bubble-popup-container">\n  <div class="bubble-popup-section">\n    <a href="#" class="js-get-permalink link-action">'+g((b.t||a&&a.t||f).call(a,"component_viewer.get_permalink",{name:"t",hash:{},data:d}))+"</a>\n  </div>\n\n";e=b["if"].call(a,a!=null?a.canCreateManualIssue:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h+'</div>\n\n<div class="bubble-popup-arrow"></div>\n'},useData:true});this["Templates"]["source-viewer-measures"]=Handlebars.template({1:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h="";e=b["if"].call(a,a!=null?a.projectName:a,{name:"if",hash:{},fn:this.program(2,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h+'\n      <div class="source-viewer-header-component-name">\n        '+g((b.qualifierIcon||a&&a.qualifierIcon||f).call(a,a!=null?a.q:a,{name:"qualifierIcon",hash:{},data:d}))+" "+g((b["default"]||a&&a["default"]||f).call(a,a!=null?a.path:a,a!=null?a.longName:a,{name:"default",hash:{},data:d}))+"\n      </div>\n"},2:function(a,b,c,d){var e,f,g=b.helperMissing,h=this.escapeExpression,i="function",j='        <div class="source-viewer-header-component-project">\n          '+h((b.qualifierIcon||a&&a.qualifierIcon||g).call(a,"TRK",{name:"qualifierIcon",hash:{},data:d}))+'&nbsp;<a href="'+h((b.dashboardUrl||a&&a.dashboardUrl||g).call(a,a!=null?a.project:a,{name:"dashboardUrl",hash:{},data:d}))+'">'+h((f=(f=b.projectName||(a!=null?a.projectName:a))!=null?f:g,typeof f===i?f.call(a,{name:"projectName",hash:{},data:d}):f))+"</a>\n";e=b["if"].call(a,a!=null?a.subProjectName:a,{name:"if",hash:{},fn:this.program(3,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j+"        </div>\n"},3:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h="function";return"            &nbsp;&nbsp;&nbsp;\n            "+g((b.qualifierIcon||a&&a.qualifierIcon||f).call(a,"TRK",{name:"qualifierIcon",hash:{},data:d}))+'&nbsp;<a href="'+g((b.dashboardUrl||a&&a.dashboardUrl||f).call(a,a!=null?a.subProject:a,{name:"dashboardUrl",hash:{},data:d}))+'">'+g((e=(e=b.subProjectName||(a!=null?a.subProjectName:a))!=null?e:f,typeof e===h?e.call(a,{name:"subProjectName",hash:{},data:d}):e))+"</a>\n"},5:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'      <div class="source-viewer-header-component-project removed">'+h((e=(e=b.removedMessage||(a!=null?a.removedMessage:a))!=null?e:g,typeof e===f?e.call(a,{name:"removedMessage",hash:{},data:d}):e))+"</div>\n"},7:function(a,b,c,d){var e,f=b.helperMissing,g='    <div class="source-viewer-measures">\n      <div class="source-viewer-measures-section">\n        <div class="source-viewer-measures-card">\n';e=this.invokePartial(c["_source-viewer-measures-lines"],"          ","_source-viewer-measures-lines",a,undefined,b,c,d);if(e!=null){g+=e}g+='        </div>\n      </div>\n\n      <div class="source-viewer-measures-section">\n';e=this.invokePartial(c["_source-viewer-measures-issues"],"        ","_source-viewer-measures-issues",a,undefined,b,c,d);if(e!=null){g+=e}g+="      </div>\n\n";e=(b.any||a&&a.any||f).call(a,(e=a!=null?a.measures:a)!=null?e.coverage:e,(e=a!=null?a.measures:a)!=null?e.it_coverage:e,{name:"any",hash:{},fn:this.program(8,d),inverse:this.noop,data:d});if(e!=null){g+=e}g+='\n      <div class="source-viewer-measures-section">\n';e=this.invokePartial(c["_source-viewer-measures-duplications"],"        ","_source-viewer-measures-duplications",a,undefined,b,c,d);if(e!=null){g+=e}return g+"      </div>\n    </div>\n"},8:function(a,b,c,d){var e,f='        <div class="source-viewer-measures-section">\n          <div class="source-viewer-measures-card">\n';e=this.invokePartial(c["_source-viewer-measures-coverage"],"            ","_source-viewer-measures-coverage",a,undefined,b,c,d);if(e!=null){f+=e}return f+"          </div>\n        </div>\n"},10:function(a,b,c,d){var e,f='    <div class="source-viewer-measures">\n      <div class="source-viewer-measures-section">\n';e=this.invokePartial(c["_source-viewer-measures-tests"],"        ","_source-viewer-measures-tests",a,undefined,b,c,d);if(e!=null){f+=e}f+='      </div>\n    </div>\n    <div class="source-viewer-measures">\n';e=this.invokePartial(c["_source-viewer-measures-test-cases"],"      ","_source-viewer-measures-test-cases",a,undefined,b,c,d);if(e!=null){f+=e}return f+"    </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h='<div class="modal-container source-viewer-measures-modal">\n  <div class="source-viewer-header-component source-viewer-measures-component">\n';e=b.unless.call(a,a!=null?a.removed:a,{name:"unless",hash:{},fn:this.program(1,d),inverse:this.program(5,d),data:d});if(e!=null){h+=e}h+="  </div>\n\n";e=b.unless.call(a,a!=null?a.isUnitTest:a,{name:"unless",hash:{},fn:this.program(7,d),inverse:this.program(10,d),data:d});if(e!=null){h+=e}h+='\n\n  <div class="marginbottom10">&nbsp;</div>\n  <a class="js-show-all-measures">'+g((b.t||a&&a.t||f).call(a,"component_viewer.show_all_measures",{name:"t",hash:{},data:d}))+'</a>\n\n  <div class="source-viewer-measures source-viewer-measures-secondary js-all-measures hidden">\n';e=this.invokePartial(c["_source-viewer-measures-all"],"    ","_source-viewer-measures-all",a,undefined,b,c,d);if(e!=null){h+=e}return h+'  </div>\n</div>\n\n<div class="modal-foot">\n  <a class="js-modal-close" href="#">'+g((b.t||a&&a.t||f).call(a,"close",{name:"t",hash:{},data:d}))+"</a>\n</div>\n"},usePartial:true,useData:true});this["Templates"]["source-viewer-more-actions"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'<a class="js-measures">'+f((b.t||a&&a.t||e).call(a,"component_viewer.show_details",{name:"t",hash:{},data:d}))+'</a>\n<br>\n<a class="js-new-window">'+f((b.t||a&&a.t||e).call(a,"component_viewer.new_window",{name:"t",hash:{},data:d}))+'</a>\n<br>\n<a class="js-raw-source">'+f((b.t||a&&a.t||e).call(a,"component_viewer.show_raw_source",{name:"t",hash:{},data:d}))+"</a>\n"},useData:true});this["Templates"]["source-viewer-scm-popup"]=Handlebars.template({1:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'    <div class="bubble-popup-section">\n      '+h((e=(e=b.scmRevision||(a!=null?a.scmRevision:a))!=null?e:g,typeof e===f?e.call(a,{name:"scmRevision",hash:{},data:d}):e))+"\n    </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='<div class="bubble-popup-container">\n  <div class="bubble-popup-section">\n    '+i((f=(f=b.scmAuthor||(a!=null?a.scmAuthor:a))!=null?f:h,typeof f===g?f.call(a,{name:"scmAuthor",hash:{},data:d}):f))+'\n  </div>\n  <div class="bubble-popup-section">\n    '+i((b.dt||a&&a.dt||h).call(a,a!=null?a.scmDate:a,{name:"dt",hash:{},data:d}))+"\n  </div>\n";e=b["if"].call(a,a!=null?a.scmRevision:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j+'</div>\n\n<div class="bubble-popup-arrow"></div>\n'},useData:true});this["Templates"]["source-viewer"]=Handlebars.template({1:function(a,b,c,d,e){var f,g="\n";f=b["if"].call(a,a!=null?a.hasSourceBefore:a,{name:"if",hash:{},fn:this.program(2,d,e),inverse:this.noop,data:d});if(f!=null){g+=f}g+='\n  <table class="source-table">\n';f=b.each.call(a,a!=null?a.source:a,{name:"each",hash:{},fn:this.program(4,d,e),inverse:this.noop,data:d});if(f!=null){g+=f}g+="  </table>\n\n";f=b["if"].call(a,a!=null?a.hasSourceAfter:a,{name:"if",hash:{},fn:this.program(44,d,e),inverse:this.noop,data:d});if(f!=null){g+=f}return g+"\n"},2:function(a,b,c,d){return'    <i class="spinner js-component-viewer-source-before"></i>\n'},4:function(a,b,c,d,e){var f,g,h=b.helperMissing,i="function",j=this.escapeExpression,k='      <tr class="source-line ';f=(b.eq||a&&a.eq||h).call(a,a!=null?a.line:a,0,{name:"eq",hash:{},fn:this.program(5,d,e),inverse:this.noop,data:d});if(f!=null){k+=f}k+='" ';f=b["if"].call(a,a!=null?a.line:a,{name:"if",hash:{},fn:this.program(8,d,e),inverse:this.noop,data:d});if(f!=null){k+=f}k+='>\n        <td class="source-meta source-line-number" ';f=b["if"].call(a,a!=null?a.line:a,{name:"if",hash:{},fn:this.program(8,d,e),inverse:this.noop,data:d});if(f!=null){k+=f}k+='></td>\n\n        <td class="source-meta source-line-scm" ';f=b["if"].call(a,a!=null?a.line:a,{name:"if",hash:{},fn:this.program(8,d,e),inverse:this.noop,data:d});if(f!=null){k+=f}k+=">\n";f=(b.ifSCMChanged2||a&&a.ifSCMChanged2||h).call(a,e[1]!=null?e[1].source:e[1],a!=null?a.line:a,{name:"ifSCMChanged2",hash:{},fn:this.program(10,d,e),inverse:this.noop,data:d});if(f!=null){k+=f}k+="        </td>\n\n";f=b["if"].call(a,e[1]!=null?e[1].hasUTCoverage:e[1],{name:"if",hash:{},fn:this.program(12,d,e),inverse:this.noop,data:d});if(f!=null){k+=f}k+="\n";f=b["if"].call(a,e[1]!=null?e[1].hasITCoverage:e[1],{name:"if",hash:{},fn:this.program(17,d,e),inverse:this.noop,data:d});if(f!=null){k+=f}k+="\n";f=b["if"].call(a,e[1]!=null?e[1].hasDuplications:e[1],{name:"if",hash:{},fn:this.program(22,d,e),inverse:this.noop,data:d});if(f!=null){k+=f}k+='\n        <td class="source-meta source-line-issues ';f=(b.notEmpty||a&&a.notEmpty||h).call(a,a!=null?a.issues:a,{name:"notEmpty",hash:{},fn:this.program(30,d,e),inverse:this.noop,data:d});if(f!=null){k+=f}k+='"\n            data-line-number="'+j((g=(g=b.line||(a!=null?a.line:a))!=null?g:h,typeof g===i?g.call(a,{name:"line",hash:{},data:d}):g))+'">\n';f=(b.withFirst||a&&a.withFirst||h).call(a,a!=null?a.issues:a,{name:"withFirst",hash:{},fn:this.program(32,d,e),inverse:this.noop,data:d});if(f!=null){k+=f}k+='        </td>\n\n        <td class="source-meta source-line-filtered-container" data-line-number="'+j((g=(g=b.line||(a!=null?a.line:a))!=null?g:h,typeof g===i?g.call(a,{name:"line",hash:{},data:d}):g))+'">\n          <div class="source-line-bar"></div>\n        </td>\n\n        <td class="source-line-code code ';f=(b.notEmpty||a&&a.notEmpty||h).call(a,a!=null?a.issues:a,{name:"notEmpty",hash:{},fn:this.program(34,d,e),inverse:this.noop,data:d});if(f!=null){k+=f}k+='" data-line-number="'+j((g=(g=b.line||(a!=null?a.line:a))!=null?g:h,typeof g===i?g.call(a,{name:"line",hash:{},data:d}):g))+'">\n';f=(b.notNull||a&&a.notNull||h).call(a,a!=null?a.code:a,{name:"notNull",hash:{},fn:this.program(36,d,e),inverse:this.noop,data:d});if(f!=null){k+=f}k+="\n";f=(b.notEmpty||a&&a.notEmpty||h).call(a,a!=null?a.issues:a,{name:"notEmpty",hash:{},fn:this.program(41,d,e),inverse:this.noop,data:d});if(f!=null){k+=f}return k+"        </td>\n      </tr>\n"},5:function(a,b,c,d){var e,f=b.helperMissing;e=(b.empty||a&&a.empty||f).call(a,a!=null?a.issues:a,{name:"empty",hash:{},fn:this.program(6,d),inverse:this.noop,data:d});if(e!=null){return e}else{return""}},6:function(a,b,c,d){return"hidden"},8:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'data-line-number="'+h((e=(e=b.line||(a!=null?a.line:a))!=null?e:g,typeof e===f?e.call(a,{name:"line",hash:{},data:d}):e))+'"'},10:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'            <div class="source-line-scm-inner" data-author="'+h((e=(e=b.scmAuthor||(a!=null?a.scmAuthor:a))!=null?e:g,typeof e===f?e.call(a,{name:"scmAuthor",hash:{},data:d}):e))+'"></div>\n'},12:function(a,b,c,d){var e,f,g=b.helperMissing,h="function",i=this.escapeExpression,j='          <td class="source-meta source-line-coverage ';e=(b.notNull||a&&a.notNull||g).call(a,a!=null?a.utCoverageStatus:a,{name:"notNull",hash:{},fn:this.program(13,d),inverse:this.noop,data:d});if(e!=null){j+=e}j+='"\n              data-tests="ut"\n              data-line-number="'+i((f=(f=b.line||(a!=null?a.line:a))!=null?f:g,typeof f===h?f.call(a,{name:"line",hash:{},data:d}):f))+'" ';e=(b.notNull||a&&a.notNull||g).call(a,a!=null?a.utCoverageStatus:a,{name:"notNull",hash:{},fn:this.program(15,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j+'>\n            <div class="source-line-bar"></div>\n          </td>\n'},13:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return"source-line-"+h((e=(e=b.utCoverageStatus||(a!=null?a.utCoverageStatus:a))!=null?e:g,typeof e===f?e.call(a,{name:"utCoverageStatus",hash:{},data:d}):e))},15:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'title="'+f((b.t||a&&a.t||e).call(a,"source_viewer.tooltip.ut",a!=null?a.utCoverageStatus:a,{name:"t",hash:{},data:d}))+'" data-placement="right" data-toggle="tooltip"'},17:function(a,b,c,d){var e,f,g=b.helperMissing,h="function",i=this.escapeExpression,j='          <td class="source-meta source-line-coverage ';e=(b.notNull||a&&a.notNull||g).call(a,a!=null?a.itCoverageStatus:a,{name:"notNull",hash:{},fn:this.program(18,d),inverse:this.noop,data:d});if(e!=null){j+=e}j+='"\n              data-tests="it"\n              data-line-number="'+i((f=(f=b.line||(a!=null?a.line:a))!=null?f:g,typeof f===h?f.call(a,{name:"line",hash:{},data:d}):f))+'" ';e=(b.notNull||a&&a.notNull||g).call(a,a!=null?a.itCoverageStatus:a,{name:"notNull",hash:{},fn:this.program(20,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j+'>\n            <div class="source-line-bar"></div>\n          </td>\n'},18:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return"source-line-"+h((e=(e=b.itCoverageStatus||(a!=null?a.itCoverageStatus:a))!=null?e:g,typeof e===f?e.call(a,{name:"itCoverageStatus",hash:{},data:d}):e))},20:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'title="'+f((b.t||a&&a.t||e).call(a,"source_viewer.tooltip.it",a!=null?a.itCoverageStatus:a,{name:"t",hash:{},data:d}))+'" data-placement="right" data-toggle="tooltip"'},22:function(a,b,c,d,e){var f,g='          <td class="source-meta source-line-duplications ';f=b["if"].call(a,a!=null?a.duplicated:a,{name:"if",hash:{},fn:this.program(23,d,e),inverse:this.noop,data:d});if(f!=null){g+=f;

}g+='"\n              ';f=b["if"].call(a,a!=null?a.duplicated:a,{name:"if",hash:{},fn:this.program(25,d,e),inverse:this.noop,data:d});if(f!=null){g+=f}g+='>\n            <div class="source-line-bar"></div>\n          </td>\n\n';f=b.each.call(a,a!=null?a.duplications:a,{name:"each",hash:{},fn:this.program(27,d,e),inverse:this.noop,data:d});if(f!=null){g+=f}return g},23:function(a,b,c,d){return"source-line-duplicated"},25:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'title="'+f((b.t||a&&a.t||e).call(a,"source_viewer.tooltip.duplicated_line",{name:"t",hash:{},data:d}))+'" data-placement="right" data-toggle="tooltip"'},27:function(a,b,c,d,e){var f,g=this.lambda,h=this.escapeExpression,i='            <td class="source-meta source-line-duplications-extra ';f=b["if"].call(a,a,{name:"if",hash:{},fn:this.program(23,d,e),inverse:this.noop,data:d});if(f!=null){i+=f}i+='"\n                data-index="'+h(g(a,a))+'" data-line-number="'+h(g(e[1]!=null?e[1].line:e[1],a))+'"\n                ';f=b["if"].call(a,a,{name:"if",hash:{},fn:this.program(28,d,e),inverse:this.noop,data:d});if(f!=null){i+=f}return i+'>\n              <div class="source-line-bar"></div>\n            </td>\n'},28:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'title="'+f((b.t||a&&a.t||e).call(a,"source_viewer.tooltip.duplicated_block",{name:"t",hash:{},data:d}))+'" data-placement="right" data-toggle="tooltip"'},30:function(a,b,c,d){return"source-line-with-issues"},32:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return"            "+f((b.severityIcon||a&&a.severityIcon||e).call(a,a!=null?a.severity:a,{name:"severityIcon",hash:{},data:d}))+"\n"},34:function(a,b,c,d){return"has-issues"},36:function(a,b,c,d){var e,f="            <pre>";e=b["if"].call(a,a!=null?a.code:a,{name:"if",hash:{},fn:this.program(37,d),inverse:this.program(39,d),data:d});if(e!=null){f+=e}return f+"</pre>\n"},37:function(a,b,c,d){var e,f,g="function",h=b.helperMissing;e=(f=(f=b.code||(a!=null?a.code:a))!=null?f:h,typeof f===g?f.call(a,{name:"code",hash:{},data:d}):f);if(e!=null){return e}else{return""}},39:function(a,b,c,d){return"&nbsp;"},41:function(a,b,c,d){var e,f='            <div class="issue-list">\n';e=b.each.call(a,a!=null?a.issues:a,{name:"each",hash:{},fn:this.program(42,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f+"            </div>\n"},42:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'                <div class="issue" id="issue-'+h((e=(e=b.key||(a!=null?a.key:a))!=null?e:g,typeof e===f?e.call(a,{name:"key",hash:{},data:d}):e))+'"></div>\n'},44:function(a,b,c,d){return'    <i class="spinner js-component-viewer-source-after"></i>\n'},46:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'\n  <div class="message-error">'+f((b.t||a&&a.t||e).call(a,"code_viewer.no_source_code_displayed_due_to_security",{name:"t",hash:{},data:d}))+"</div>\n\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d,e){var f,g='<div class="source-viewer-header"></div>\n\n';f=b["if"].call(a,a!=null?a.canSeeCode:a,{name:"if",hash:{},fn:this.program(1,d,e),inverse:this.program(46,d,e),data:d});if(f!=null){g+=f}return g},useData:true,useDepths:true});define("templates/source-viewer",function(){});define("source-viewer/more-actions",["templates/source-viewer"],function(){var a=jQuery;return Marionette.ItemView.extend({className:"source-viewer-header-more-actions",template:Templates["source-viewer-more-actions"],events:{"click .js-measures":"showMeasures","click .js-new-window":"openNewWindow","click .js-raw-source":"showRawSource"},onRender:function(){var b=this;a("body").on("click.component-viewer-more-actions",function(){a("body").off("click.component-viewer-more-actions");b.close()})},showMeasures:function(){this.options.parent.showMeasures()},openNewWindow:function(){this.options.parent.getPermalink()},showRawSource:function(){this.options.parent.showRawSources()}})});define("source-viewer/measures-overlay",["common/modals","templates/source-viewer"],function(a){var b=jQuery;return a.extend({template:Templates["source-viewer-measures"],testsOrder:["ERROR","FAILURE","OK","SKIPPED"],initialize:function(){var a=this,c=[this.requestMeasures(),this.requestIssues()];if(this.model.get("isUnitTest")){c.push(this.requestTests())}this.testsScroll=0;b.when.apply(b,c).done(function(){a.render()})},events:function(){return _.extend(a.prototype.events.apply(this,arguments),{"click .js-sort-tests-by-duration":"sortTestsByDuration","click .js-sort-tests-by-name":"sortTestsByName","click .js-sort-tests-by-status":"sortTestsByStatus","click .js-show-test":"showTest","click .js-show-all-measures":"showAllMeasures"})},onRender:function(){a.prototype.onRender.apply(this,arguments);this.$(".js-pie-chart").pieChart();this.$(".js-test-list").scrollTop(this.testsScroll)},getMetrics:function(){var a="",c=baseUrl+"/api/metrics";b.ajax({url:c,async:false}).done(function(b){a=_.filter(b,function(a){return!a.hidden&&a.val_type!=="DATA"});a=_.sortBy(a,"name")});return a},calcAdditionalMeasures:function(a){if(a.lines_to_cover&&a.uncovered_lines){a.covered_lines=a.lines_to_cover-a.uncovered_lines}if(a.conditions_to_cover&&a.uncovered_conditions){a.covered_conditions=a.conditions_to_cover-a.uncovered_conditions}if(a.it_lines_to_cover&&a.it_uncovered_lines){a.it_covered_lines=a.it_lines_to_cover-a.it_uncovered_lines}if(a.it_conditions_to_cover&&a.it_uncovered_conditions){a.it_covered_conditions=a.it_conditions_to_cover-a.it_uncovered_conditions}return a},prepareMetrics:function(a){a=_.filter(a,function(a){return a.value!=null});return _.sortBy(_.map(_.pairs(_.groupBy(a,"domain")),function(a){return{name:a[0],metrics:a[1]}}),"name")},requestMeasures:function(){var a=this,c=baseUrl+"/api/resources",d=this.getMetrics(),e={resource:this.model.key(),metrics:_.pluck(d,"key").join()};return b.get(c,e).done(function(b){var c=b[0].msr||[],e=a.model.get("measures")||{};c.forEach(function(a){var b=_.findWhere(d,{key:a.key});b.value=a.frmt_val||a.data;e[a.key]=a.frmt_val||a.data;e[a.key+"_raw"]=a.val});e=a.calcAdditionalMeasures(e);a.model.set({measures:e,measuresToDisplay:a.prepareMetrics(d)});console.log(a.model.get("measuresToDisplay"))})},requestIssues:function(){var a=this,c=baseUrl+"/api/issues/search",d={componentUuids:this.model.id,resolved:false,ps:1,facets:"severities,tags"};return b.get(c,d).done(function(b){var c={};b.facets.forEach(function(a){c[a.property]=a.values});var d=["BLOCKER","CRITICAL","MAJOR","MINOR","INFO"],e=_.max(c.severities,function(a){return a.count}).count,f=_.max(c.tags,function(a){return a.count}).count;c.severities=_.sortBy(c.severities,function(a){return d.indexOf(a.val)});a.model.set({issuesFacets:c,issuesCount:b.total,maxCountBySeverity:e,maxCountByTag:f})})},requestTests:function(){var a=this,c=baseUrl+"/api/tests/show",d={key:this.model.key()};return b.get(c,d).done(function(b){a.model.set({tests:b.tests});a.testSorting="status";a.testAsc=true;a.sortTests(function(b){return""+a.testsOrder.indexOf(b.status)+"_______"+b.name})})},sortTests:function(a){var b=this.model.get("tests");if(_.isArray(b)){b=_.sortBy(b,a);if(!this.testAsc){b.reverse()}this.model.set({tests:b})}},sortTestsByDuration:function(){if(this.testSorting==="duration"){this.testAsc=!this.testAsc}this.sortTests("durationInMs");this.testSorting="duration";this.render()},sortTestsByName:function(){if(this.testSorting==="name"){this.testAsc=!this.testAsc}this.sortTests("name");this.testSorting="name";this.render()},sortTestsByStatus:function(){var a=this;if(this.testSorting==="status"){this.testAsc=!this.testAsc}this.sortTests(function(b){return""+a.testsOrder.indexOf(b.status)+"_______"+b.name});this.testSorting="status";this.render()},showTest:function(a){var c=this,d=b(a.currentTarget).data("name"),e=baseUrl+"/api/tests/covered_files",f={key:this.model.key(),test:d};this.testsScroll=b(a.currentTarget).scrollParent().scrollTop();return b.get(e,f).done(function(a){c.coveredFiles=a.files;c.selectedTest=_.findWhere(c.model.get("tests"),{name:d});c.render()})},showAllMeasures:function(){this.$(".js-all-measures").removeClass("hidden");this.$(".js-show-all-measures").remove()},serializeData:function(){return _.extend(a.prototype.serializeData.apply(this,arguments),{testSorting:this.testSorting,selectedTest:this.selectedTest,coveredFiles:this.coveredFiles||[]})}})});define("source-viewer/header",["source-viewer/more-actions","source-viewer/measures-overlay","templates/source-viewer"],function(a,b){var c=jQuery,d=baseUrl+"/api/favourites";return Marionette.ItemView.extend({template:Templates["source-viewer-header"],events:function(){return{"click .js-favorite":"toggleFavorite","click .js-actions":"showMoreActions","click .js-permalink":"getPermalink"}},toggleFavorite:function(){var a=this;if(this.model.get("fav")){c.ajax({url:d+"/"+this.model.get("key"),type:"DELETE"}).done(function(){a.model.set("fav",false);a.render()})}else{c.ajax({url:d,type:"POST",data:{key:this.model.get("key")}}).done(function(){a.model.set("fav",true);a.render()})}},showMoreActions:function(b){b.stopPropagation();c("body").click();var d=new a({parent:this});d.render().$el.appendTo(this.$el)},getPermalink:function(){var a="id="+encodeURIComponent(this.model.get("key")),b="resizable=1,scrollbars=1,status=1";if(this.options.viewer.highlightedLine){a=a+"&line="+this.options.viewer.highlightedLine}window.open(baseUrl+"/component/index?"+a,this.model.get("name"),b)},showRawSources:function(){var a=baseUrl+"/api/sources/raw?key="+encodeURIComponent(this.model.get("key")),b="resizable=1,scrollbars=1,status=1";window.open(a,this.model.get("name"),b)},showMeasures:function(){new b({model:this.model,large:true}).render()},serializeData:function(){return _.extend(Marionette.ItemView.prototype.serializeData.apply(this,arguments),{path:this.model.get("path")||this.model.get("longName")})}})});define("source-viewer/popups/scm-popup",["common/popup","templates/source-viewer"],function(a){return a.extend({template:Templates["source-viewer-scm-popup"],events:{click:"onClick"},onRender:function(){a.prototype.onRender.apply(this,arguments);this.$(".bubble-popup-container").isolatedScroll()},onClick:function(a){a.stopPropagation()}})});define("source-viewer/popups/coverage-popup",["common/popup","templates/source-viewer"],function(a){var b=jQuery;return a.extend({template:Templates["source-viewer-coverage-popup"],events:{"click a[data-key]":"goToFile"},onRender:function(){a.prototype.onRender.apply(this,arguments);this.$(".bubble-popup-container").isolatedScroll()},goToFile:function(a){var c=b(a.currentTarget).data("key"),d=baseUrl+"/component/index?id="+encodeURIComponent(c),e="resizable=1,scrollbars=1,status=1";window.open(d,c,e)},serializeData:function(){var a=this.options.row||{},b=this.model.get("files"),c=_.groupBy(this.model.get("tests"),"_ref"),d=_.map(c,function(a,c){return{file:b[c],tests:a}});_.extend(a,{lineHits:a[this.options.tests+"LineHits"],conditions:a[this.options.tests+"Conditions"],coveredConditions:a[this.options.tests+"CoveredConditions"]});return{testFiles:d,tests:this.options.tests,row:a}}})});define("source-viewer/popups/duplication-popup",["common/popup","templates/source-viewer"],function(a){var b=jQuery;return a.extend({template:Templates["source-viewer-duplication-popup"],events:{"click a[data-key]":"goToFile"},goToFile:function(a){var c=b(a.currentTarget).data("key"),d=b(a.currentTarget).data("line"),e=baseUrl+"/component/index?id="+encodeURIComponent(c)+(d?"&line="+d:""),f="resizable=1,scrollbars=1,status=1";window.open(e,c,f)},serializeData:function(){var a=this,b=this.model.get("duplicationFiles"),c=_.groupBy(this.collection.toJSON(),"_ref"),d=_.map(c,function(a,c){return{blocks:a,file:b[c]}});d=_.sortBy(d,function(b){var c=b.file.projectName!==a.model.get("projectName"),d=b.file.subProjectName!==a.model.get("subProjectName"),e=b.file.key!==a.model.get("key");return""+c+d+e});return{component:this.model.toJSON(),duplications:d,inRemovedComponent:this.options.inRemovedComponent}}})});(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issue/manual-issue-view",["templates/issue"],function(){var a,c,d;a=jQuery;d=""+baseUrl+"/api/issues/show";c=""+baseUrl+"/api/issues/create";return function(e){b(f,e);function f(){return f.__super__.constructor.apply(this,arguments)}f.prototype.template=Templates["manual-issue"];f.prototype.events={"submit .js-manual-issue-form":"formSubmit","click .js-cancel":"cancel"};f.prototype.initialize=function(){this.rules=[];return a.get(""+baseUrl+"/api/rules/search?repositories=manual&f=name&ps=999999").done(function(a){return function(b){a.rules=b.rules;return a.render()}}(this))};f.prototype.onRender=function(){this.delegateEvents();this.$("[name=rule]").select2({width:"250px",minimumResultsForSearch:10});if(this.rules.length>0){this.$("[name=rule]").select2("open")}if(typeof key!=="undefined"&&key!==null){this.key=key.getScope();return key.setScope("")}};f.prototype.onClose=function(){if(typeof key!=="undefined"&&key!==null&&this.key!=null){return key.setScope(this.key)}};f.prototype.showSpinner=function(){this.$(".js-submit").hide();return this.$(".js-spinner").show()};f.prototype.hideSpinner=function(){this.$(".js-submit").show();return this.$(".js-spinner").hide()};f.prototype.validateFields=function(){var a;a=this.$("[name=message]");if(!a.val()){a.addClass("invalid").focus();return false}return true};f.prototype.formSubmit=function(b){var d;b.preventDefault();if(!this.validateFields()){return}this.showSpinner();d=a(b.currentTarget).serialize();return a.post(c,d).done(function(a){return function(b){if(typeof b==="string"){b=JSON.parse(b)}return a.addIssue(b.issue.key)}}(this)).fail(function(a){return function(b){var c;a.hideSpinner();if(((c=b.responseJSON)!=null?c.errors:void 0)!=null){return a.showError(_.pluck(b.responseJSON.errors,"msg").join(". "))}}}(this))};f.prototype.addIssue=function(b){return a.get(d,{key:b},function(a){return function(b){a.trigger("add",b.issue);return a.close()}}(this))};f.prototype.showError=function(a){return this.$(".code-issue-errors").removeClass("hidden").text(a)};f.prototype.cancel=function(a){a.preventDefault();return this.close()};f.prototype.serializeData=function(){return _.extend(f.__super__.serializeData.apply(this,arguments),{line:this.options.line,component:this.options.component,rules:_.sortBy(this.rules,"name")})};return f}(Marionette.ItemView)})}).call(this);define("source-viewer/popups/line-actions-popup",["common/popup","issue/manual-issue-view","templates/source-viewer"],function(a,b){return a.extend({template:Templates["source-viewer-line-options-popup"],events:{"click .js-get-permalink":"getPermalink","click .js-add-manual-issue":"addManualIssue"},getPermalink:function(a){a.preventDefault();var b=baseUrl+"/component/index?id="+encodeURIComponent(this.model.key())+"&line="+this.options.line,c="resizable=1,scrollbars=1,status=1";window.open(b,this.model.get("name"),c)},addManualIssue:function(a){a.preventDefault();var c=this,d=this.options.line,e=this.model.key(),f=new b({line:d,component:e});f.render().$el.appendTo(this.options.row.find(".source-line-code"));f.on("add",function(a){c.trigger("onManualIssueAdded",a)})}})});define("source-viewer/viewer",["source-viewer/source","issue/models/issue","issue/collections/issues","issue/issue-view","source-viewer/header","source-viewer/popups/scm-popup","source-viewer/popups/coverage-popup","source-viewer/popups/duplication-popup","source-viewer/popups/line-actions-popup","templates/source-viewer"],function(a,b,c,d,e,f,g,h,i){var j=jQuery,k="source-line-highlighted";return Marionette.Layout.extend({className:"source-viewer",template:Templates["source-viewer"],ISSUES_LIMIT:100,LINES_LIMIT:1e3,TOTAL_LINES_LIMIT:3e3,LINES_AROUND:500,regions:{headerRegion:".source-viewer-header"},ui:{sourceBeforeSpinner:".js-component-viewer-source-before",sourceAfterSpinner:".js-component-viewer-source-after"},events:function(){return{"click .sym":"highlightUsages","click .source-line-scm":"showSCMPopup","click .source-line-covered":"showCoveragePopup","click .source-line-partially-covered":"showCoveragePopup","click .source-line-uncovered":"showCoveragePopup","click .source-line-duplications":"showDuplications","click .source-line-duplications-extra":"showDuplicationPopup","click .source-line-with-issues":"onLineIssuesClick","click .source-line-number[data-line-number]":"onLineNumberClick","mouseenter .source-line-filtered .source-line-filtered-container":"showFilteredTooltip","mouseleave .source-line-filtered .source-line-filtered-container":"hideFilteredTooltip"}},initialize:function(){if(this.model==null){this.model=new a}this.issues=new c;this.listenTo(this.issues,"change:severity",this.onIssuesSeverityChange);this.issueViews=[];this.loadSourceBeforeThrottled=_.throttle(this.loadSourceBefore,1e3);this.loadSourceAfterThrottled=_.throttle(this.loadSourceAfter,1e3);this.scrollTimer=null;this.highlightedLine=null;this.listenTo(this,"loaded",this.onLoaded)},renderHeader:function(){this.headerRegion.show(new e({viewer:this,model:this.model}))},onRender:function(){this.renderHeader();this.renderIssues();if(this.model.has("filterLinesFunc")){this.filterLines(this.model.get("filterLinesFunc"))}this.$('[data-toggle="tooltip"]').tooltip({container:"body"})},onClose:function(){this.issueViews.forEach(function(a){return a.close()});this.issueViews=[];this.clearTooltips()},clearTooltips:function(){this.$('[data-toggle="tooltip"]').tooltip("destroy")},onLoaded:function(){this.bindScrollEvents()},open:function(a){var b=this,c=function(){b.requestIssues().done(function(){b.render();b.trigger("loaded")})};this.model.clear().set(_.result(this.model,"defaults")).set({uuid:a});this.requestComponent().done(function(){b.requestSource().done(c).fail(function(){b.model.set({source:[{line:0}]});c()})});return this},requestComponent:function(){var a=this,b=baseUrl+"/api/components/app",c={uuid:this.model.id};return j.get(b,c).done(function(b){a.model.set(b);a.model.set({isUnitTest:b.q==="UTS"})})},linesLimit:function(){return{from:1,to:this.LINES_LIMIT}},getUTCoverageStatus:function(a){var b=null;if(a.utLineHits>0){b="partially-covered"}if(a.utLineHits>0&&a.utConditions===a.utCoveredConditions){b="covered"}if(a.utLineHits===0||a.utCoveredConditions===0){b="uncovered"}return b},getItCoverageStatus:function(a){var b=null;if(a.itLineHits>0){b="partially-covered"}if(a.itLineHits>0&&a.itConditions===a.itCoveredConditions){b="covered"}if(a.itLineHits===0||a.itCoveredConditions===0){b="uncovered"}return b},requestSource:function(){var a=this,b=baseUrl+"/api/sources/lines",c=_.extend({uuid:this.model.id},this.linesLimit());return j.get(b,c).done(function(b){var d=(b.sources||[]).slice(0);if(d.length===0||d.length>0&&_.first(d).line===1){d.unshift({line:0})}d=d.map(function(b){return _.extend(b,{utCoverageStatus:a.getUTCoverageStatus(b),itCoverageStatus:a.getItCoverageStatus(b)})});var e=_.first(d).line,f=c.to-c.from+1;a.model.set({source:d,hasUTCoverage:a.model.hasUTCoverage(d),hasITCoverage:a.model.hasITCoverage(d),hasSourceBefore:e>1,hasSourceAfter:b.sources.length===f});a.model.checkIfHasDuplications()}).fail(function(b){if(b.status===403){a.model.set({source:[],hasSourceBefore:false,hasSourceAfter:false,canSeeCode:false})}})},requestDuplications:function(){var a=this,b=baseUrl+"/api/duplications/show",c={key:this.model.key()};return j.get(b,c,function(b){var c=b!=null&&b.duplications!=null,d=[];if(c){d={};b.duplications.forEach(function(a){a.blocks.forEach(function(a){if(a._ref==="1"){var b=a.from,c=a.from+a.size-1;for(var e=b;e<=c;e++){d[e]=true}}})});d=_.pairs(d).map(function(a){return{line:+a[0],duplicated:a[1]}})}a.model.addMeta(d);a.model.addDuplications(b.duplications);a.model.set({duplications:b.duplications,duplicationsParsed:d,duplicationFiles:b.files})})},requestIssues:function(){var a=this,b={data:{componentUuids:this.model.id,extra_fields:"actions,transitions,assigneeName,actionPlanName",resolved:false,s:"FILE_LINE",asc:true,ignorePaging:true}};return this.issues.fetch(b).done(function(){a.addIssuesPerLineMeta(a.issues)})},_sortBySeverity:function(a){var b=["BLOCKER","CRITICAL","MAJOR","MINOR","INFO"];return _.sortBy(a,function(a){return b.indexOf(a.severity)})},addIssuesPerLineMeta:function(a){var b=this,c={};a.forEach(function(a){var b=a.get("line")||0;if(!_.isArray(c[b])){c[b]=[]}c[b].push(a.toJSON())});var d=_.pairs(c).map(function(a){return{line:+a[0],issues:b._sortBySeverity(a[1])}});this.model.addMeta(d)},limitIssues:function(a){return a.first(this.ISSUES_LIMIT)},renderIssues:function(){this.$(".issue-list").addClass("hidden")},renderIssue:function(a){var b=new d({el:"#issue-"+a.get("key"),model:a});this.issueViews.push(b);b.render()},addIssue:function(a){var b=a.get("line")||0,c=this.$(".source-line-code[data-line-number="+b+"]"),d='<div class="issue" id="issue-'+a.get("key")+'" data-key="'+a.get("key")+'">';c.addClass("has-issues");var e=c.find(".issue-list");if(e.length===0){c.append('<div class="issue-list"></div>');e=c.find(".issue-list")}e.append(d).removeClass("hidden");this.renderIssue(a)},showIssuesForLine:function(a){this.$('.source-line-code[data-line-number="'+a+'"]').find(".issue-list").removeClass("hidden");var b=this.issues.filter(function(b){return b.get("line")===a||!b.get("line")&&!a});b.forEach(this.renderIssue,this)},onIssuesSeverityChange:function(){var a=this;this.addIssuesPerLineMeta(this.issues);this.$(".source-line-with-issues").each(function(){var b=+j(this).data("line-number"),c=_.findWhere(a.model.get("source"),{line:b}),d=_.first(c.issues);j(this).html('<i class="icon-severity-'+d.severity.toLowerCase()+'"></i>')})},highlightUsages:function(a){var b=j(a.currentTarget).is(".highlighted"),c=a.currentTarget.className.split(/\s+/)[0];this.$(".sym.highlighted").removeClass("highlighted");if(!b){this.$(".sym."+c).addClass("highlighted")}},showSCMPopup:function(a){a.stopPropagation();j("body").click();var b=+j(a.currentTarget).data("line-number"),c=_.findWhere(this.model.get("source"),{line:b}),d=new f({triggerEl:j(a.currentTarget),model:new Backbone.Model(c)});d.render()},showCoveragePopup:function(a){a.stopPropagation();j("body").click();this.clearTooltips();var b=j(a.currentTarget).data("line-number"),c=_.findWhere(this.model.get("source"),{line:b}),d=baseUrl+"/api/tests/test_cases",e={key:this.model.key(),line:b};return j.get(d,e).done(function(b){var d=new g({model:new Backbone.Model(b),row:c,tests:j(a.currentTarget).data("tests"),triggerEl:j(a.currentTarget)});d.render()})},showDuplications:function(a){var b=this,c=j(a.currentTarget).closest(".source-line").data("line-number");this.clearTooltips();this.requestDuplications().done(function(){b.render();b.$el.addClass("source-duplications-expanded");if(b.model.get("duplications").length===1){var a=b.$(".source-line[data-line-number="+c+"]").find(".source-line-duplications-extra");a.click()}})},showDuplicationPopup:function(a){a.stopPropagation();j("body").click();this.clearTooltips();var b=j(a.currentTarget).data("index"),c=j(a.currentTarget).data("line-number"),d=this.model.get("duplications")[b-1].blocks,e=_.some(d,function(a){return a._ref==null}),f=false;d=_.filter(d,function(a){var b=a.from>c||a.from+a.size<c,d=a._ref==="1",e=a._ref!=null&&(!d||d&&(b||f));if(a._ref==="1"&&!b){f=true}return e});var g=new h({triggerEl:j(a.currentTarget),model:this.model,inRemovedComponent:e,collection:new Backbone.Collection(d)});g.render()},onLineIssuesClick:function(a){var b=j(a.currentTarget).data("line-number");if(j(a.currentTarget).parent().find(".issue-list").is(".hidden")){this.showIssuesForLine(b)}else{j(a.currentTarget).parent().find(".issue-list").addClass("hidden")}},showLineActionsPopup:function(a){a.stopPropagation();j("body").click();var c=this,d=j(a.currentTarget).data("line-number"),e=new i({triggerEl:j(a.currentTarget),model:this.model,line:d,row:j(a.currentTarget).closest(".source-line")});e.on("onManualIssueAdded",function(a){c.addIssue(new b(a))});e.render()},onLineNumberClick:function(a){var b=j(a.currentTarget).closest(".source-line"),c=b.data("line-number"),d=b.is("."+k);if(!d){this.highlightLine(c);this.showLineActionsPopup(a)}else{this.removeHighlighting()}},removeHighlighting:function(){this.highlightedLine=null;this.$("."+k).removeClass(k)},highlightLine:function(a){var b=this.$(".source-line[data-line-number="+a+"]");this.removeHighlighting();this.highlightedLine=a;b.addClass(k);return this},bindScrollEvents:function(){var a=this;this.$el.scrollParent().on("scroll.source-viewer",function(){a.onScroll()})},unbindScrollEvents:function(){this.$el.scrollParent().off("scroll.source-viewer")},disablePointerEvents:function(){clearTimeout(this.scrollTimer);j("body").addClass("disabled-pointer-events");this.scrollTimer=setTimeout(function(){j("body").removeClass("disabled-pointer-events")},250)},onScroll:function(){this.disablePointerEvents();var a=this.$el.scrollParent();if(a.is(document)){a=j(window)}var b=a.offset()!=null?a.offset().top:0,c=a.scrollTop()+b;if(this.model.get("hasSourceBefore")&&c<=this.ui.sourceBeforeSpinner.offset().top){this.loadSourceBeforeThrottled()}if(this.model.get("hasSourceAfter")&&c+a.height()>=this.ui.sourceAfterSpinner.offset().top){return this.loadSourceAfterThrottled()}},scrollToLine:function(a){var b=this.$(".source-line[data-line-number="+a+"]");if(b.length>0){var c=this.$el.scrollParent();if(c.is(document)){c=j(window)}var d=c.offset()!=null?c.offset().top:0,e=c.height(),f=b.offset().top-e/3-d;c.scrollTop(f)}return this},scrollToFirstLine:function(a){var b=this.$(".source-line[data-line-number="+a+"]");if(b.length>0){var c=this.$el.scrollParent();if(c.is(document)){c=j(window)}var d=c.offset()!=null?c.offset().top:0,e=b.offset().top-d;c.scrollTop(e)}return this},scrollToLastLine:function(a){var b=this.$(".source-line[data-line-number="+a+"]");if(b.length>0){var c=this.$el.scrollParent();if(c.is(document)){c=j(window)}var d=c.offset()!=null?c.offset().top:0,e=c.height(),f=b.offset().top-d-e+b.height();c.scrollTop(f)}return this},loadSourceBefore:function(){this.unbindScrollEvents();var a=this,b=this.model.get("source"),c=_.first(b).line,d=baseUrl+"/api/sources/lines",e={uuid:this.model.id,from:c-this.LINES_AROUND,to:c-1};return j.get(d,e).done(function(d){b=(d.sources||[]).concat(b);if(b.length>a.TOTAL_LINES_LIMIT+1){b=b.slice(0,a.TOTAL_LINES_LIMIT);a.model.set({hasSourceAfter:true})}if(b.length===0||b.length>0&&_.first(b).line===1){b.unshift({line:0})}b=b.map(function(b){return _.extend(b,{utCoverageStatus:a.getUTCoverageStatus(b),itCoverageStatus:a.getItCoverageStatus(b)})});a.model.set({source:b,hasUTCoverage:a.model.hasUTCoverage(b),hasITCoverage:a.model.hasITCoverage(b),hasSourceBefore:d.sources.length===a.LINES_AROUND&&_.first(b).line>0});a.addIssuesPerLineMeta(a.issues);if(a.model.has("duplications")){a.model.addDuplications(a.model.get("duplications"));a.model.addMeta(a.model.get("duplicationsParsed"))}a.model.checkIfHasDuplications();a.render();a.scrollToFirstLine(c);if(a.model.get("hasSourceBefore")||a.model.get("hasSourceAfter")){a.bindScrollEvents()}})},loadSourceAfter:function(){this.unbindScrollEvents();var a=this,b=this.model.get("source"),c=_.last(b).line,d=baseUrl+"/api/sources/lines",e={uuid:this.model.id,from:c+1,to:c+this.LINES_AROUND};return j.get(d,e).done(function(d){b=b.concat(d.sources);if(b.length>a.TOTAL_LINES_LIMIT+1){b=b.slice(b.length-a.TOTAL_LINES_LIMIT);a.model.set({hasSourceBefore:true})}b=b.map(function(b){return _.extend(b,{utCoverageStatus:a.getUTCoverageStatus(b),itCoverageStatus:a.getItCoverageStatus(b)})});a.model.set({source:b,hasUTCoverage:a.model.hasUTCoverage(b),hasITCoverage:a.model.hasITCoverage(b),hasSourceAfter:d.sources.length===a.LINES_AROUND});a.addIssuesPerLineMeta(a.issues);if(a.model.has("duplications")){a.model.addDuplications(a.model.get("duplications"));a.model.addMeta(a.model.get("duplicationsParsed"))}a.model.checkIfHasDuplications();a.render();a.scrollToLastLine(c);if(a.model.get("hasSourceBefore")||a.model.get("hasSourceAfter")){a.bindScrollEvents()}}).fail(function(){a.model.set({hasSourceAfter:false});a.render();if(a.model.get("hasSourceBefore")||a.model.get("hasSourceAfter")){a.bindScrollEvents()}})},filterLines:function(a){var b=this.model.get("source"),c=this.$(".source-line");this.model.set("filterLinesFunc",a);b.forEach(function(b,d){var e=j(c[d]),f=a(b)&&b.line>0;e.toggleClass("source-line-shadowed",!f);e.toggleClass("source-line-filtered",f)})},filterLinesByDate:function(a,b){var c=moment(a).toDate();this.sinceLabel=b;this.filterLines(function(a){var b=moment(a.scmDate).toDate();return b>=c})},showFilteredTooltip:function(a){j(a.currentTarget).tooltip({container:"body",placement:"right",title:tp("source_viewer.tooltip.new_code",this.sinceLabel),trigger:"manual"}).tooltip("show")},hideFilteredTooltip:function(a){j(a.currentTarget).tooltip("destroy")}})});(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/workspace-list-item-view",["issue/issue-view"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.events=function(){return _.extend(c.__super__.events.apply(this,arguments),{click:"selectCurrent",dblclick:"openComponentViewer","click .js-issue-navigate":"openComponentViewer"})};c.prototype.initialize=function(a){c.__super__.initialize.apply(this,arguments);return this.listenTo(a.app.state,"change:selectedIndex",this.select)};c.prototype.onRender=function(){c.__super__.onRender.apply(this,arguments);this.select();return this.$el.addClass("issue-navigate-right")};c.prototype.select=function(){var a;a=this.model.get("index")===this.options.app.state.get("selectedIndex");return this.$el.toggleClass("selected",a)};c.prototype.selectCurrent=function(){return this.options.app.state.set({selectedIndex:this.model.get("index")})};c.prototype.resetIssue=function(a){var b,c,d;d=this.model.get("key");b=this.model.get("componentUuid");c=this.model.get("index");this.model.clear({silent:true});this.model.set({key:d,componentUuid:b,index:c},{silent:true});return this.model.fetch(a).done(function(a){return function(){return a.trigger("reset")}}(this))};c.prototype.openComponentViewer=function(){this.options.app.state.set({selectedIndex:this.model.get("index")});if(this.options.app.state.has("component")){return this.options.app.controller.closeComponentViewer()}else{return this.options.app.controller.showComponentViewer(this.model)}};c.prototype.serializeData=function(){return _.extend(c.__super__.serializeData.apply(this,arguments),{showComponent:true})};return c}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/component-viewer/issue-view",["issues/workspace-list-item-view"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.onRender=function(){c.__super__.onRender.apply(this,arguments);return this.$el.removeClass("issue-navigate-right")};c.prototype.serializeData=function(){return _.extend(c.__super__.serializeData.apply(this,arguments),{showComponent:false})};return c}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/component-viewer/main",["source-viewer/viewer","issues/models/issues","issues/component-viewer/issue-view","templates/issues"],function(a,c,d){
var e,f,g;e=jQuery;g=38;f=10;return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.events=function(){return _.extend(c.__super__.events.apply(this,arguments),{"click .js-close-component-viewer":"closeComponentViewer","click .code-issue":"selectIssue"})};c.prototype.initialize=function(a){c.__super__.initialize.apply(this,arguments);return this.listenTo(a.app.state,"change:selectedIndex",this.select)};c.prototype.onLoaded=function(){c.__super__.onLoaded.apply(this,arguments);this.bindShortcuts();if(this.baseIssue!=null){return this.scrollToLine(this.baseIssue.get("line"))}};c.prototype.bindShortcuts=function(){var a;a=function(a){return function(b){var c;c=a.getSelectedIssueEl();if(!c){return}return c.find(".js-issue-"+b).click()}}(this);key("up","componentViewer",function(a){return function(){a.options.app.controller.selectPrev();return false}}(this));key("down","componentViewer",function(a){return function(){a.options.app.controller.selectNext();return false}}(this));key("left,backspace","componentViewer",function(a){return function(){a.options.app.controller.closeComponentViewer();return false}}(this));key("f","componentViewer",function(){return a("transition")});key("a","componentViewer",function(){return a("assign")});key("m","componentViewer",function(){return a("assign-to-me")});key("p","componentViewer",function(){return a("plan")});key("i","componentViewer",function(){return a("set-severity")});return key("c","componentViewer",function(){return a("comment")})};c.prototype.unbindShortcuts=function(){return key.deleteScope("componentViewer")};c.prototype.onClose=function(){c.__super__.onClose.apply(this,arguments);this.unbindScrollEvents();return this.unbindShortcuts()};c.prototype.select=function(){var a,b;a=this.options.app.state.get("selectedIndex");b=this.options.app.list.at(a);if(b.get("component")===this.model.get("key")){return this.scrollToIssue(b.get("key"))}else{this.unbindShortcuts();return this.options.app.controller.showComponentViewer(b)}};c.prototype.getSelectedIssueEl=function(){var a,b,c;a=this.options.app.state.get("selectedIndex");if(a==null){return null}b=this.options.app.list.at(a);if(b==null){return null}c=this.$("#issue-"+b.get("key"));if(c.length>0){return c}else{return null}};c.prototype.selectIssue=function(a){var b,c,d;d=e(a.currentTarget).data("issue-key");c=this.issues.find(function(a){return a.get("key")===d});b=this.options.app.list.indexOf(c);return this.options.app.state.set({selectedIndex:b})};c.prototype.scrollToIssue=function(a){var b,c,d,e;b=this.$("#issue-"+a);if(b.length>0){c=b.closest("[data-line-number]").data("line-number");return this.scrollToLine(c)}else{this.unbindShortcuts();d=this.options.app.state.get("selectedIndex");e=this.options.app.list.at(d);return this.options.app.controller.showComponentViewer(e)}};c.prototype.openFileByIssue=function(a){var b,c;this.baseIssue=a;b=a.get("component");c=a.get("componentUuid");return this.open(c,b)};c.prototype.linesLimit=function(){var a;a=this.LINES_LIMIT/2;if(this.baseIssue!=null&&this.baseIssue.has("line")){a=Math.max(a,this.baseIssue.get("line"))}return{from:a-this.LINES_LIMIT/2+1,to:a+this.LINES_LIMIT/2}};c.prototype.limitIssues=function(a){var b,c;b=this.ISSUES_LIMIT/2;if(this.baseIssue!=null&&this.baseIssue.has("index")){b=Math.max(b,this.baseIssue.get("index"))}c=a.filter(function(a){return function(c){return Math.abs(c.get("index")-b)<=a.ISSUES_LIMIT/2}}(this));return c};c.prototype.requestIssues=function(){var a;if(this.options.app.list.last().get("component")===this.model.get("key")){a=this.options.app.controller.fetchNextPage()}else{a=e.Deferred().resolve().promise()}return a.done(function(a){return function(){a.issues.reset(a.options.app.list.filter(function(b){return b.get("component")===a.model.key()}));a.issues.reset(a.limitIssues(a.issues));return a.addIssuesPerLineMeta(a.issues)}}(this))};c.prototype.renderIssues=function(){this.issues.forEach(this.renderIssue,this);return this.$(".source-line-issues").addClass("hidden")};c.prototype.renderIssue=function(a){var b;b=new d({el:"#issue-"+a.get("key"),model:a,app:this.options.app});this.issueViews.push(b);return b.render()};c.prototype.addNextIssuesPage=function(){var a;a=this.model.get("key");return this.issues.add(this.options.app.list.filter(function(b){return function(b){return b.get("component")===a}}(this)))};c.prototype.scrollToLine=function(a){var b,c;c=this.$("[data-line-number="+a+"]");b=c.length>0?c.offset().top-200:0;return e(window).scrollTop(b)};c.prototype.closeComponentViewer=function(){return this.options.app.controller.closeComponentViewer()};return c}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/controller",["components/navigator/controller","issues/component-viewer/main"],function(a,c){var d,e,f;d=jQuery;e="actions,transitions,assigneeName,reporterName,actionPlanName";f=["components","projects","users","rules","actionPlans","languages"];return function(a){b(g,a);function g(){return g.__super__.constructor.apply(this,arguments)}g.prototype._issuesParameters=function(){return{p:this.options.app.state.get("page"),ps:this.pageSize,s:"FILE_LINE",asc:true,extra_fields:e,facets:this._facetsFromServer().join()}};g.prototype.fetchList=function(a){var b;if(a==null){a=true}if(a){this.options.app.state.set({selectedIndex:0,page:1},{silent:true});this.closeComponentViewer()}b=this._issuesParameters();_.extend(b,this.options.app.state.get("query"));if(this.options.app.state.get("isContext")){_.extend(b,this.options.app.state.get("contextQuery"))}return d.get(""+baseUrl+"/api/issues/search",b).done(function(b){return function(c){var d;d=b.options.app.list.parseIssues(c);if(a){b.options.app.list.reset(d)}else{b.options.app.list.add(d)}b.options.app.list.setIndex();f.forEach(function(a){return b.options.app.facets[a]=c[a]});b.options.app.facets.reset(b._allFacets());b.options.app.facets.add(c.facets,{merge:true});b.enableFacets(b._enabledFacets());b.options.app.state.set({page:c.p,pageSize:c.ps,total:c.total,maxResultsReached:c.p*c.ps>=c.total});if(a&&b.isIssuePermalink()){return b.showComponentViewer(b.options.app.list.first())}}}(this))};g.prototype.isIssuePermalink=function(){var a;a=this.options.app.state.get("query");return a.issues!=null&&this.options.app.list.length===1};g.prototype.fetchFilters=function(){return d.get(""+baseUrl+"/api/issue_filters/app",function(a){return function(b){a.options.app.state.set({canBulkChange:b.canBulkChange,canManageFilters:b.canManageFilters});return a.options.app.filters.reset(b.favorites)}}(this))};g.prototype._mergeCollections=function(a,b){var c;c=new Backbone.Collection(a);c.add(b,{merge:true});return c.toJSON()};g.prototype.requestFacet=function(a){var b,c;c=this.options.app.facets.get(a);b=_.extend({facets:a,ps:1},this.options.app.state.get("query"));if(this.options.app.state.get("isContext")){_.extend(b,this.options.app.state.get("contextQuery"))}return d.get(""+baseUrl+"/api/issues/search",b,function(b){return function(d){var e;f.forEach(function(a){return b.options.app.facets[a]=b._mergeCollections(b.options.app.facets[a],d[a])});e=_.findWhere(d.facets,{property:a});if(e!=null){return c.set(e)}}}(this))};g.prototype.newSearch=function(){this.options.app.state.unset("filter");return this.options.app.state.setQuery({resolved:"false"})};g.prototype.applyFilter=function(a,b){var c;if(b==null){b=false}if(!b){c=this.parseQuery(a.get("query"));this.options.app.state.setQuery(c)}return this.options.app.state.set({filter:a,changed:false})};g.prototype.parseQuery=function(){var a;a=g.__super__.parseQuery.apply(this,arguments);delete a.asc;delete a.s;return a};g.prototype.getQuery=function(a,b){var c,d;if(a==null){a="|"}if(b==null){b=false}c=this.options.app.state.get("query");if(b&&this.options.app.state.get("isContext")){_.extend(c,this.options.app.state.get("contextQuery"))}d=[];_.map(c,function(a,b){return d.push(""+b+"="+encodeURIComponent(a))});return d.join(a)};g.prototype.getRoute=function(){var a,b;a=this.options.app.state.get("filter");b=g.__super__.getRoute.apply(this,arguments);if(a!=null){if(this.options.app.state.get("changed")&&b.length>0){b="id="+a.id+"|"+b}else{b="id="+a.id}}return b};g.prototype._prepareComponent=function(a){return{key:a.get("component"),name:a.get("componentLongName"),qualifier:a.get("componentQualifier"),project:a.get("project"),projectName:a.get("projectLongName")}};g.prototype.showComponentViewer=function(a){this.options.app.layout.workspaceComponentViewerRegion.reset();key.setScope("componentViewer");this.options.app.issuesView.unbindScrollEvents();this.options.app.state.set("component",this._prepareComponent(a));this.options.app.componentViewer=new c({app:this.options.app});this.options.app.layout.workspaceComponentViewerRegion.show(this.options.app.componentViewer);this.options.app.layout.showComponentViewer();return this.options.app.componentViewer.openFileByIssue(a)};g.prototype.closeComponentViewer=function(){key.setScope("list");d("body").click();this.options.app.state.unset("component");this.options.app.layout.workspaceComponentViewerRegion.reset();this.options.app.layout.hideComponentViewer();this.options.app.issuesView.bindScrollEvents();return this.options.app.issuesView.scrollTo()};return g}(a)})}).call(this);define("components/navigator/router",[],function(){return Backbone.Router.extend({routeSeparator:"|",routes:{"":"index",":query":"index"},initialize:function(a){this.options=a;this.listenTo(this.options.app.state,"change:query",this.updateRoute)},index:function(a){a=this.options.app.controller.parseQuery(a);this.options.app.state.setQuery(a)},updateRoute:function(){var a=this.options.app.controller.getRoute();this.navigate(a)}})});(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/router",["components/navigator/router"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.routes={"":"emptyQuery",":query":"index"};c.prototype.initialize=function(a){c.__super__.initialize.apply(this,arguments);return this.listenTo(a.app.state,"change:filter",this.updateRoute)};c.prototype.emptyQuery=function(){return this.navigate("resolved=false",{trigger:true,replace:true})};c.prototype.index=function(a){var b;a=this.options.app.controller.parseQuery(a);if(a.id!=null){b=this.options.app.filters.get(a.id);delete a.id;return b.fetch().done(function(c){return function(){if(Object.keys(a).length>0){c.options.app.controller.applyFilter(b,true);c.options.app.state.setQuery(a);return c.options.app.state.set({changed:true})}else{return c.options.app.controller.applyFilter(b)}}}(this))}else{return this.options.app.state.setQuery(a)}};return c}(a)})}).call(this);define("components/navigator/workspace-list-view",[],function(){var a=jQuery;return Marionette.CompositeView.extend({ui:{loadMore:".js-more"},itemViewOptions:function(){return{app:this.options.app}},collectionEvents:{reset:"scrollToTop"},initialize:function(a){this.loadMoreThrottled=_.throttle(this.loadMore,1e3,{trailing:false});this.listenTo(a.app.state,"change:maxResultsReached",this.toggleLoadMore);this.listenTo(a.app.state,"change:selectedIndex",this.scrollTo);this.bindShortcuts()},onClose:function(){this.unbindScrollEvents();this.unbindShortcuts()},toggleLoadMore:function(){this.ui.loadMore.toggle(!this.options.app.state.get("maxResultsReached"))},bindScrollEvents:function(){var b=this;a(window).on("scroll.workspace-list-view",function(){b.onScroll()})},unbindScrollEvents:function(){a(window).off("scroll.workspace-list-view")},bindShortcuts:function(){var a=this;key("up","list",function(){a.options.app.controller.selectPrev();return false});key("down","list",function(){a.options.app.controller.selectNext();return false})},loadMore:function(){if(!this.options.app.state.get("maxResultsReached")){var a=this;this.unbindScrollEvents();this.options.app.controller.fetchNextPage().done(function(){a.bindScrollEvents()})}},disablePointerEvents:function(){clearTimeout(this.scrollTimer);a("body").addClass("disabled-pointer-events");this.scrollTimer=setTimeout(function(){a("body").removeClass("disabled-pointer-events")},250)},onScroll:function(){this.disablePointerEvents();if(a(window).scrollTop()+a(window).height()>=this.ui.loadMore.offset().top){this.loadMoreThrottled()}},scrollToTop:function(){this.$el.scrollParent().scrollTop(0)},scrollTo:function(){var b=this.collection.at(this.options.app.state.get("selectedIndex"));if(b==null){return}var c=this.children.findByModel(b),d=this.$el.offset().top,e=c.$el.offset().top-d,f=c.$el.offset().top+c.$el.outerHeight(),g=a(window).scrollTop(),h=g+a(window).height();if(e<g){a(window).scrollTop(e)}if(f>h){a(window).scrollTop(a(window).scrollTop()-h+f)}}})});(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/workspace-list-empty-view",[],function(){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.className="search-navigator-no-results";c.prototype.template=function(){return t("issue_filter.no_issues")};return c}(Marionette.ItemView)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/workspace-list-view",["components/navigator/workspace-list-view","issues/workspace-list-item-view","issues/workspace-list-empty-view","templates/issues"],function(a,c,d){var e,f,g;e=jQuery;g=29;f=10;return function(a){b(h,a);function h(){return h.__super__.constructor.apply(this,arguments)}h.prototype.template=Templates["issues-workspace-list"];h.prototype.componentTemplate=Templates["issues-workspace-list-component"];h.prototype.itemView=c;h.prototype.itemViewContainer=".js-list";h.prototype.emptyView=d;h.prototype.bindShortcuts=function(){var a;a=function(a){return function(b){var c,d;c=a.collection.at(a.options.app.state.get("selectedIndex"));if(c==null){return}d=a.children.findByModel(c);return d.$(".js-issue-"+b).click()}}(this);h.__super__.bindShortcuts.apply(this,arguments);key("right","list",function(a){return function(){var b;b=a.collection.at(a.options.app.state.get("selectedIndex"));a.options.app.controller.showComponentViewer(b);return false}}(this));key("f","list",function(){return a("transition")});key("a","list",function(){return a("assign")});key("m","list",function(){return a("assign-to-me")});key("p","list",function(){return a("plan")});key("i","list",function(){return a("set-severity")});key("c","list",function(){return a("comment")});return key("t","list",function(){return a("edit-tags")})};h.prototype.scrollTo=function(){var a,b,c,d,h,i,j;b=this.collection.at(this.options.app.state.get("selectedIndex"));if(b==null){return}c=this.children.findByModel(b);a=this.$el.offset().top;h=c.$el.offset().top-a;if(c.$el.prev().is(".issues-workspace-list-component")){h-=g}d=c.$el.offset().top+c.$el.outerHeight()+f;j=e(window).scrollTop();i=j+e(window).height();if(h<j){e(window).scrollTop(h)}if(d>i){return e(window).scrollTop(e(window).scrollTop()-i+d)}};h.prototype.appendHtml=function(a,b,c){var d,e,f,g,h,i;d=this.getItemViewContainer(a);g=this.collection.at(c);if(g!=null){h=this.collection.at(c-1);i=h==null;if(h!=null){e=[g.get("project"),g.get("component")].join(" ");f=[h.get("project"),h.get("component")].join(" ");if(e!==f){i=true}}if(i){d.append(this.componentTemplate(g.toJSON()))}}return d.append(b.el)};h.prototype.closeChildren=function(){h.__super__.closeChildren.apply(this,arguments);return this.$(".issues-workspace-list-component").remove()};return h}(a)})}).call(this);define("components/navigator/workspace-header-view",[],function(){return Marionette.ItemView.extend({collectionEvents:function(){return{all:"render"}},events:function(){return{"click .js-bulk-change":"bulkChange","click .js-reload":"reload","click .js-next":"selectNext","click .js-prev":"selectPrev"}},initialize:function(a){this.listenTo(a.app.state,"change",this.render)},bulkChange:function(){},reload:function(){this.options.app.controller.fetchList()},selectNext:function(){this.options.app.controller.selectNext()},selectPrev:function(){this.options.app.controller.selectPrev()},serializeData:function(){return _.extend(Marionette.ItemView.prototype.serializeData.apply(this,arguments),{state:this.options.app.state.toJSON()})}})});(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/workspace-header-view",["components/navigator/workspace-header-view","templates/issues"],function(a){var c;c=jQuery;return function(a){b(d,a);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.template=Templates["issues-workspace-header"];d.prototype.events=function(){return _.extend(d.__super__.events.apply(this,arguments),{"click .js-back":"returnToList","click .js-new-search":"newSearch"})};d.prototype.initialize=function(){d.__super__.initialize.apply(this,arguments);this._onBulkIssues=window.onBulkIssues;return window.onBulkIssues=function(a){return function(){c("#modal").dialog("close");return a.options.app.controller.fetchList()}}(this)};d.prototype.onClose=function(){return window.onBulkIssues=this._onBulkIssues};d.prototype.returnToList=function(){return this.options.app.controller.closeComponentViewer()};d.prototype.newSearch=function(){return this.options.app.controller.newSearch()};d.prototype.bulkChange=function(){var a,b;a=this.options.app.controller.getQuery("&",true);b=""+baseUrl+"/issues/bulk_change_form?"+a;return openModalWindow(b,{})};return d}(a)})}).call(this);define("components/navigator/facets/base-facet",[],function(){var a=jQuery;return Marionette.ItemView.extend({className:"search-navigator-facet-box",forbiddenClassName:"search-navigator-facet-box-forbidden",modelEvents:function(){return{change:"render"}},events:function(){return{"click .js-facet-toggle":"toggle","click .js-facet":"toggleFacet"}},onRender:function(){this.$el.toggleClass("search-navigator-facet-box-collapsed",!this.model.get("enabled"));this.$el.attr("data-property",this.model.get("property"));var a=this,b=this.model.get("property"),c=this.options.app.state.get("query")[b];if(typeof c==="string"){c.split(",").forEach(function(b){var c=a.$(".js-facet").filter('[data-value="'+b+'"]');if(c.length>0){c.addClass("active")}})}},toggle:function(){if(!this.isForbidden()){this.options.app.controller.toggleFacet(this.model.id)}},getValue:function(){return this.$(".js-facet.active").map(function(){return a(this).data("value")}).get().join()},toggleFacet:function(b){a(b.currentTarget).toggleClass("active");var c=this.model.get("property"),d={};d[c]=this.getValue();this.options.app.state.updateFilter(d)},disable:function(){var a=this.model.get("property"),b={};b[a]=null;this.options.app.state.updateFilter(b)},forbid:function(){this.options.app.controller.disableFacet(this.model.id);this.$el.addClass(this.forbiddenClassName)},allow:function(){this.$el.removeClass(this.forbiddenClassName)},isForbidden:function(){return this.$el.hasClass(this.forbiddenClassName)},sortValues:function(a){return _.sortBy(a,function(a){return-a.count})},serializeData:function(){return _.extend(Marionette.ItemView.prototype.serializeData.apply(this,arguments),{values:this.sortValues(this.model.getValues())})}})});define("components/navigator/facets-view",["components/navigator/facets/base-facet"],function(a){return Marionette.CollectionView.extend({className:"search-navigator-facets-list",itemViewOptions:function(){return{app:this.options.app}},getItemView:function(){return a},collectionEvents:function(){return{"change:enabled":"updateState"}},updateState:function(){var a=this.collection.filter(function(a){return a.get("enabled")}),b=a.map(function(a){return a.id});this.options.app.state.set({facets:b})}})});(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/facets/base-facet",["components/navigator/facets/base-facet","templates/issues"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.template=Templates["issues-base-facet"];c.prototype.onRender=function(){c.__super__.onRender.apply(this,arguments);return this.$('[data-toggle="tooltip"]').tooltip({container:"body"})};c.prototype.onClose=function(){return this.$('[data-toggle="tooltip"]').tooltip("destroy")};return c}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/facets/severity-facet",["issues/facets/base-facet","templates/issues"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.template=Templates["issues-severity-facet"];c.prototype.sortValues=function(a){var b;b=["BLOCKER","MINOR","CRITICAL","INFO","MAJOR"];return _.sortBy(a,function(a){return b.indexOf(a.val)})};return c}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/facets/status-facet",["issues/facets/base-facet","templates/issues"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.template=Templates["issues-status-facet"];c.prototype.sortValues=function(a){var b;b=["OPEN","RESOLVED","REOPENED","CLOSED","CONFIRMED"];return _.sortBy(a,function(a){return b.indexOf(a.val)})};return c}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/facets/custom-values-facet",["issues/facets/base-facet","templates/issues"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.template=Templates["issues-custom-values-facet"];c.prototype.events=function(){return _.extend(c.__super__.events.apply(this,arguments),{"change .js-custom-value":"addCustomValue"})};c.prototype.getUrl=function(){};c.prototype.onRender=function(){c.__super__.onRender.apply(this,arguments);return this.prepareSearch()};c.prototype.prepareSearch=function(){return this.$(".js-custom-value").select2({placeholder:"Search...",minimumInputLength:2,allowClear:false,formatNoMatches:function(){return t("select2.noMatches")},formatSearching:function(){return t("select2.searching")},formatInputTooShort:function(){return tp("select2.tooShort",2)},width:"100%",ajax:{quietMillis:300,url:this.getUrl(),data:function(a,b){return{s:a,p:b}},results:function(a){return{more:a.more,results:a.results}}}})};c.prototype.addCustomValue=function(){var a,b,c,d;c=this.model.get("property");a=this.$(".js-custom-value").select2("val");d=this.getValue();if(d.length>0){d+=","}d+=a;b={};b[c]=d;return this.options.app.state.updateFilter(b)};return c}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/facets/project-facet",["issues/facets/custom-values-facet"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.getUrl=function(){var a;a=this.options.app.state.get("contextComponentQualifier");if(a==="VW"||a==="SVW"){return""+baseUrl+"/api/components/search"}else{return""+baseUrl+"/api/resources/search?f=s2&q=TRK&display_uuid=true"}};c.prototype.prepareSearch=function(){var a;a=this.options.app.state.get("contextComponentQualifier");if(a==="VW"||a==="SVW"){return this.prepareSearchForViews()}else{return c.__super__.prepareSearch.apply(this,arguments)}};c.prototype.prepareSearchForViews=function(){var a;a=this.options.app.state.get("contextComponentUuid");return this.$(".js-custom-value").select2({placeholder:"Search...",minimumInputLength:2,allowClear:false,formatNoMatches:function(){return t("select2.noMatches")},formatSearching:function(){return t("select2.searching")},formatInputTooShort:function(){return tp("select2.tooShort",2)},width:"100%",ajax:{quietMillis:300,url:this.getUrl(),data:function(b,c){return{q:b,componentUuid:a,p:c,ps:25}},results:function(a){return{more:a.p*a.ps<a.total,results:a.components.map(function(a){return{id:a.uuid,text:a.name}})}}}})};c.prototype.getValuesWithLabels=function(){var a,b;b=this.model.getValues();a=this.options.app.facets.projects;b.forEach(function(b){return function(b){var c,d,e;e=b.val;c="";if(e){d=_.findWhere(a,{uuid:e});if(d!=null){c=d.longName}}return b.label=c}}(this));return b};c.prototype.serializeData=function(){return _.extend(c.__super__.serializeData.apply(this,arguments),{values:this.sortValues(this.getValuesWithLabels())})};return c}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/facets/module-facet",["issues/facets/base-facet"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.getValuesWithLabels=function(){var a,b;b=this.model.getValues();a=this.options.app.facets.components;b.forEach(function(b){return function(b){var c,d,e;e=b.val;d=e;if(e){c=_.findWhere(a,{uuid:e});if(c!=null){d=c.longName}}return b.label=d}}(this));return b};c.prototype.serializeData=function(){return _.extend(c.__super__.serializeData.apply(this,arguments),{values:this.sortValues(this.getValuesWithLabels())})};return c}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/facets/assignee-facet",["issues/facets/custom-values-facet","templates/issues"],function(a){var c;c=jQuery;return function(a){b(d,a);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.template=Templates["issues-assignee-facet"];d.prototype.getUrl=function(){return""+baseUrl+"/api/users/search?f=s2"};d.prototype.onRender=function(){var a;d.__super__.onRender.apply(this,arguments);a=this.options.app.state.get("query")["assigned"];if(a!=null&&(!a||a==="false")){return this.$(".js-facet").filter("[data-unassigned]").addClass("active")}};d.prototype.toggleFacet=function(a){var b,d,e;d=c(a.currentTarget).is("[data-unassigned]");c(a.currentTarget).toggleClass("active");if(d){b=c(a.currentTarget).is(".active");e=b?"false":null;return this.options.app.state.updateFilter({assigned:e,assignees:null})}else{return this.options.app.state.updateFilter({assigned:null,assignees:this.getValue()})}};d.prototype.getValuesWithLabels=function(){var a,b;b=this.model.getValues();a=this.options.app.facets.users;b.forEach(function(b){return function(b){var c,d,e;c=b.val;d="";if(c){e=_.findWhere(a,{login:c});if(e!=null){d=e.name}}return b.label=d}}(this));return b};d.prototype.disable=function(){return this.options.app.state.updateFilter({assigned:null,assignees:null})};d.prototype.addCustomValue=function(){var a,b,c,d;c=this.model.get("property");a=this.$(".js-custom-value").select2("val");d=this.getValue();if(d.length>0){d+=","}d+=a;b={};b[c]=d;b.assigned=null;return this.options.app.state.updateFilter(b)};d.prototype.sortValues=function(a){return _.sortBy(a,function(a){var b;b=a.val===""?-999999:-a.count;return b})};d.prototype.serializeData=function(){return _.extend(d.__super__.serializeData.apply(this,arguments),{values:this.sortValues(this.getValuesWithLabels())})};return d}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/facets/rule-facet",["issues/facets/custom-values-facet"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.prepareSearch=function(){var a,b;b=""+baseUrl+"/api/rules/search?f=name,langName";a=this.options.app.state.get("query").languages;if(a!=null){b+="&languages="+a}return this.$(".js-custom-value").select2({placeholder:"Search...",minimumInputLength:2,allowClear:false,formatNoMatches:function(){return t("select2.noMatches")},formatSearching:function(){return t("select2.searching")},formatInputTooShort:function(){return tp("select2.tooShort",2)},width:"100%",ajax:{quietMillis:300,url:b,data:function(a,b){return{q:a,p:b}},results:function(a){var b;b=a.rules.map(function(a){return{id:a.key,text:"("+a.langName+") "+a.name}});return{more:a.p*a.ps<a.total,results:b}}}})};c.prototype.getValuesWithLabels=function(){var a,b;b=this.model.getValues();a=this.options.app.facets.rules;b.forEach(function(b){return function(b){var c,d,e,f;d=b.val;e="";c="";if(d){f=_.findWhere(a,{key:d});if(f!=null){e=f.name}if(f!=null){c=f.langName}}b.label=e;return b.extra=c}}(this));return b};c.prototype.serializeData=function(){return _.extend(c.__super__.serializeData.apply(this,arguments),{values:this.sortValues(this.getValuesWithLabels())})};return c}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/facets/tag-facet",["issues/facets/custom-values-facet"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.prepareSearch=function(){var a,b;b=""+baseUrl+"/api/issues/tags?ps=10";a=this.options.app.state.get("query").tags;if(a!=null){b+="&tags="+a}return this.$(".js-custom-value").select2({placeholder:"Search...",minimumInputLength:0,allowClear:false,formatNoMatches:function(){return t("select2.noMatches")},formatSearching:function(){return t("select2.searching")},width:"100%",ajax:{quietMillis:300,url:b,data:function(a,b){return{q:a,ps:10}},results:function(a){var b;b=a.tags.map(function(a){return{id:a,text:a}});return{more:false,results:b}}}})};c.prototype.getValuesWithLabels=function(){var a,b;b=this.model.getValues();a=this.options.app.facets.tags;b.forEach(function(a){return function(a){a.label=a.val;return a.extra=""}}(this));return b};c.prototype.serializeData=function(){return _.extend(c.__super__.serializeData.apply(this,arguments),{values:this.sortValues(this.getValuesWithLabels())})};return c}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/facets/resolution-facet",["issues/facets/base-facet","templates/issues"],function(a){var c;c=jQuery;return function(a){b(d,a);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.template=Templates["issues-resolution-facet"];d.prototype.onRender=function(){
var a;d.__super__.onRender.apply(this,arguments);a=this.options.app.state.get("query")["resolved"];if(a!=null&&(!a||a==="false")){return this.$(".js-facet").filter("[data-unresolved]").addClass("active")}};d.prototype.toggleFacet=function(a){var b,d,e;d=c(a.currentTarget).is("[data-unresolved]");c(a.currentTarget).toggleClass("active");if(d){b=c(a.currentTarget).is(".active");e=b?"false":null;return this.options.app.state.updateFilter({resolved:e,resolutions:null})}else{return this.options.app.state.updateFilter({resolved:null,resolutions:this.getValue()})}};d.prototype.disable=function(){return this.options.app.state.updateFilter({resolved:null,resolutions:null})};d.prototype.sortValues=function(a){var b;b=["","FIXED","FALSE-POSITIVE","WONTFIX","REMOVED"];return _.sortBy(a,function(a){return b.indexOf(a.val)})};return d}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/facets/creation-date-facet",["issues/facets/base-facet","templates/issues"],function(a){var c;c=jQuery;return function(a){b(d,a);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.template=Templates["issues-creation-date-facet"];d.prototype.events=function(){return _.extend(d.__super__.events.apply(this,arguments),{"change input":"applyFacet","click .js-select-period-start":"selectPeriodStart","click .js-select-period-end":"selectPeriodEnd","click .sonar-d3 rect":"selectBar","click .js-all":"onAllClick","click .js-last-week":"onLastWeekClick","click .js-last-month":"onLastMonthClick","click .js-last-year":"onLastYearClick"})};d.prototype.onRender=function(){var a,b,c,d,e,f;this.$el.toggleClass("search-navigator-facet-box-collapsed",!this.model.get("enabled"));this.$("input").datepicker({dateFormat:"yy-mm-dd",changeMonth:true,changeYear:true});c=["createdAfter","createdBefore","createdAt"];d=this.options.app.state.get("query");c.forEach(function(a){return function(b){var c;c=d[b];if(c!=null){return a.$("input[name="+b+"]").val(c)}}}(this));e=this.model.getValues();if(!(_.isArray(e)&&e.length>0)){a=moment();e=[];for(b=f=0;f<=10;b=++f){e.push({count:0,val:a.toDate().toString()});a=a.subtract(1,"days")}e.reverse()}return this.$(".js-barchart").barchart(e)};d.prototype.selectPeriodStart=function(){return this.$(".js-period-start").datepicker("show")};d.prototype.selectPeriodEnd=function(){return this.$(".js-period-end").datepicker("show")};d.prototype.applyFacet=function(){var a;a={};this.$("input").each(function(){var b,d;b=c(this).prop("name");d=c(this).val();return a[b]=d});return this.options.app.state.updateFilter(a)};d.prototype.disable=function(){return this.options.app.state.updateFilter({createdAfter:null,createdBefore:null,createdAt:null})};d.prototype.selectBar=function(a){var b,d;d=c(a.currentTarget).data("period-start");b=c(a.currentTarget).data("period-end");return this.options.app.state.updateFilter({createdAfter:d,createdBefore:b,createdAt:null})};d.prototype.onAllClick=function(){return this.disable()};d.prototype.onLastWeekClick=function(){var a;a=moment().subtract(1,"weeks").format("YYYY-MM-DD");return this.options.app.state.updateFilter({createdAfter:a,createdBefore:null,createdAt:null})};d.prototype.onLastMonthClick=function(){var a;a=moment().subtract(1,"months").format("YYYY-MM-DD");return this.options.app.state.updateFilter({createdAfter:a,createdBefore:null,createdAt:null})};d.prototype.onLastYearClick=function(){var a;a=moment().subtract(1,"years").format("YYYY-MM-DD");return this.options.app.state.updateFilter({createdAfter:a,createdBefore:null,createdAt:null})};d.prototype.serializeData=function(){return _.extend(d.__super__.serializeData.apply(this,arguments),{periodStart:this.options.app.state.get("query").createdAfter,periodEnd:this.options.app.state.get("query").createdBefore,createdAt:this.options.app.state.get("query").createdAt})};return d}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/facets/action-plan-facet",["issues/facets/base-facet","templates/issues"],function(a){var c;c=jQuery;return function(a){b(d,a);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.template=Templates["issues-action-plan-facet"];d.prototype.onRender=function(){var a;d.__super__.onRender.apply(this,arguments);a=this.options.app.state.get("query")["planned"];if(a!=null&&(!a||a==="false")){return this.$(".js-facet").filter("[data-unplanned]").addClass("active")}};d.prototype.toggleFacet=function(a){var b,d,e;d=c(a.currentTarget).is("[data-unplanned]");c(a.currentTarget).toggleClass("active");if(d){b=c(a.currentTarget).is(".active");e=b?"false":null;return this.options.app.state.updateFilter({planned:e,actionPlans:null})}else{return this.options.app.state.updateFilter({planned:null,actionPlans:this.getValue()})}};d.prototype.getValuesWithLabels=function(){var a,b;b=this.model.getValues();a=this.options.app.facets.actionPlans;b.forEach(function(b){return function(b){var c,d,e;d=b.val;e=null;if(d){c=_.findWhere(a,{key:d});if(c!=null){e=c.name}}return b.label=e}}(this));return b};d.prototype.disable=function(){return this.options.app.state.updateFilter({planned:null,actionPlans:null})};d.prototype.serializeData=function(){return _.extend(d.__super__.serializeData.apply(this,arguments),{values:this.getValuesWithLabels()})};return d}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/facets/file-facet",["issues/facets/base-facet","templates/issues"],function(a){var c;c=jQuery;return function(a){b(d,a);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.template=Templates["issues-file-facet"];d.prototype.onRender=function(){var a;d.__super__.onRender.apply(this,arguments);a=_.max(this.$(".facet-stat").map(function(){return c(this).outerWidth()}).get());return this.$(".facet-name").css("padding-right",a)};d.prototype.getValuesWithLabels=function(){var a,b;b=this.model.getValues();a=this.options.app.facets.components;b.forEach(function(b){return function(b){var c,d,e;d=b.val;e=null;if(d){c=_.findWhere(a,{uuid:d});if(c!=null){e=c.longName}}return b.label=e}}(this));return b};d.prototype.serializeData=function(){return _.extend(d.__super__.serializeData.apply(this,arguments),{values:this.sortValues(this.getValuesWithLabels())})};return d}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/facets/reporter-facet",["issues/facets/custom-values-facet"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.getUrl=function(){return""+baseUrl+"/api/users/search?f=s2"};c.prototype.getValuesWithLabels=function(){var a,b;b=this.model.getValues();a=this.options.app.facets.users;b.forEach(function(b){return function(b){var c,d,e;d=b.val;e=null;if(d){c=_.findWhere(a,{login:d});if(c!=null){e=c.name}}return b.label=e}}(this));return b};c.prototype.serializeData=function(){return _.extend(c.__super__.serializeData.apply(this,arguments),{values:this.sortValues(this.getValuesWithLabels())})};return c}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/facets/language-facet",["issues/facets/custom-values-facet"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.getUrl=function(){return""+baseUrl+"/api/languages/list"};c.prototype.prepareSearch=function(){return this.$(".js-custom-value").select2({placeholder:"Search...",minimumInputLength:2,allowClear:false,formatNoMatches:function(){return t("select2.noMatches")},formatSearching:function(){return t("select2.searching")},formatInputTooShort:function(){return tp("select2.tooShort",2)},width:"100%",ajax:{quietMillis:300,url:this.getUrl(),data:function(a){return{q:a,ps:0}},results:function(a){return{more:false,results:a.languages.map(function(a){return{id:a.key,text:a.name}})}}}})};c.prototype.getValuesWithLabels=function(){var a,b;b=this.model.getValues();a=this.options.app.facets.languages;b.forEach(function(b){return function(b){var c,d,e;d=b.val;e=null;if(d){c=_.findWhere(a,{key:d});if(c!=null){e=c.name}}return b.label=e}}(this));return b};c.prototype.serializeData=function(){return _.extend(c.__super__.serializeData.apply(this,arguments),{values:this.sortValues(this.getValuesWithLabels())})};return c}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/facets/author-facet",["issues/facets/custom-values-facet"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.getUrl=function(){return""+baseUrl+"/api/issues/authors"};c.prototype.prepareSearch=function(){return this.$(".js-custom-value").select2({placeholder:"Search...",minimumInputLength:2,allowClear:false,formatNoMatches:function(){return t("select2.noMatches")},formatSearching:function(){return t("select2.searching")},formatInputTooShort:function(){return tp("select2.tooShort",2)},width:"100%",ajax:{quietMillis:300,url:this.getUrl(),data:function(a){return{q:a,ps:25}},results:function(a){return{more:false,results:a.authors.map(function(a){return{id:a,text:a}})}}}})};return c}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/facets/issue-key-facet",["issues/facets/base-facet","templates/issues"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.template=Templates["issues-issue-key-facet"];c.prototype.onRender=function(){return this.$el.toggleClass("hidden",!this.options.app.state.get("query").issues)};c.prototype.disable=function(){return this.options.app.state.updateFilter({issues:null})};c.prototype.serializeData=function(){return _.extend(c.__super__.serializeData.apply(this,arguments),{issues:this.options.app.state.get("query").issues})};return c}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/facets/context-facet",["issues/facets/base-facet","templates/issues"],function(a){return function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.template=Templates["issues-context-facet"];c.prototype.serializeData=function(){return _.extend(c.__super__.serializeData.apply(this,arguments),{state:this.options.app.state.toJSON()})};return c}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/facets-view",["components/navigator/facets-view","issues/facets/base-facet","issues/facets/severity-facet","issues/facets/status-facet","issues/facets/project-facet","issues/facets/module-facet","issues/facets/assignee-facet","issues/facets/rule-facet","issues/facets/tag-facet","issues/facets/resolution-facet","issues/facets/creation-date-facet","issues/facets/action-plan-facet","issues/facets/file-facet","issues/facets/reporter-facet","issues/facets/language-facet","issues/facets/author-facet","issues/facets/issue-key-facet","issues/facets/context-facet"],function(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){return function(a){b(t,a);function t(){return t.__super__.constructor.apply(this,arguments)}t.prototype.getItemView=function(a){switch(a.get("property")){case"severities":return d;case"statuses":return e;case"assignees":return h;case"resolutions":return k;case"createdAt":return l;case"projectUuids":return f;case"moduleUuids":return g;case"rules":return i;case"tags":return j;case"actionPlans":return m;case"fileUuids":return n;case"reporters":return o;case"languages":return p;case"authors":return q;case"issues":return r;case"context":return s;default:return c}};return t}(a)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("issues/filters-view",["templates/issues"],function(){var a;a=jQuery;return function(c){b(d,c);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.template=Templates["issues-filters"];d.prototype.events={"click .js-toggle-filters":"toggleFilters","click .js-filter":"applyFilter","click .js-filter-save-as":"saveAs","click .js-filter-save":"save","click .js-filter-copy":"copy","click .js-filter-edit":"edit"};d.prototype.initialize=function(b){this.listenTo(b.app.state,"change:filter",this.render);this.listenTo(b.app.state,"change:changed",this.render);this.listenTo(b.app.filters,"all",this.render);return window.onSaveAs=window.onCopy=window.onEdit=function(b){return function(c){a("#modal").dialog("close");return b.options.app.controller.fetchFilters().done(function(){var a;a=b.collection.get(c);return a.fetch().done(function(){return b.options.app.controller.applyFilter(a)})})}}(this)};d.prototype.onRender=function(){return this.$el.toggleClass("search-navigator-filters-selected",this.options.app.state.has("filter"))};d.prototype.toggleFilters=function(b){b.stopPropagation();this.$(".search-navigator-filters-list").toggle();return a("body").on("click.issues-filters",function(b){return function(){a("body").off("click.issues-filters");return b.$(".search-navigator-filters-list").hide()}}(this))};d.prototype.applyFilter=function(b){var c,d;d=a(b.currentTarget).data("id");c=this.collection.get(d);return c.fetch().done(function(a){return function(){return a.options.app.controller.applyFilter(c)}}(this))};d.prototype.saveAs=function(){var a,b;a=this.options.app.controller.getQuery("&");b=""+baseUrl+"/issues/save_as_form?"+a;return openModalWindow(b,{})};d.prototype.save=function(){var b,c;b=this.options.app.controller.getQuery("&");c=""+baseUrl+"/issues/save/"+this.options.app.state.get("filter").id+"?"+b;return a.post(c).done(function(a){return function(){return a.options.app.state.set({changed:false})}}(this))};d.prototype.copy=function(){var a;a=""+baseUrl+"/issues/copy_form/"+this.options.app.state.get("filter").id;return openModalWindow(a,{})};d.prototype.edit=function(){var a;a=""+baseUrl+"/issues/edit_form/"+this.options.app.state.get("filter").id;return openModalWindow(a,{})};d.prototype.serializeData=function(){var a;return _.extend(d.__super__.serializeData.apply(this,arguments),{state:this.options.app.state.toJSON(),filter:(a=this.options.app.state.get("filter"))!=null?a.toJSON():void 0,currentUser:window.SS.user})};return d}(Marionette.ItemView)})}).call(this);(function(){requirejs.config({baseUrl:""+baseUrl+"/js"});requirejs(["issues/models/state","issues/layout","issues/models/issues","components/navigator/models/facets","issues/models/filters","issues/controller","issues/router","issues/workspace-list-view","issues/workspace-header-view","issues/facets-view","issues/filters-view"],function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n;l=jQuery;m=new Marionette.Application;m.getContextQuery=function(){return{componentUuids:window.config.resource}};m.getRestrictedFacets=function(){return{TRK:["projectUuids"],BRC:["projectUuids"],DIR:["projectUuids","moduleUuids","directories"],DEV:["authors"],DEV_PRJ:["projectUuids","authors"]}};m.updateContextFacets=function(){var a,b,c;b=this.state.get("facets");a=this.state.get("allFacets");c=this.state.get("facetsFromServer");return this.state.set({facets:b,allFacets:_.difference(a,this.getRestrictedFacets()[window.config.resourceQualifier]),facetsFromServer:_.difference(c,this.getRestrictedFacets()[window.config.resourceQualifier])})};m.addInitializer(function(){this.state=new a({isContext:true,contextQuery:this.getContextQuery(),contextComponentUuid:window.config.resource,contextComponentName:window.config.resourceName,contextComponentQualifier:window.config.resourceQualifier});this.updateContextFacets();this.list=new c;this.facets=new d;return this.filters=new e});m.addInitializer(function(){this.layout=new b({app:this});l(".issues").empty().append(this.layout.render().el);return l("#footer").addClass("search-navigator-footer")});m.addInitializer(function(){return this.controller=new f({app:this})});m.addInitializer(function(){this.issuesView=new h({app:this,collection:this.list});this.layout.workspaceListRegion.show(this.issuesView);return this.issuesView.bindScrollEvents()});m.addInitializer(function(){this.workspaceHeaderView=new i({app:this,collection:this.list});return this.layout.workspaceHeaderRegion.show(this.workspaceHeaderView)});m.addInitializer(function(){this.facetsView=new j({app:this,collection:this.facets});return this.layout.facetsRegion.show(this.facetsView)});m.addInitializer(function(){return this.controller.fetchFilters().done(function(a){return function(){key.setScope("list");a.router=new g({app:a});return Backbone.history.start()}}(this))});n=window.requestMessages();return jQuery.when(n).done(function(){return m.start()})})}).call(this);define("issues/app-context",function(){});