(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("quality-gate/models/quality-gate",[],function(){var a;return a=function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.url=function(){return""+baseUrl+"/api/qualitygates/show?id="+this.get("id")};return c}(Backbone.Model)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("quality-gate/collections/quality-gates",["quality-gate/models/quality-gate"],function(a){var c;return c=function(c){b(d,c);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.model=a;d.prototype.url=function(){return""+baseUrl+"/api/qualitygates/list"};d.prototype.parse=function(a){return a.qualitygates.map(function(b){return _.extend(b,{"default":b.id===a["default"]})})};d.prototype.comparator=function(a){return a.get("name").toLowerCase()};return d}(Backbone.Collection)})}).call(this);this["Templates"]=this["Templates"]||{};this["Templates"]["quality-gate-actions"]=Handlebars.template({1:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'  <div class="page-actions">\n    <div class="button-group">\n      <button id="quality-gate-add">'+f((b.t||a&&a.t||e).call(a,"create",{name:"t",hash:{},data:d}))+"</button>\n    </div>\n  </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h='<h1 class="page-title">'+g((b.t||a&&a.t||f).call(a,"quality_gates.page",{name:"t",hash:{},data:d}))+"</h1>\n";e=b["if"].call(a,a!=null?a.canEdit:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h},useData:true});this["Templates"]["quality-gate-detail-condition"]=Handlebars.template({1:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'    <span class="deprecated">'+f((b.t||a&&a.t||e).call(a,"deprecated",{name:"t",hash:{},data:d}))+"</span>\n"},3:function(a,b,c,d){var e,f='    <select name="period" style="width: 100%">\n      ';e=b.unless.call(a,a!=null?a.isDiffMetric:a,{name:"unless",hash:{},fn:this.program(4,d),inverse:this.noop,data:d});if(e!=null){f+=e}f+="\n      ";e=b.each.call(a,a!=null?a.periods:a,{name:"each",hash:{},fn:this.program(6,d),inverse:this.noop,data:d});if(e!=null){f+=e}return f+"\n    </select>\n"},4:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'<option value="0">'+f((b.t||a&&a.t||e).call(a,"value",{name:"t",hash:{},data:d}))+"</option>"},6:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'<option value="'+h((e=(e=b.key||(a!=null?a.key:a))!=null?e:g,typeof e===f?e.call(a,{name:"key",hash:{},data:d}):e))+'">&Delta; '+h((e=(e=b.text||(a!=null?a.text:a))!=null?e:g,typeof e===f?e.call(a,{name:"text",hash:{},data:d}):e))+"</option>"},8:function(a,b,c,d){var e,f="    ";e=b["if"].call(a,a!=null?a.periodText:a,{name:"if",hash:{},fn:this.program(9,d),inverse:this.program(11,d),data:d});if(e!=null){f+=e}return f},9:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return"&Delta; "+h((e=(e=b.periodText||(a!=null?a.periodText:a))!=null?e:g,typeof e===f?e.call(a,{name:"periodText",hash:{},data:d}):e))+"\n    "},11:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return f((b.t||a&&a.t||e).call(a,"value",{name:"t",hash:{},data:d}))+"\n"},13:function(a,b,c,d){var e,f=b.helperMissing,g='    <select name="operator">\n';e=(b.operators||a&&a.operators||f).call(a,(e=a!=null?a.metric:a)!=null?e.type:e,{name:"operators",hash:{},fn:this.program(14,d),inverse:this.noop,data:d});if(e!=null){g+=e}return g+"    </select>\n"},14:function(a,b,c,d){var e=this.lambda,f=this.escapeExpression,g=b.helperMissing;return'        <option value="'+f(e(a,a))+'">'+f((b.t||a&&a.t||g).call(a,"quality_gates.operator",a,{name:"t",hash:{},data:d}))+"</option>\n"},16:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return"    "+f((b.t||a&&a.t||e).call(a,"quality_gates.operator",a!=null?a.op:a,{name:"t",hash:{},data:d}))+"\n"},18:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression;return'    <input name="warning" class="input-small" data-type="'+g(f((e=a!=null?a.metric:a)!=null?e.type:e,a))+'" placeholder="'+g(f((e=a!=null?a.metric:a)!=null?e.placeholder:e,a))+'"\n           type="text">\n'},20:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return"    "+h((e=(e=b.warning||(a!=null?a.warning:a))!=null?e:g,typeof e===f?e.call(a,{name:"warning",hash:{},data:d}):e))+"\n"},22:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression;return'    <input name="error" class="input-small" data-type="'+g(f((e=a!=null?a.metric:a)!=null?e.type:e,a))+'" placeholder="'+g(f((e=a!=null?a.metric:a)!=null?e.placeholder:e,a))+'"\n           type="text">\n'},24:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return"    "+h((e=(e=b.error||(a!=null?a.error:a))!=null?e:g,typeof e===f?e.call(a,{name:"error",hash:{},data:d}):e))+"\n"},26:function(a,b,c,d){var e,f="";e=b["if"].call(a,a!=null?a.id:a,{name:"if",hash:{},fn:this.program(27,d),inverse:this.program(29,d),data:d});if(e!=null){f+=e}return f},27:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'      <div class="button-group">\n        <button class="update-condition" disabled>'+f((b.t||a&&a.t||e).call(a,"update_verb",{name:"t",hash:{},data:d}))+'</button>\n        <button class="button-red delete-condition">'+f((b.t||a&&a.t||e).call(a,"delete",{name:"t",hash:{},data:d}))+"</button>\n      </div>\n"},29:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'      <div class="button-group">\n        <button class="add-condition">'+f((b.t||a&&a.t||e).call(a,"add_verb",{name:"t",hash:{},data:d}))+'</button>\n        <a class="action cancel-add-condition">'+f((b.t||a&&a.t||e).call(a,"cancel",{name:"t",hash:{},data:d}))+"</a>\n      </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression,h=b.helperMissing,i="<td nowrap>\n  "+g(f((e=a!=null?a.metric:a)!=null?e.name:e,a))+"\n";e=b["if"].call(a,(e=a!=null?a.metric:a)!=null?e.hidden:e,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){i+=e}i+='</td>\n<td width="20%" nowrap>\n';e=b["if"].call(a,a!=null?a.canEdit:a,{name:"if",hash:{},fn:this.program(3,d),inverse:this.program(8,d),data:d});if(e!=null){i+=e}i+='</td>\n<td width="10%" nowrap>\n';e=b["if"].call(a,a!=null?a.canEdit:a,{name:"if",hash:{},fn:this.program(13,d),inverse:this.program(16,d),data:d});if(e!=null){i+=e}i+='</td>\n<td width="1" class="nowrap">\n  <i class="icon-alert-warn" title="'+g((b.t||a&&a.t||h).call(a,"quality_gates.warning_tooltip",{name:"t",hash:{},data:d}))+'"></i>\n';e=b["if"].call(a,a!=null?a.canEdit:a,{name:"if",hash:{},fn:this.program(18,d),inverse:this.program(20,d),data:d});if(e!=null){i+=e}i+='</td>\n<td width="1" class="nowrap">\n  <i class="icon-alert-error" title="'+g((b.t||a&&a.t||h).call(a,"quality_gates.error_tooltip",{name:"t",hash:{},data:d}))+'"></i>\n';e=b["if"].call(a,a!=null?a.canEdit:a,{name:"if",hash:{},fn:this.program(22,d),inverse:this.program(24,d),data:d});if(e!=null){i+=e}i+='</td>\n<td class="quality-gate-condition-actions" width="120px" nowrap>\n';e=b["if"].call(a,a!=null?a.canEdit:a,{name:"if",hash:{},fn:this.program(26,d),inverse:this.noop,data:d});if(e!=null){i+=e}return i+"</td>\n"},useData:true});this["Templates"]["quality-gate-detail-conditions-empty"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'<td colspan="6">\n  '+f((b.t||a&&a.t||e).call(a,"quality_gates.no_conditions",{name:"t",hash:{},data:d}))+"\n</td>"},useData:true});this["Templates"]["quality-gate-detail-conditions"]=Handlebars.template({1:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h='  <div class="quality-gate-new-condition">\n    <label for="quality-gate-new-condition-metric">'+g((b.t||a&&a.t||f).call(a,"quality_gates.add_condition",{name:"t",hash:{},data:d}))+':</label>\n    <select id="quality-gate-new-condition-metric">\n      <option></option>\n';e=b.each.call(a,a!=null?a.metricGroups:a,{name:"each",hash:{},fn:this.program(2,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h+"    </select>\n  </div>\n"},2:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='        <optgroup label="'+i((f=(f=b.domain||(a!=null?a.domain:a))!=null?f:h,typeof f===g?f.call(a,{name:"domain",hash:{},data:d}):f))+'">\n            ';e=b.each.call(a,a!=null?a.metrics:a,{name:"each",hash:{},fn:this.program(3,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j+"\n        </optgroup>\n"},3:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'<option value="'+h((e=(e=b.key||(a!=null?a.key:a))!=null?e:g,typeof e===f?e.call(a,{name:"key",hash:{},data:d}):e))+'">'+h((e=(e=b.name||(a!=null?a.name:a))!=null?e:g,typeof e===f?e.call(a,{name:"name",hash:{},data:d}):e))+"</option>"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h='<div class="quality-gate-section-name">'+g((b.t||a&&a.t||f).call(a,"quality_gates.conditions",{name:"t",hash:{},data:d}))+'</div>\n\n<div class="quality-gate-introduction">\n  <p>'+g((b.t||a&&a.t||f).call(a,"quality_gates.introduction",{name:"t",hash:{},data:d}))+'\n    <a class="link-action quality-gate-introduction-show-more">'+g((b.t||a&&a.t||f).call(a,"more",{name:"t",hash:{},data:d}))+'</a>\n  </p>\n  <div class="quality-gate-introduction-more inline-help">\n    '+g((b.t||a&&a.t||f).call(a,"quality_gates.health_icons",{name:"t",hash:{},data:d}))+'\n    <ul>\n      <li>\n        <i class="icon-alert-ok"></i>\n        '+g((b.t||a&&a.t||f).call(a,"alerts.notes.ok",{name:"t",hash:{},data:d}))+'\n      </li>\n      <li>\n        <i class="icon-alert-warn"></i>\n        '+g((b.t||a&&a.t||f).call(a,"alerts.notes.warn",{name:"t",hash:{},data:d}))+'\n      </li>\n      <li>\n        <i class="icon-alert-error"></i>\n        '+g((b.t||a&&a.t||f).call(a,"alerts.notes.error",{name:"t",hash:{},data:d}))+"\n      </li>\n    </ul>\n  </div>\n</div>\n\n";e=b["if"].call(a,a!=null?a.canEdit:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){h+=e}return h+'\n<div class="quality-gate-conditions-wrap">\n  <table class="data zebra width100 marginbottom10 spaced quality-gate-conditions">\n    <thead><tr></tr></thead>\n    <tbody></tbody>\n  </table>\n</div>'},useData:true});this["Templates"]["quality-gate-detail-header"]=Handlebars.template({1:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h='  <div class="search-navigator-header-actions">\n    <div class="button-group">\n      <button id="quality-gate-rename">'+g((b.t||a&&a.t||f).call(a,"rename",{name:"t",hash:{},data:d}))+'</button>\n      <button id="quality-gate-copy">'+g((b.t||a&&a.t||f).call(a,"copy",{name:"t",hash:{},data:d}))+"</button>\n";e=b["if"].call(a,a!=null?a["default"]:a,{name:"if",hash:{},fn:this.program(2,d),inverse:this.program(4,d),data:d});if(e!=null){h+=e}return h+'      <button id="quality-gate-delete" class="button-red">'+g((b.t||a&&a.t||f).call(a,"delete",{name:"t",hash:{},data:d}))+"</button>\n    </div>\n  </div>\n"},2:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'        <button id="quality-gate-unset-as-default">'+f((b.t||a&&a.t||e).call(a,"unset_as_default",{name:"t",hash:{},data:d}))+"</button>\n"},4:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'        <button id="quality-gate-set-as-default">'+f((b.t||a&&a.t||e).call(a,"set_as_default",{name:"t",hash:{},data:d}))+"</button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='<h2 class="search-navigator-header-component">'+i((f=(f=b.name||(a!=null?a.name:a))!=null?f:h,typeof f===g?f.call(a,{name:"name",hash:{},data:d}):f))+"</h2>\n\n";e=b["if"].call(a,a!=null?a.canEdit:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j},useData:true});this["Templates"]["quality-gate-detail-projects"]=Handlebars.template({1:function(a,b,c,d){var e,f='  <p class="quality-gate-default-message">\n';e=b["if"].call(a,a!=null?a.canEdit:a,{name:"if",hash:{},fn:this.program(2,d),inverse:this.program(4,d),data:d});if(e!=null){f+=e}return f+"  </p>\n"},2:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return"    "+f((b.t||a&&a.t||e).call(a,"quality_gates.projects_for_default.edit",{name:"t",hash:{},data:d}))+"\n"},4:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return"    "+f((b.t||a&&a.t||e).call(a,"quality_gates.projects_for_default",{name:"t",hash:{},data:d}))+"\n"},6:function(a,b,c,d){return'  <div id="select-list-projects"></div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h='<div class="quality-gate-section-name">'+g((b.t||a&&a.t||f).call(a,"quality_gates.projects",{name:"t",hash:{},data:d}))+"</div>\n\n";e=b["if"].call(a,a!=null?a["default"]:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.program(6,d),data:d});if(e!=null){h+=e}return h},useData:true});this["Templates"]["quality-gate-detail"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<div id="quality-gate-conditions" class="quality-gate-section"></div>\n<div id="quality-gate-projects" class="quality-gate-section"></div>'},useData:true});this["Templates"]["quality-gate-edit"]=Handlebars.template({1:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return"      <h2>"+f((b.t||a&&a.t||e).call(a,"quality_gates",a!=null?a.method:a,{name:"t",hash:{},data:d}))+"</h2>\n"},3:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return"<button>"+f((b.t||a&&a.t||e).call(a,"save",{name:"t",hash:{},data:d}))+"</button>"},5:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return"<button>"+f((b.t||a&&a.t||e).call(a,"copy",{name:"t",hash:{},data:d}))+"</button>"},7:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return"<button>"+f((b.t||a&&a.t||e).call(a,"create",{name:"t",hash:{},data:d}))+"</button>"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g=b.helperMissing,h=this.escapeExpression,i="function",j='<form>\n  <div class="modal-head">\n';e=b["if"].call(a,a!=null?a.method:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){j+=e}j+='  </div>\n\n  <div class="modal-body">\n    <div class="modal-error"></div>\n    <div class="modal-field">\n      <label for="quality-gate-edit-name">'+h((b.t||a&&a.t||g).call(a,"name",{name:"t",hash:{},data:d}))+' <em class="mandatory">*</em></label>\n      <input id="quality-gate-edit-name" type="text" size="50" maxlength="100" value="'+h((f=(f=b.name||(a!=null?a.name:a))!=null?f:g,typeof f===i?f.call(a,{name:"name",hash:{},data:d}):f))+'">\n    </div>\n  </div>\n\n  <div class="modal-foot">\n    ';e=(b.eq||a&&a.eq||g).call(a,a!=null?a.method:a,"rename",{name:"eq",hash:{},fn:this.program(3,d),inverse:this.noop,data:d});if(e!=null){j+=e}j+="\n    ";e=(b.eq||a&&a.eq||g).call(a,a!=null?a.method:a,"copy",{name:"eq",hash:{},fn:this.program(5,d),inverse:this.noop,data:d});if(e!=null){j+=e}j+="\n    ";e=(b.eq||a&&a.eq||g).call(a,a!=null?a.method:a,"create",{name:"eq",hash:{},fn:this.program(7,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j+'\n    <a id="quality-gate-cancel-create" class="action">'+h((b.t||a&&a.t||g).call(a,"cancel",{name:"t",hash:{},data:d}))+"</a>\n  </div>\n</form>"},useData:true});this["Templates"]["quality-gate-sidebar-list-empty"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'<div class="line line-nowrap">'+f((b.t||a&&a.t||e).call(a,"quality_gates.noQualityGates",{name:"t",hash:{},data:d}))+"</div>"},useData:true});this["Templates"]["quality-gate-sidebar-list-item"]=Handlebars.template({1:function(a,b,c,d){var e=b.helperMissing,f=this.escapeExpression;return'  <small class="note">'+f((b.t||a&&a.t||e).call(a,"default",{name:"t",hash:{},data:d}))+"</small>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j=i((f=(f=b.name||(a!=null?a.name:a))!=null?f:h,typeof f===g?f.call(a,{name:"name",hash:{},data:d}):f))+"\n";e=b["if"].call(a,a!=null?a["default"]:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d});if(e!=null){j+=e}return j},useData:true});this["Templates"]["quality-gates-layout"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<div class="search-navigator-side search-navigator-side-light">\n  <div class="search-navigator-filters"></div>\n  <div class="quality-gates-results panel"></div>\n</div>\n\n<div class="search-navigator-workspace">\n  <div class="search-navigator-workspace-header"></div>\n  <div class="search-navigator-workspace-list"></div>\n</div>\n'},useData:true});define("templates/quality-gates",function(){});(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("quality-gate/views/quality-gate-sidebar-list-item-view",["templates/quality-gates"],function(){var a;return a=function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.tagName="a";c.prototype.className="list-group-item";c.prototype.template=Templates["quality-gate-sidebar-list-item"];c.prototype.modelEvents={change:"render"};c.prototype.events={click:"showQualityGate"};c.prototype.onRender=function(){return this.$el.toggleClass("active",this.options.highlighted)};c.prototype.showQualityGate=function(){return this.options.app.router.navigate("show/"+this.model.id,{trigger:true})};return c}(Marionette.ItemView)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("quality-gate/views/quality-gate-sidebar-list-empty-view",["templates/quality-gates"],function(){var a;return a=function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.tagName="li";c.prototype.className="empty";c.prototype.template=Templates["quality-gate-sidebar-list-empty"];return c}(Marionette.ItemView)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("quality-gate/views/quality-gate-sidebar-list-view",["quality-gate/views/quality-gate-sidebar-list-item-view","quality-gate/views/quality-gate-sidebar-list-empty-view"],function(a,c){var d;return d=function(d){b(e,d);function e(){return e.__super__.constructor.apply(this,arguments)}e.prototype.className="list-group";e.prototype.itemView=a;e.prototype.emptyView=c;e.prototype.itemViewOptions=function(a){return{app:this.options.app,highlighted:a.get("id")===+this.highlighted}};e.prototype.highlight=function(a){this.highlighted=a;return this.render()};return e}(Marionette.CollectionView)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("quality-gate/views/quality-gate-actions-view",["quality-gate/models/quality-gate","templates/quality-gates"],function(a){var c;return c=function(c){b(d,c);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.template=Templates["quality-gate-actions"];d.prototype.events={"click #quality-gate-add":"add"};d.prototype.add=function(){var b;b=new a;this.options.app.qualityGateEditView.method="create";this.options.app.qualityGateEditView.model=b;return this.options.app.qualityGateEditView.show()};d.prototype.serializeData=function(){return _.extend(d.__super__.serializeData.apply(this,arguments),{canEdit:this.options.app.canEdit})};return d}(Marionette.ItemView)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("quality-gate/views/quality-gate-edit-view",["templates/quality-gates"],function(){var a;return a=function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.template=Templates["quality-gate-edit"];c.prototype.ui={nameInput:"#quality-gate-edit-name"};c.prototype.events={"submit form":"onSubmit","click #quality-gate-cancel-create":"hide"};c.prototype.onRender=function(){return this.$el.dialog({dialogClass:"no-close",width:"600px",draggable:false,autoOpen:false,modal:true,minHeight:50,resizable:false,title:null})};c.prototype.show=function(){this.render();this.$el.dialog("open");return this.ui.nameInput.focus()};c.prototype.hide=function(){return this.$el.dialog("close")};c.prototype.saveRequest=function(a){return jQuery.ajax({type:"POST",url:""+baseUrl+"/api/qualitygates/"+this.method,data:a}).done(function(a){return function(){return a.hide()}}(this))};c.prototype.onSubmit=function(a){a.preventDefault();switch(this.method){case"create":return this.createQualityGate();case"copy":return this.copyQualityGate();case"rename":return this.saveQualityGate()}};c.prototype.createQualityGate=function(){var a;a={name:this.ui.nameInput.val()};return this.saveRequest(a).done(function(a){return function(b){a.model.set({id:b.id,name:b.name});a.options.app.qualityGates.add(a.model);return a.options.app.router.navigate("show/"+b.id,{trigger:true})}}(this))};c.prototype.saveQualityGate=function(){var a;a={id:this.model.id,name:this.ui.nameInput.val()};return this.saveRequest(a).done(function(a){return function(b){return a.model.set({name:b.name})}}(this))};c.prototype.copyQualityGate=function(){var a;a={id:this.model.id,name:this.ui.nameInput.val()};return this.saveRequest(a).done(function(a){return function(b){a.model.set({id:b.id,name:b.name});a.options.app.qualityGates.add(a.model);return a.options.app.router.navigate("show/"+b.id,{trigger:true})}}(this))};c.prototype.serializeData=function(){if(this.model){return _.extend(this.model.toJSON(),{method:this.method})}};return c}(Marionette.ItemView)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("quality-gate/models/condition",[],function(){var a;return a=function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.url=function(){return""+baseUrl+"/api/qualitygates/create_condition"};c.prototype.save=function(){var a,b;b=!this.isNew()?"update":"create";a={metric:this.get("metric").key,op:this.get("op"),warning:this.get("warning"),error:this.get("error")};if(this.get("period")!=="0"){a.period=this.get("period")}if(!this.isNew()){a.id=this.id}else{a.gateId=this.get("gateId")}return jQuery.ajax({url:""+baseUrl+"/api/qualitygates/"+b+"_condition",type:"POST",data:a}).done(function(a){return function(b){return a.set("id",b.id)}}(this))};c.prototype["delete"]=function(){return jQuery.ajax({url:""+baseUrl+"/api/qualitygates/delete_condition",type:"POST",data:{id:this.id}})};return c}(Backbone.Model)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("quality-gate/collections/conditions",["quality-gate/models/condition"],function(a){var c;return c=function(c){b(d,c);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.model=a;d.prototype.comparator="metric";return d}(Backbone.Collection)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("quality-gate/views/quality-gate-detail-header-view",["quality-gate/models/quality-gate","templates/quality-gates"],function(a){var c;return c=function(c){b(d,c);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.template=Templates["quality-gate-detail-header"];d.prototype.spinner='<i class="spinner"></i>';d.prototype.modelEvents={change:"render"};d.prototype.ui={deleteButton:"#quality-gate-delete"};d.prototype.events={"click #quality-gate-rename":"renameQualityGate","click #quality-gate-copy":"copyQualityGate","click @ui.deleteButton":"deleteQualityGate","click #quality-gate-set-as-default":"setAsDefault","click #quality-gate-unset-as-default":"unsetAsDefault"};d.prototype.renameQualityGate=function(){this.options.app.qualityGateEditView.method="rename";this.options.app.qualityGateEditView.model=this.model;return this.options.app.qualityGateEditView.show()};d.prototype.copyQualityGate=function(){var b;b=new a(this.model.toJSON());b.set("default",false);this.options.app.qualityGateEditView.method="copy";this.options.app.qualityGateEditView.model=b;return this.options.app.qualityGateEditView.show()};d.prototype.deleteQualityGate=function(){var a;a=this.model.get("default")?"quality_gates.delete.confirm.default":"quality_gates.delete.confirm.message";a=tp(a,this.model.get("name"));return confirmDialog({title:t("quality_gates.delete"),html:a,yesLabel:t("delete"),noLabel:t("cancel"),yesHandler:function(a){return function(){return jQuery.ajax({type:"POST",url:""+baseUrl+"/api/qualitygates/destroy",data:{id:a.model.id}}).done(function(){return a.options.app.deleteQualityGate(a.model.id)})}}(this),always:function(a){return function(){return a.ui.deleteButton.blur()}}(this)})};d.prototype.changeDefault=function(a){var b,c;b=a?{id:this.model.id}:{};c=a?"set_as_default":"unset_default";return jQuery.ajax({type:"POST",url:""+baseUrl+"/api/qualitygates/"+c,data:b}).done(function(a){return function(){a.options.app.unsetDefaults(a.model.id);return a.model.set("default",!a.model.get("default"))}}(this))};d.prototype.setAsDefault=function(){return this.changeDefault(true)};d.prototype.unsetAsDefault=function(){return this.changeDefault(false)};d.prototype.serializeData=function(){return _.extend(d.__super__.serializeData.apply(this,arguments),{canEdit:this.options.app.canEdit})};return d}(Marionette.ItemView)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("quality-gate/views/quality-gate-detail-condition-view",["templates/quality-gates"],function(){var a;return a=function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.tagName="tr";c.prototype.template=Templates["quality-gate-detail-condition"];c.prototype.spinner='<i class="spinner"></i>';c.prototype.modelEvents={"change:id":"render"};c.prototype.ui={periodSelect:"[name=period]",operatorSelect:"[name=operator]",warningInput:"[name=warning]",errorInput:"[name=error]",actionsBox:".quality-gate-condition-actions",updateButton:".update-condition",deleteButton:".delete-condition"};c.prototype.events={"click @ui.updateButton":"saveCondition","click @ui.deleteButton":"deleteCondition","click .add-condition":"saveCondition","click .cancel-add-condition":"cancelAddCondition","keyup :input":"enableUpdate","change :input":"enableUpdate"};c.prototype.initialize=function(){return this.populateMetric()};c.prototype.populateMetric=function(){var a,b;b=this.model.get("metric");a=_.findWhere(this.options.app.metrics,{key:b});if(a!=null){switch(a.type){case"WORK_DUR":a.placeholder="1d 7h 59min";break;case"RATING":a.placeholder="A"}}this.model.set({metric:a},{silent:true});return this.model.set({isDiffMetric:a.key.indexOf("new_")===0},{silent:true})};c.prototype.onRender=function(){this.ui.periodSelect.val(this.model.get("period")||"0");this.ui.operatorSelect.val(this.model.get("op"));this.ui.warningInput.val(this.model.get("warning"));this.ui.errorInput.val(this.model.get("error"));this.ui.periodSelect.select2({allowClear:false,minimumResultsForSearch:999,width:"100%"});this.ui.operatorSelect.select2({allowClear:false,minimumResultsForSearch:999,width:"150px"});if(this.model.isNew()){return this.ui.periodSelect.select2("open")}};c.prototype.showSpinner=function(){jQuery(this.spinner).prependTo(this.ui.actionsBox);return this.ui.actionsBox.find(":not(.spinner)").hide()};c.prototype.hideSpinner=function(){this.ui.actionsBox.find(".spinner").remove();return this.ui.actionsBox.find(":not(.spinner)").show()};c.prototype.saveCondition=function(){this.showSpinner();this.model.set({period:this.ui.periodSelect.val(),op:this.ui.operatorSelect.val(),warning:this.ui.warningInput.val(),error:this.ui.errorInput.val()});return this.model.save().always(function(a){return function(){a.ui.updateButton.prop("disabled",true);return a.hideSpinner()}}(this)).done(function(a){return function(){return a.options.collectionView.updateConditions()}}(this))};c.prototype.deleteCondition=function(){return confirmDialog({title:t("quality_gates.delete_condition"),html:tp("quality_gates.delete_condition.confirm.message",this.model.get("metric").name),yesLabel:t("delete"),noLabel:t("cancel"),yesHandler:function(a){return function(){a.showSpinner();return a.model["delete"]().done(function(){a.options.collectionView.collection.remove(a.model);a.options.collectionView.updateConditions();return a.close()})}}(this),always:function(a){return function(){return a.ui.deleteButton.blur()}}(this)})};c.prototype.cancelAddCondition=function(){return this.close()};c.prototype.enableUpdate=function(){return this.ui.updateButton.prop("disabled",false)};c.prototype.serializeData=function(){var a,b;b=_.findWhere(this.options.app.periods,{key:this.model.get("period")});a=_.extend(c.__super__.serializeData.apply(this,arguments),{canEdit:this.options.app.canEdit,periods:this.options.app.periods,periodText:b!=null?b.text:void 0});if(!this.options.app.canEdit){_.extend(a,{warning:jQuery("<input>").data("type",this.model.get("metric").type).val(this.model.get("warning")).originalVal(),error:jQuery("<input>").data("type",this.model.get("metric").type).val(this.model.get("error")).originalVal()})}return a};return c}(Marionette.ItemView)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("quality-gate/views/quality-gate-detail-conditions-empty-view",["templates/quality-gates"],function(){var a;return a=function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.tagName="tr";c.prototype.template=Templates["quality-gate-detail-conditions-empty"];return c}(Marionette.ItemView)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("quality-gate/views/quality-gate-detail-conditions-view",["quality-gate/models/condition","quality-gate/views/quality-gate-detail-condition-view","quality-gate/views/quality-gate-detail-conditions-empty-view","templates/quality-gates"],function(a,c,d){
var e;return e=function(e){b(f,e);function f(){return f.__super__.constructor.apply(this,arguments)}f.prototype.template=Templates["quality-gate-detail-conditions"];f.prototype.itemView=c;f.prototype.emptyView=d;f.prototype.itemViewContainer=".quality-gate-conditions tbody";f.prototype.ui={metricSelect:"#quality-gate-new-condition-metric",introductionShowMore:".quality-gate-introduction-show-more",introductionMore:".quality-gate-introduction-more"};f.prototype.events={"click @ui.introductionShowMore":"showMoreIntroduction","change @ui.metricSelect":"addCondition"};f.prototype.itemViewOptions=function(){return{app:this.options.app,collectionView:this}};f.prototype.appendHtml=function(a,b){var c;if(a.isBuffering){a.elBuffer.appendChild(b.el);return a._bufferedChildren.push(b)}else{c=this.getItemViewContainer(a);return c.prepend(b.el)}};f.prototype.onRender=function(){this.ui.introductionMore.hide();return this.ui.metricSelect.select2({allowClear:false,width:"250px",placeholder:t("alerts.select_metric")})};f.prototype.groupedMetrics=function(){var a;a=this.options.app.metrics;a=_.filter(a,function(a){return!a.hidden});a=_.groupBy(a,"domain");a=_.map(a,function(a,b){return{domain:b,metrics:_.sortBy(a,"short_name")}});return _.sortBy(a,"domain")};f.prototype.serializeData=function(){return _.extend(f.__super__.serializeData.apply(this,arguments),{canEdit:this.options.app.canEdit,metricGroups:this.groupedMetrics()})};f.prototype.showMoreIntroduction=function(){this.ui.introductionShowMore.hide();return this.ui.introductionMore.show()};f.prototype.addCondition=function(){var b,c;c=this.ui.metricSelect.val();this.ui.metricSelect.select2("val","");b=new a({metric:c,gateId:this.options.gateId});return this.collection.unshift(b)};f.prototype.updateConditions=function(){var a;a=this.collection.map(function(a){return _.extend(a.toJSON(),{metric:a.get("metric").key})});return this.options.qualityGate.set({conditions:a},{silent:true})};return f}(Marionette.CompositeView)})}).call(this);define("common/select-list",[],function(){var a=jQuery,b=null;var c=Backbone.Collection.extend({parse:function(a){this.more=a.more;return a.results},fetch:function(b){var c=a.extend({page:1,pageSize:100},b.data||{}),d=a.extend({},b,{data:c});this.settings={url:d.url,data:c};Backbone.Collection.prototype.fetch.call(this,d)},fetchNextPage:function(b){if(this.more){var c=this.settings.data.page+1,d=a.extend(this.settings,b);d.data.page=c;d.remove=false;this.fetch(d)}else{b.error()}}});var d=Backbone.View.extend({tagName:"li",template:function(a){return'<input class="select-list-list-checkbox" type="checkbox">'+'<div class="select-list-list-item">'+a+"</div>"},events:{"change .select-list-list-checkbox":"toggle"},initialize:function(a){this.listenTo(this.model,"change",this.render);this.settings=a.settings},render:function(){this.$el.html(this.template(this.settings.format(this.model.toJSON())));this.$("input").prop("name",this.model.get("name"));this.$el.toggleClass("selected",this.model.get("selected"));this.$(".select-list-list-checkbox").prop("title",this.model.get("selected")?this.settings.tooltips.deselect:this.settings.tooltips.select).prop("checked",this.model.get("selected"));if(this.settings.readOnly){this.$(".select-list-list-checkbox").prop("disabled",true)}},remove:function(a){if(a){var b=this;b.$el.addClass(this.model.get("selected")?"added":"removed");setTimeout(function(){Backbone.View.prototype.remove.call(b,arguments)},500)}else{Backbone.View.prototype.remove.call(this,arguments)}},toggle:function(){var c=this.model.get("selected"),d=this,e=c?this.settings.deselectUrl:this.settings.selectUrl,f=a.extend({},this.settings.extra||{});f[this.settings.selectParameter]=this.model.get(this.settings.selectParameterValue);d.$el.addClass("progress");a.ajax({url:e,type:"POST",data:f}).done(function(){d.model.set("selected",!c)}).fail(b).always(function(){d.$el.removeClass("progress")})}});var e=Backbone.View.extend({template:function(a){return'<div class="select-list-container">'+'<div class="select-list-control">'+'<div class="select-list-check-control">'+'<a class="select-list-control-button" name="selected">'+a.selected+"</a>"+'<a class="select-list-control-button" name="deselected">'+a.deselected+"</a>"+'<a class="select-list-control-button" name="all">'+a.all+"</a>"+"</div>"+'<div class="select-list-search-control">'+'<input type="text" placeholder="Search">'+'<a class="select-list-search-control-clear">&times;</a>'+"</div>"+"</div>"+'<div class="select-list-list-container">'+'<ul class="select-list-list"></ul>'+"</div>"+"</div>"},events:{"click .select-list-control-button[name=selected]":"showSelected","click .select-list-control-button[name=deselected]":"showDeselected","click .select-list-control-button[name=all]":"showAll","click .select-list-search-control-clear":"clearSearch"},initialize:function(a){this.listenTo(this.collection,"add",this.renderListItem);this.listenTo(this.collection,"reset",this.renderList);this.listenTo(this.collection,"remove",this.removeModel);this.listenTo(this.collection,"change:selected",this.confirmFilter);this.settings=a.settings;var b=this;this.showFetchSpinner=function(){b.$listContainer.addClass("loading")};this.hideFetchSpinner=function(){b.$listContainer.removeClass("loading")};var c=function(){b.showFetchSpinner();b.collection.fetchNextPage({success:function(){b.hideFetchSpinner()},error:function(){b.hideFetchSpinner()}})};this.onScroll=_.throttle(c,1e3)},render:function(){var c=this,d=function(){c.search()};this.$el.html(this.template(this.settings.labels)).width(this.settings.width);this.$listContainer=this.$(".select-list-list-container");if(!this.settings.readOnly){this.$listContainer.height(this.settings.height).css("overflow","auto").on("scroll",function(){c.scroll()})}else{this.$listContainer.addClass("select-list-list-container-readonly")}this.$list=this.$(".select-list-list");var e=this.$(".select-list-search-control input").on("keyup",_.debounce(d,250));if(this.settings.focusSearch){setTimeout(function(){e.focus()},250)}this.listItemViews=[];b=function(){a("<div>").addClass("error").text(c.settings.errorMessage).insertBefore(c.$el)};if(this.settings.readOnly){this.$(".select-list-control").remove()}},renderList:function(){this.listItemViews.forEach(function(a){a.remove()});this.listItemViews=[];if(this.collection.length>0){this.collection.each(this.renderListItem,this)}else{if(this.settings.readOnly){this.renderEmpty()}}this.$listContainer.scrollTop(0)},renderListItem:function(a){var b=new d({model:a,settings:this.settings});this.listItemViews.push(b);this.$list.append(b.el);b.render()},renderEmpty:function(){this.$list.append('<li class="empty-message">'+this.settings.labels.noResults+"</li>")},confirmFilter:function(a){if(this.currentFilter!=="all"){this.collection.remove(a)}},removeModel:function(a,b,c){this.listItemViews[c.index].remove(true);this.listItemViews.splice(c.index,1)},filterBySelection:function(a){var c=this;a=this.currentFilter=a||this.currentFilter;if(a!=null){this.$(".select-list-check-control").toggleClass("disabled",false);this.$(".select-list-search-control").toggleClass("disabled",true);this.$(".select-list-search-control input").val("");this.$(".select-list-control-button").removeClass("active").filter("[name="+a+"]").addClass("active");this.showFetchSpinner();this.collection.fetch({url:this.settings.searchUrl,reset:true,data:{selected:a},success:function(){c.hideFetchSpinner()},error:b})}},showSelected:function(){this.filterBySelection("selected")},showDeselected:function(){this.filterBySelection("deselected")},showAll:function(){this.filterBySelection("all")},search:function(){var a=this.$(".select-list-search-control input").val(),c=a.length>0,d=this;this.$(".select-list-check-control").toggleClass("disabled",c);this.$(".select-list-search-control").toggleClass("disabled",!c);if(c){this.showFetchSpinner();this.currentFilter="all";this.collection.fetch({url:this.settings.searchUrl,reset:true,data:{query:a},success:function(){d.hideFetchSpinner()},error:b})}else{this.filterBySelection()}},searchByQuery:function(a){this.$(".select-list-search-control input").val(a);this.search()},clearSearch:function(){this.filterBySelection()},scroll:function(){var a=this.$listContainer.scrollTop()>=this.$list[0].scrollHeight-this.$listContainer.outerHeight();if(a&&this.collection.more){this.onScroll()}}});window.SelectList=function(b){this.settings=a.extend(window.SelectList.defaults,b);this.collection=new c;this.view=new e({el:this.settings.el,collection:this.collection,settings:this.settings});this.view.render();this.filter("selected");return this};window.SelectList.prototype.filter=function(a){this.view.filterBySelection(a);return this};window.SelectList.prototype.search=function(a){this.view.searchByQuery(a);return this};window.SelectList.defaults={width:"50%",height:400,readOnly:false,focusSearch:true,format:function(a){return a.value},labels:{selected:"Selected",deselected:"Deselected",all:"All",noResults:""},tooltips:{select:"Click this to select item",deselect:"Click this to deselect item"},errorMessage:"Something gone wrong, try to reload the page and try again."}});(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("quality-gate/views/quality-gate-detail-projects-view",["common/select-list","templates/quality-gates"],function(){var a;return a=function(a){b(c,a);function c(){return c.__super__.constructor.apply(this,arguments)}c.prototype.template=Templates["quality-gate-detail-projects"];c.prototype.onRender=function(){if(!this.model.get("default")){return new SelectList({el:this.$("#select-list-projects"),width:"100%",readOnly:!this.options.app.canEdit,focusSearch:false,format:function(a){return a.name},searchUrl:""+baseUrl+"/api/qualitygates/search?gateId="+this.options.gateId,selectUrl:""+baseUrl+"/api/qualitygates/select",deselectUrl:""+baseUrl+"/api/qualitygates/deselect",extra:{gateId:this.options.gateId},selectParameter:"projectId",selectParameterValue:"id",labels:{selected:t("quality_gates.projects.with"),deselected:t("quality_gates.projects.without"),all:t("quality_gates.projects.all"),noResults:t("quality_gates.projects.noResults")},tooltips:{select:t("quality_gates.projects.select_hint"),deselect:t("quality_gates.projects.deselect_hint")}})}};c.prototype.serializeData=function(){return _.extend(c.__super__.serializeData.apply(this,arguments),{canEdit:this.options.app.canEdit})};return c}(Marionette.ItemView)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("quality-gate/views/quality-gate-detail-view",["quality-gate/collections/conditions","quality-gate/views/quality-gate-detail-header-view","quality-gate/views/quality-gate-detail-conditions-view","quality-gate/views/quality-gate-detail-projects-view","templates/quality-gates"],function(a,c,d,e){var f;return f=function(c){b(f,c);function f(){return f.__super__.constructor.apply(this,arguments)}f.prototype.template=Templates["quality-gate-detail"];f.prototype.regions={conditionsRegion:"#quality-gate-conditions",projectsRegion:"#quality-gate-projects"};f.prototype.modelEvents={change:"render"};f.prototype.onRender=function(){this.showConditions();return this.showProjects()};f.prototype.showConditions=function(){var b,c;b=new a(this.model.get("conditions"));c=new d({app:this.options.app,collection:b,gateId:this.model.id,qualityGate:this.model});return this.conditionsRegion.show(c)};f.prototype.showProjects=function(){var a;a=new e({app:this.options.app,model:this.model,gateId:this.model.id});return this.projectsRegion.show(a)};return f}(Marionette.Layout)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("quality-gate/router",["quality-gate/models/quality-gate","quality-gate/views/quality-gate-detail-view","quality-gate/views/quality-gate-detail-header-view"],function(a,c,d){var e;return e=function(a){b(e,a);function e(){return e.__super__.constructor.apply(this,arguments)}e.prototype.routes={"show/:id":"show"};e.prototype.initialize=function(a){return this.app=a.app};e.prototype.show=function(a){var b,e,f;b=this.app.qualityGates.get(a);if(b){this.app.qualityGateSidebarListView.highlight(a);e=new d({app:this.app,model:b});this.app.layout.headerRegion.show(e);f=new c({app:this.app,model:b});this.app.layout.detailsRegion.show(f);f.$el.hide();return b.fetch().done(function(){return f.$el.show()})}};return e}(Backbone.Router)})}).call(this);(function(){var a={}.hasOwnProperty,b=function(b,c){for(var d in c){if(a.call(c,d))b[d]=c[d]}function e(){this.constructor=b}e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};define("quality-gate/layout",["templates/quality-gates"],function(){var a,c;a=jQuery;return c=function(c){b(d,c);function d(){return d.__super__.constructor.apply(this,arguments)}d.prototype.template=Templates["quality-gates-layout"];d.prototype.regions={headerRegion:".search-navigator-workspace-header",actionsRegion:".search-navigator-filters",resultsRegion:".quality-gates-results",detailsRegion:".search-navigator-workspace-list"};d.prototype.onRender=function(){var b;a(".search-navigator").addClass("sticky");b=a(".search-navigator").offset().top;this.$(".search-navigator-workspace-header").css({top:b});return this.$(".search-navigator-side").css({top:b}).isolatedScroll()};return d}(Marionette.Layout)})}).call(this);(function(){requirejs.config({baseUrl:""+baseUrl+"/js"});requirejs(["quality-gate/collections/quality-gates","quality-gate/views/quality-gate-sidebar-list-view","quality-gate/views/quality-gate-actions-view","quality-gate/views/quality-gate-edit-view","quality-gate/router","quality-gate/layout"],function(a,b,c,d,e,f){var g,h,i,j;g=new Marionette.Application;g.qualityGates=new a;g.openFirstQualityGate=function(){if(this.qualityGates.length>0){return this.router.navigate("show/"+this.qualityGates.models[0].get("id"),{trigger:true})}else{return g.layout.detailsRegion.reset()}};g.deleteQualityGate=function(a){g.qualityGates.remove(a);return g.openFirstQualityGate()};g.unsetDefaults=function(a){return g.qualityGates.each(function(b){if(b.id!==a){return b.set("default",false)}})};g.addInitializer(function(){this.layout=new f({app:this});jQuery("#quality-gates").append(this.layout.render().el);return jQuery("#footer").addClass("search-navigator-footer")});g.addInitializer(function(){this.codingRulesHeaderView=new c({app:this});return this.layout.actionsRegion.show(this.codingRulesHeaderView)});g.addInitializer(function(){this.qualityGateSidebarListView=new b({collection:this.qualityGates,app:this});return this.layout.resultsRegion.show(this.qualityGateSidebarListView)});g.addInitializer(function(){this.qualityGateEditView=new d({app:this});return this.qualityGateEditView.render()});g.addInitializer(function(){this.router=new e({app:this});return Backbone.history.start()});g.addInitializer(function(){var a;a=Backbone.history.fragment==="";if(a){return g.openFirstQualityGate()}});h=jQuery.ajax({url:""+baseUrl+"/api/qualitygates/app"}).done(function(a){return function(a){g.canEdit=a.edit;g.periods=a.periods;return g.metrics=a.metrics}}(this));j=g.qualityGates.fetch();i=window.requestMessages();return jQuery.when(j,h,i).done(function(){return g.start()})})}).call(this);define("quality-gate/app",function(){});